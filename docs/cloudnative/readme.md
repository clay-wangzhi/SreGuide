---
isOriginal: true
category: äº‘åŸç”Ÿ
tag:
  - Kubernetes
---

# äº‘åŸç”Ÿå®è·µæ€»ç»“

> ğŸ‘‰ ä½œä¸ºä¸€åSREï¼Œåœ¨è¿ç»´äº‘åŸç”Ÿè¿‡ç¨‹ä¸­çš„å®è·µæ€»ç»“ã€æ²‰æ·€ï¼Œä»¥ä¾¿è‡ªå·±å›é¡¾å’Œä»–äººæŸ¥é˜…ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ä½ åœ¨äº‘åŸç”Ÿé¢†åŸŸçš„å¹³ç¨³è½åœ°ã€‚
>

## ä¼ä¸šè½åœ°äº‘åŸç”Ÿçš„ç›®çš„

ä¸€å¥è¯æ¦‚æ‹¬ï¼š**åœ¨ä¿è¯ç¨³å®šæ€§çš„å‰æä¸‹ï¼Œé™æœ¬å¢æ•ˆ**

ç›®æ ‡æ‹†è§£ï¼š

* ä¿éšœç¨³å®šæ€§
  * å»ºè®¾é«˜å¯ç”¨æ€§ï¼šåŸºç¡€ç»„ä»¶ï¼ˆMasterä¸‰å¤§ä»¶/Etcdç­‰ï¼‰é«˜å¯ç”¨ã€å¤šæœºæˆ¿ã€å¤šé›†ç¾¤ã€Pod é«˜å¯ç”¨
  * æŒç»­è¿›è¡Œé£é™©æ²»ç†ï¼šè€¦åˆåº¦ã€æ•…éšœå‘ç°ã€å®¹é‡ã€å®¹ç¾ã€å˜æ›´åŠå¯è¿ç»´æ€§ã€å®‰å…¨æ€§
  * å»ºè®¾å¯è§‚æµ‹æ€§ï¼šMetricsã€Loggingã€Tracingã€Eventsã€Chaosã€Dashboardã€Inspection
  * æ•…éšœæ¼”ç»ƒï¼šApiserver é«˜å¯ç”¨æ•…éšœæ¼”ç»ƒã€Etcd é«˜å¯ç”¨æ•…éšœæ¼”ç»ƒã€åŒæœºæˆ¿åˆ‡æ¢æ•…éšœæ¼”ç»ƒ
  * é¢„æ¡ˆå»ºè®¾ï¼šEtcd å¤‡ä»½æ¢å¤ã€Velero å¤‡ä»½æ¢å¤ã€Master èŠ‚ç‚¹ç´§æ€¥æ‰©å®¹ã€Etcd èŠ‚ç‚¹ç´§æ€¥æ‰©å®¹ã€å¤šé›†ç¾¤æ•…éšœè¿ç§»
  * æ€§èƒ½/å®¹é‡è¯„ä¼°ï¼šç‰©ç†æœºæ€§èƒ½å‹æµ‹ã€Master ç»„ä»¶æ€§èƒ½å‹æµ‹ã€Etcd æ€§èƒ½å‹æµ‹ã€åº”ç”¨æ€§èƒ½å‹æµ‹
* èŠ‚çº¦æˆæœ¬
  * æ¨è¿›æ— çŠ¶æ€åº”ç”¨å®¹å™¨åŒ–
  * æ¨è¿›æ— çŠ¶æ€åº”ç”¨æ¥å…¥å¼¹æ€§ä¼¸ç¼©
  * K8s è°ƒåº¦èƒ½åŠ›å¢å¼ºï¼šé¢„é€‰ã€ä¼˜é€‰ã€é‡è°ƒåº¦ï¼ˆä½¿èµ„æºåˆ†é…å‡åŒ€ã€æé«˜è£…ç®±ç‡ã€æé«˜èµ„æºä½¿ç”¨ç‡ï¼‰
  * æŒç»­è¿›è¡Œåº”ç”¨å®¹é‡æ²»ç†ï¼šæ¨ªå‘ç¼©å®¹ï¼ˆé™å‰¯æœ¬æ•°ï¼‰ã€çºµå‘ç¼©å®¹ï¼ˆé™è§„æ ¼ CPU/MEMï¼‰
  * å»ºç«‹èµ„æºç”»åƒï¼šè°ƒåº¦å’Œå®¹é‡æ²»ç†ä¾èµ–èµ„æºç”»åƒ
* æé«˜æ•ˆç‡ï¼ˆå¹³å°èƒ½åŠ›å»ºè®¾ï¼‰
  * è‡ªåŠ¨åŒ–è¿ç»´å¹³å°ï¼ˆé¢å‘å¼€å‘ï¼‰ï¼šå®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€Ingress ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€HPA ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æ‰©ç¼©å®¹&å‡é™é…ã€å®¹å™¨èµ„æºé¢„ç•™ã€Java Dump & GCLogã€å±è”½/æ¢å¤å‘Šè­¦
  * å‘å¸ƒç³»ç»Ÿï¼ˆé¢å‘å¼€å‘ï¼‰ï¼šJava/Nodejs/é™æ€èµ„æºæ¨¡ç‰ˆã€è‡ªå®šä¹‰é•œåƒã€è‡ªå®šä¹‰æ¨¡ç‰ˆã€æ»šåŠ¨å‘å¸ƒã€ç°åº¦å‘å¸ƒã€å¯åŠ¨æ—¥å¿—æŸ¥çœ‹
  * å ¡å’æœºï¼ˆé¢å‘å¼€å‘ï¼‰ï¼šWeb ç»ˆç«¯ã€æ–‡ä»¶ç®¡ç†ã€æ—¥å¿—å®¡è®¡
  * SRE å¹³å°ï¼ˆé¢å‘è¿ç»´ï¼‰ï¼šé›†ç¾¤å®‰è£…ã€é›†ç¾¤æ‰©ç¼©å®¹ã€é›†ç¾¤å‡çº§ã€æ’ä»¶å®‰è£…ã€Ingress èŠ‚ç‚¹æ‰©ç¼©å®¹ã€Web Kubectlã€é›†ç¾¤è‡ªåŠ¨åŒ–å·¡æ£€ã€å¤šé›†ç¾¤è¿ç§»
  
  
  
  æ€»ç»“ä¸ºä¸‹å›¾ï¼Œæ‹¿èµ°ä¸è°¢ğŸ˜
  
  ![sre-k8s (2)](https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/sre-k8s%20(2).png)
  
  
  
  
  
  

## å®è·µä¸­ä½¿ç”¨åˆ°çš„ CNCF é¡¹ç›®

![image-20240107175222642](https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/image-20240107175222642.png)

æŒ‰ç”¨é€”å’Œç†Ÿæ‚‰åº¦åˆ†ç±»ï¼š

|                        | æ·±åº¦ä½¿ç”¨                                                  | è½»åº¦ä½¿ç”¨æˆ–æµ‹è¯•ç¯å¢ƒè¯•ç”¨             | å‡†å¤‡ä½¿ç”¨         |
| ---------------------- | --------------------------------------------------------- | ---------------------------------- | ---------------- |
| è°ƒåº¦ä¸ç¼–æ’             | Kubernetesã€KEDA                                          |                                    | Karmadaã€Volcano |
| åè°ƒä¸æœåŠ¡å‘ç°         | etcdã€CoreDNS                                             |                                    |                  |
| åº”ç”¨ç¨‹åºå®šä¹‰ä¸é•œåƒæ„å»º |                                                           | Helmã€KubeVirtã€Operator Framework |                  |
| æŒç»­é›†æˆä¸äº¤ä»˜         | Argo                                                      |                                    | OpenKruise       |
| Service Mesh           |                                                           | Istio                              |                  |
| äº‘åŸç”Ÿç½‘ç»œ             | Calico                                                    | Cilium                             |                  |
| äº‘åŸç”Ÿå­˜å‚¨             |                                                           | Rookã€Longhorn                     |                  |
| å¯è§‚æµ‹æ€§               | Prometheusã€VictoriaMetricsã€Fluentdã€Grafanaã€Chaosblade |                                    | OpenTelemetry    |
| å®¹å™¨è¿è¡Œæ—¶             | Docker                                                    | containerd                         |                  |
| é•œåƒä»“åº“               | JFrog Artifactory                                         | Harbor                             | Dragonfly        |

## å®è·µä¸­é‡åˆ°çš„é—®é¢˜&æ•…éšœ

ğŸ¤” é—®é¢˜ ï¼š

* å¦‚ä½•æé«˜èµ„æºå¯è§æ€§ï¼Ÿå®¹å™¨å†… top free å‘½ä»¤çœ‹åˆ°çš„æ˜¯å®¿ä¸»æœºèµ„æºä½¿ç”¨æƒ…å†µ
* åº”ç”¨ä» KVM è¿ç§»åˆ° å®¹å™¨ åï¼Œèµ„æºåˆ©ç”¨ç‡ä¸ºä½•å‘ç”Ÿå˜åŒ–ï¼Ÿæœ‰å¢é«˜çš„ï¼Œæœ‰é™ä½çš„
* æµé‡æ´ªå³°æ—¶ï¼Œä¸ªåˆ«åº”ç”¨ä¸ºå•¥å®¹å™¨æ¯”è™šæ‹ŸRTé•¿ï¼Ÿ
* æ–°å¢ Ingress åå¯¼è‡´ RedirectUri ä¸ä¸€è‡´ï¼Ÿ
* è‡ªåŠ¨æ³¨å…¥serviceå˜é‡å¯¼è‡´ Nodejs è´Ÿè½½å˜é«˜ï¼Ÿ
* grpc åº”ç”¨è´Ÿè½½å‡è¡¡é—®é¢˜ï¼Œä½¿ç”¨ service å’Œ Ingress æ— æ•ˆï¼Ÿ
* æ¥å…¥å®¹å™¨åï¼ŒåŸŸåè®¿é—®å¼‚å¸¸ï¼Ÿ

ğŸ¤” æ•…éšœï¼š

* Calico å¼‚å¸¸é‡å¯ï¼Ÿ
* kubelet pleg ï¼Ÿ
* Node è¢«æ¸…ç©ºï¼Ÿ
* ä»€ä¹ˆï¼Ÿç›¸åŒå‹å·ç‰©ç†æœº å®¹å™¨æ€§èƒ½ä¸å¦‚è™šæ‹Ÿæœºï¼Ÿ

## æ–‡ç« æ›´æ–°é¢„å‘Š

æ ¹æ®æœ¬æœŸæ–‡ç« æ€»ç»“ï¼Œåç»­ä¼šå…ˆæ›´æ–°ä»¥ä¸‹æ–‡ç« ï¼Œæ–‡ç« é¢„å‘Šï¼š

ä¿éšœç¨³å®šæ€§ï¼š

* é«˜å¯ç”¨æ€§
  * ğŸš© å¤šé›†ç¾¤ç®¡ç†æ–¹æ¡ˆ
  * ğŸš© K8s å¤šæœºæˆ¿é«˜å¯ç”¨æ–¹æ¡ˆ
  * ğŸš© å»ºè®¾ Pod é«˜å¯ç”¨æ€§ï¼ˆä¼˜å…ˆçº§ã€Qosã€æ‰“æ•£ã€hpaã€æ— æŸå‘å¸ƒã€pdbï¼‰
    * ğŸš© æ—¢è¦ç¨³ä¹Ÿè¦çœï¼Œå®¹å™¨èµ„æºè¯¥æ€ä¹ˆåˆ†é…ï¼ˆQos è®¾ç½®ç¯‡ï¼‰ï¼Ÿ
    * ğŸš© å·§ç”¨ `shell-operator` ä¸ºæ ¸å¿ƒåº”ç”¨è‡ªåŠ¨æ³¨å…¥ pdb
    * ï¼ˆå·²å‘è¡¨ï¼‰ğŸ‘‰ [å®¹å™¨åŒ–åæ— æŸä¸Šä¸‹çº¿è§£å†³æ–¹æ¡ˆ](http://mp.weixin.qq.com/s?__biz=MzI4NzAxMjIzNw==&mid=2247483997&idx=1&sn=3ed6bd8d285ca2d33d7b7751c334ef21&chksm=ebd566bfdca2efa9f3af12e6f99e035188872662e392a1858897dade61ace3889219ade34901&scene=21#wechat_redirect)
  * ğŸš© Prometheus é«˜å¯ç”¨è®¾è®¡
* ğŸš© é£é™©æ²»ç†ç¯‡çç¢æ•´ç†ï¼ˆä¸´æ—¶å­˜å‚¨é™åˆ¶ã€å‘Šè­¦ä¸ AppID è´Ÿè´£äººå¦‚ä½•å…³è”ã€å®¡è®¡æ—¥å¿—é‡è¦æ€§ã€Node èµ„æºé¢„ç•™ï¼‰
* å¯è§‚æµ‹æ€§
  * ğŸš© kube-prometheus ä½¿ç”¨å®è·µ
  * ğŸš© ä½¿ç”¨ Fluentd æ”¶é›† K8s æ—¥å¿—
  * ğŸš© K8s ç»„ä»¶æ”¹ç›‘æ§å“ªäº›æ ¸å¿ƒæŒ‡æ ‡ï¼Ÿ
  * ğŸš© è‡ªå®šä¹‰ K8s Dashboard åˆ†äº«
  * ğŸš© K8s è‡ªåŠ¨åŒ–å·¡æ£€è®¾è®¡æ€è·¯
* æ•…éšœæ¼”ç»ƒ
  * ğŸš© Apiserver é«˜å¯ç”¨æ•…éšœæ¼”ç»ƒ
  * ğŸš© Etcd é«˜å¯ç”¨æ•…éšœæ¼”ç»ƒ
* é¢„æ¡ˆå»ºè®¾
  * ğŸš© Etcd ç‰©ç†å¤‡ä»½ + Velero é€»è¾‘å¤‡ä»½ & æ¢å¤è¯¦è§£
  * ğŸš© å¤šé›†ç¾¤è¿ç§»è®¾è®¡æ€è·¯
* æ€§èƒ½/å®¹é‡è¯„ä¼°
  * ğŸš© ç‰©ç†æœºæ€§èƒ½å‹æµ‹æ–¹æ³•è¯¦è§£ï¼ˆé™„ Github æºç ï¼‰
  * ğŸš© Master ç»„ä»¶æ€§èƒ½å‹æµ‹
  * ğŸš© Etcd æ€§èƒ½å‹æµ‹
  * ğŸš© ç‰©ç†æœº MaxPod åˆ°åº•è®¾å¤šå°‘åˆé€‚ï¼Ÿ

èŠ‚çº¦æˆæœ¬ï¼š

* ï¼ˆå·²å‘è¡¨ï¼‰ğŸ‘‰ [äº‘åŸç”Ÿè½åœ°æœ€ä½³å®è·µ](http://mp.weixin.qq.com/s?__biz=MzI4NzAxMjIzNw==&mid=2247484038&idx=1&sn=d9826dff65f65f775407ede6d55786a4&chksm=ebd56664dca2ef723a9f742ddaaa49363e87807b336483d334c7c961bff67dad7e7969f8960a&scene=21#wechat_redirect)
* ï¼ˆå·²å‘è¡¨ï¼‰ğŸ‘‰ [å¼¹æ€§ä¼¸ç¼©è½åœ°å®è·µ](http://mp.weixin.qq.com/s?__biz=MzI4NzAxMjIzNw==&mid=2247483935&idx=1&sn=242b6495c513fb4996aae83f023b61d8&chksm=ebd566fddca2efeb7efd2efd2119a76e4ead35a6c323c8f388228ce6232d7f801af7bd424043&scene=21#wechat_redirect)
* ğŸš© Keda-hpa-exporter å¼€å‘è®¾è®¡ï¼ˆé™„ Github æºç ï¼‰

æé«˜æ•ˆç‡

* ğŸš© GitOps - ArgoCD æ–¹æ¡ˆè°ƒç ”
* ğŸš© Argo Rollout ä½¿ç”¨åˆ†äº«
* ğŸš© Argo Workflow ä½¿ç”¨åˆ†äº«
* ğŸš© Jumpserver äºŒå¼€å®ç°å®¹å™¨ Web ç»ˆç«¯ã€æ–‡ä»¶ç®¡ç†ã€æ—¥å¿—å®¡è®¡ï¼ˆé™„ Github æºç ï¼‰

CNCF é¡¹ç›®ä½¿ç”¨ä»‹ç»

* ğŸš© Etcd æ¦‚è¿°åŠä½¿ç”¨å®è·µ
* ğŸš© Coredns æ¦‚è¿°åŠä½¿ç”¨å®è·µ
* ğŸš© Calico æ¦‚è¿°åŠä½¿ç”¨å®è·µ
* ğŸš© Helm æ¦‚è¿°åŠä½¿ç”¨å®è·µ
* ğŸš© KubeVirt æ¦‚è¿°åŠä½¿ç”¨å®è·µ
* ğŸš© Docker æ¦‚è¿°åŠä½¿ç”¨å®è·µ

é—®é¢˜æ•…éšœæ±‡æ€»

* ğŸš© å®¹å™¨åŒ–åå¸¸è§ FAQ
* ğŸš© Calico å¼‚å¸¸é‡å¯æ ¹å› åˆ†æ



å‚è€ƒé“¾æ¥ï¼š

CLOUD NATIVE LANDSCAPE https://cncf.landscape2.io/?group=projects-and-products



æˆ‘æ˜¯ Clayï¼Œä¸‹æœŸè§  ğŸ‘‹

---



> * æ¬¢è¿è®¢é˜…æˆ‘çš„å…¬ä¼—å·ã€ŒSREè¿ç»´è¿›é˜¶ä¹‹è·¯ã€æˆ–å…³æ³¨æˆ‘çš„ Github https://github.com/clay-wangzhi/wiki  æŸ¥çœ‹æœ€æ–°æ–‡ç« 
>
> * æ¬¢è¿åŠ æˆ‘å¾®ä¿¡`sre-k8s-ai`ï¼Œä¸æˆ‘è®¨è®ºäº‘åŸç”Ÿã€ç¨³å®šæ€§ç›¸å…³å†…å®¹



![weixin](https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/weixin.png)



