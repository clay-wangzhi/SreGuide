const n=JSON.parse('{"key":"v-1cb1969f","path":"/web/nginx/global-events.html","title":"3.1 nginx全局块和events块配置","lang":"zh-CN","frontmatter":{"date":"2020-03-20T00:00:00.000Z","category":"web中间件","tag":["Nginx"],"description":"3.1 nginx全局块和events块配置 1 example # 运行Nginx进程的用户 user nginx; worker_processes 8; worker_cpu_affinity auto; # 定义存储某类型的全局错误的日志位置 # nginx日志分为很多级别 [debug | info | notice | warn | error | crit | alert | emerg] error_log /var/log/nginx/error.log error; # 指定进程ID（pid）存放的路径 pid /var/run/nginx.pid; # 一个nginx进程打开的最多文件描述符数目，理论值应该是系统的最多打开文件数（ulimit -n）与nginx进程数相除，但是nginx分配请求并不是那么均匀，所以最好与ulimit -n的值保持一致。 worker_rlimit_nofile 65535; events { # 使用epoll的I/O模型，用这个模型来高效处理异步事件 use epoll; # 每个进程允许的最多连接数，理论上每台nginx服务器的最大连接数为worker_processes*worker_connections。 worker_connections 20480; }","head":[["meta",{"property":"og:url","content":"https://clay-wangzhi.com/web/nginx/global-events.html"}],["meta",{"property":"og:site_name","content":"SRE运维进阶之路"}],["meta",{"property":"og:title","content":"3.1 nginx全局块和events块配置"}],["meta",{"property":"og:description","content":"3.1 nginx全局块和events块配置 1 example # 运行Nginx进程的用户 user nginx; worker_processes 8; worker_cpu_affinity auto; # 定义存储某类型的全局错误的日志位置 # nginx日志分为很多级别 [debug | info | notice | warn | error | crit | alert | emerg] error_log /var/log/nginx/error.log error; # 指定进程ID（pid）存放的路径 pid /var/run/nginx.pid; # 一个nginx进程打开的最多文件描述符数目，理论值应该是系统的最多打开文件数（ulimit -n）与nginx进程数相除，但是nginx分配请求并不是那么均匀，所以最好与ulimit -n的值保持一致。 worker_rlimit_nofile 65535; events { # 使用epoll的I/O模型，用这个模型来高效处理异步事件 use epoll; # 每个进程允许的最多连接数，理论上每台nginx服务器的最大连接数为worker_processes*worker_connections。 worker_connections 20480; }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-04-19T13:08:31.000Z"}],["meta",{"property":"article:author","content":"Clay"}],["meta",{"property":"article:tag","content":"Nginx"}],["meta",{"property":"article:published_time","content":"2020-03-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-04-19T13:08:31.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"3.1 nginx全局块和events块配置\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-03-20T00:00:00.000Z\\",\\"dateModified\\":\\"2023-04-19T13:08:31.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Clay\\",\\"url\\":\\"https://clay-wangzhi.com\\"}]}"]]},"headers":[{"level":2,"title":"1 example","slug":"_1-example","link":"#_1-example","children":[]},{"level":2,"title":"2 配置CPU参数","slug":"_2-配置cpu参数","link":"#_2-配置cpu参数","children":[{"level":3,"title":"2.1 nginx worker_processes","slug":"_2-1-nginx-worker-processes","link":"#_2-1-nginx-worker-processes","children":[]},{"level":3,"title":"2.2 nginx worker_cpu_affinity","slug":"_2-2-nginx-worker-cpu-affinity","link":"#_2-2-nginx-worker-cpu-affinity","children":[]},{"level":3,"title":"2.3 实例","slug":"_2-3-实例","link":"#_2-3-实例","children":[]}]}],"git":{"createdTime":1681909711000,"updatedTime":1681909711000,"contributors":[{"name":"clay-wangzhi","email":"clay.wangzhi@gmail.com","commits":1}]},"readingTime":{"minutes":1.86,"words":557},"filePathRelative":"web/nginx/global-events.md","localizedDate":"2020年3月20日","excerpt":"<h1> 3.1 nginx全局块和events块配置</h1>\\n<h2> 1 example</h2>\\n<div class=\\"language-nginx line-numbers-mode\\" data-ext=\\"nginx\\"><pre class=\\"language-nginx\\"><code><span class=\\"token comment\\"># 运行Nginx进程的用户</span>\\n<span class=\\"token directive\\"><span class=\\"token keyword\\">user</span> nginx</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token directive\\"><span class=\\"token keyword\\">worker_processes</span>  <span class=\\"token number\\">8</span></span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token directive\\"><span class=\\"token keyword\\">worker_cpu_affinity</span> auto</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token comment\\"># 定义存储某类型的全局错误的日志位置</span>\\n<span class=\\"token comment\\"># nginx日志分为很多级别 [debug | info | notice | warn | error | crit | alert | emerg]</span>\\n<span class=\\"token directive\\"><span class=\\"token keyword\\">error_log</span>  /var/log/nginx/error.log  error</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\"># 指定进程ID（pid）存放的路径 </span>\\n<span class=\\"token directive\\"><span class=\\"token keyword\\">pid</span>        /var/run/nginx.pid</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\"># 一个nginx进程打开的最多文件描述符数目，理论值应该是系统的最多打开文件数（ulimit -n）与nginx进程数相除，但是nginx分配请求并不是那么均匀，所以最好与ulimit -n的值保持一致。</span>\\n<span class=\\"token directive\\"><span class=\\"token keyword\\">worker_rlimit_nofile</span> <span class=\\"token number\\">65535</span></span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token directive\\"><span class=\\"token keyword\\">events</span></span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token comment\\"># 使用epoll的I/O模型，用这个模型来高效处理异步事件</span>\\n    <span class=\\"token directive\\"><span class=\\"token keyword\\">use</span> epoll</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token comment\\"># 每个进程允许的最多连接数，理论上每台nginx服务器的最大连接数为worker_processes*worker_connections。</span>\\n    <span class=\\"token directive\\"><span class=\\"token keyword\\">worker_connections</span>  <span class=\\"token number\\">20480</span></span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"Clay"},"autoDesc":true}');export{n as data};
