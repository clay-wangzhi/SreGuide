import{_ as e,r as s,c as t,a,b as p,F as l,e as r,d as o,o as c}from"./app.35f12498.js";const u={},i=r(`<h1 id="k8s-node-\u914D\u7F6E\u8D44\u6E90\u9884\u7559" tabindex="-1"><a class="header-anchor" href="#k8s-node-\u914D\u7F6E\u8D44\u6E90\u9884\u7559" aria-hidden="true">#</a> k8s node \u914D\u7F6E\u8D44\u6E90\u9884\u7559</h1><h2 id="\u80CC\u666F" tabindex="-1"><a class="header-anchor" href="#\u80CC\u666F" aria-hidden="true">#</a> \u80CC\u666F</h2><p>\u5982\u679C\u67D0\u4E9Bpod \u6CA1\u6709\u8BBE\u7F6E\u8D44\u6E90\u9650\u5236\uFF0C\u5BFC\u81F4 node \u8282\u70B9 \u8D1F\u8F7D\u8FC7\u9AD8\uFF0C\u8FDB\u800C\u5BFC\u5165 kubelet \u548C apiserver \u7684\u5FC3\u8DF3\u51FA\u73B0\u95EE\u9898\uFF0C\u8282\u70B9\u5C31\u4F1A Not Ready</p><p>Not Ready \u7684 \u8282\u70B9 \u5F00\u59CB\u9A71\u9010\u5E94\u7528\uFF0C\u5F53\u6CA1\u6709\u8D44\u6E90\u9650\u5236\u7684\u5E94\u7528\u8DD1\u5230\u5176\u4ED6 \u8282\u70B9\uFF0C\u5176\u4ED6\u8282\u70B9\u4E5F\u4F1A\u4EA7\u751F\u8FDE\u9501\u53CD\u5E94\uFF0Cload \u9AD8\uFF0C\u5FC3\u8DF3\u5931\u8D25\uFF0CNot Ready\uFF0C\u8FDB\u800C\u5BFC\u81F4\u6574\u4E2A\u96C6\u7FA4\u7684\u96EA\u5D29</p><p>\u6240\u4EE5\u73B0\u5728\u8BBE\u7F6E\u8D44\u6E90\u9884\u7559\uFF1A\u9632\u6B62 \u67D0\u4E9B pod \u5C06 cpu \u8DD1\u6EE1\uFF0C\u8FDB\u800C kubelet \u548C apiserver \u5FC3\u8DF3\u5931\u8D25\uFF0C\u51FA\u73B0 Not Ready \u73B0\u8C61</p><h2 id="\u5177\u4F53\u64CD\u4F5C\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#\u5177\u4F53\u64CD\u4F5C\u6B65\u9AA4" aria-hidden="true">#</a> \u5177\u4F53\u64CD\u4F5C\u6B65\u9AA4</h2><p>\u5728 kubelet yaml \u6587\u4EF6\u4E2D \u8FFD\u52A0\u4EE5\u4E0B\u5185\u5BB9\uFF0C\u7136\u540E\u91CD\u542F kubelet</p><p><code>/var/lib/kubelet/config.yaml</code></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">enforceNodeAllocatable</span><span class="token punctuation">:</span>  <span class="token comment"># \u914D\u7F6E\u8D44\u6E90\u9884\u7559</span>
<span class="token punctuation">-</span> pods
<span class="token key atrule">kubeReserved</span><span class="token punctuation">:</span>  <span class="token comment"># \u914D\u7F6E kube \u8D44\u6E90\u9884\u7559</span>
  <span class="token key atrule">cpu</span><span class="token punctuation">:</span> 1000m
  <span class="token key atrule">memory</span><span class="token punctuation">:</span> 1Gi
  <span class="token key atrule">ephemeral-storage</span><span class="token punctuation">:</span> 8Gi
<span class="token key atrule">systemReserved</span><span class="token punctuation">:</span>  <span class="token comment"># \u914D\u7F6E\u7CFB\u7EDF\u8D44\u6E90\u9884\u7559</span>
  <span class="token key atrule">memory</span><span class="token punctuation">:</span> 1Gi
<span class="token key atrule">evictionHard</span><span class="token punctuation">:</span>  <span class="token comment"># \u914D\u7F6E\u786C\u9A71\u9010\u9608\u503C</span>
  <span class="token key atrule">memory.available</span><span class="token punctuation">:</span> <span class="token string">&quot;5%&quot;</span>
  <span class="token key atrule">nodefs.available</span><span class="token punctuation">:</span> <span class="token string">&quot;10%&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl restart kubelet
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u53C2\u8003\u94FE\u63A5\uFF1A</p>`,11),d={href:"https://www.qikqiak.com/k8strain2/maintain/reserved/",target:"_blank",rel:"noopener noreferrer"},k=o("\u8D44\u6E90\u9884\u7559 | \u9633\u660E");function m(b,h){const n=s("ExternalLinkIcon");return c(),t(l,null,[i,a("ul",null,[a("li",null,[a("a",d,[k,p(n)])])])],64)}var v=e(u,[["render",m],["__file","kube-reserved.html.vue"]]);export{v as default};
