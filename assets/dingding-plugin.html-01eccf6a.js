const n=JSON.parse(`{"key":"v-7b53d6b2","path":"/devops/jenkins/dingding-plugin.html","title":"4.5 共享库之钉钉消息推送","lang":"zh-CN","frontmatter":{"category":"自动化工具","tag":["Jenkins"],"description":"4.5 共享库之钉钉消息推送 起因：执行完流水线后进行一定程度的消息推送，所以选择钉钉进行jenkins构建结构的消息推送 下载配置相关依赖插件 相关环境： Jenkins 2.277.3，安装文档见上篇 DingTalk 插件 2.4.3 build user vars plugin 插件 1.7 在Jenkins中安装钉钉插件DingTalk ⚠️ 请确保你的 Jenkins 版本 &gt;= 2.176.4 钉钉机器人配置，说明文档 找到 Jenkins 首页 &gt;&gt; 系统管理 &gt;&gt; 钉钉，我的配置如下图 ⚠️ ​注意手动输入机器人的id，不要自动生成，否则重启后，robot的id将发生变化 安装build user vars plugin插件，插件可能有相关版本依赖，需要重启一下 Jenkins 才能继续安装 在流水线中，使用wrap，获取BUILD_USER变量 wrap([$class: 'BuildUser']) { }","head":[["meta",{"property":"og:url","content":"https://clay-wangzhi.com/devops/jenkins/dingding-plugin.html"}],["meta",{"property":"og:site_name","content":"SRE运维进阶之路"}],["meta",{"property":"og:title","content":"4.5 共享库之钉钉消息推送"}],["meta",{"property":"og:description","content":"4.5 共享库之钉钉消息推送 起因：执行完流水线后进行一定程度的消息推送，所以选择钉钉进行jenkins构建结构的消息推送 下载配置相关依赖插件 相关环境： Jenkins 2.277.3，安装文档见上篇 DingTalk 插件 2.4.3 build user vars plugin 插件 1.7 在Jenkins中安装钉钉插件DingTalk ⚠️ 请确保你的 Jenkins 版本 &gt;= 2.176.4 钉钉机器人配置，说明文档 找到 Jenkins 首页 &gt;&gt; 系统管理 &gt;&gt; 钉钉，我的配置如下图 ⚠️ ​注意手动输入机器人的id，不要自动生成，否则重启后，robot的id将发生变化 安装build user vars plugin插件，插件可能有相关版本依赖，需要重启一下 Jenkins 才能继续安装 在流水线中，使用wrap，获取BUILD_USER变量 wrap([$class: 'BuildUser']) { }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-04-19T13:50:36.000Z"}],["meta",{"property":"article:author","content":"Clay"}],["meta",{"property":"article:tag","content":"Jenkins"}],["meta",{"property":"article:modified_time","content":"2023-04-19T13:50:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"4.5 共享库之钉钉消息推送\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-04-19T13:50:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Clay\\",\\"url\\":\\"https://clay-wangzhi.com\\"}]}"]]},"headers":[{"level":2,"title":"下载配置相关依赖插件","slug":"下载配置相关依赖插件","link":"#下载配置相关依赖插件","children":[]},{"level":2,"title":"创建配置共享库","slug":"创建配置共享库","link":"#创建配置共享库","children":[{"level":3,"title":"编写Groovy脚本","slug":"编写groovy脚本","link":"#编写groovy脚本","children":[]},{"level":3,"title":"在 Jenkins 中配置将共享库","slug":"在-jenkins-中配置将共享库","link":"#在-jenkins-中配置将共享库","children":[]},{"level":3,"title":"在流水线中导入共享库","slug":"在流水线中导入共享库","link":"#在流水线中导入共享库","children":[]}]},{"level":2,"title":"遇到的问题","slug":"遇到的问题","link":"#遇到的问题","children":[]}],"git":{"createdTime":1681912236000,"updatedTime":1681912236000,"contributors":[{"name":"clay-wangzhi","email":"clay.wangzhi@gmail.com","commits":1}]},"readingTime":{"minutes":2.5,"words":750},"filePathRelative":"devops/jenkins/dingding-plugin.md","localizedDate":"2023年4月19日","excerpt":"<h1> 4.5 共享库之钉钉消息推送</h1>\\n<p>起因：执行完流水线后进行一定程度的消息推送，所以选择钉钉进行<code>jenkins</code>构建结构的消息推送</p>\\n<h2> 下载配置相关依赖插件</h2>\\n<p>相关环境：</p>\\n<ul>\\n<li><code>Jenkins</code> 2.277.3，安装文档见上篇</li>\\n<li><code>DingTalk</code> 插件 2.4.3</li>\\n<li><code>build user vars plugin</code> 插件 1.7</li>\\n</ul>\\n<ol>\\n<li>\\n<p>在Jenkins中安装钉钉插件<a href=\\"https://plugins.jenkins.io/dingding-notifications\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">DingTalk</a></p>\\n<blockquote>\\n<p>⚠️ 请确保你的 Jenkins 版本 &gt;= 2.176.4</p>\\n</blockquote>\\n</li>\\n<li>\\n<p>钉钉机器人配置，<a href=\\"https://jenkinsci.github.io/dingtalk-plugin/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">说明文档</a></p>\\n<p>找到 Jenkins 首页 &gt;&gt; 系统管理 &gt;&gt; 钉钉，我的配置如下图</p>\\n<p><img src=\\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/image-20210426164341273.png\\" alt=\\"image-20210426164341273\\"></p>\\n<blockquote>\\n<p>⚠️ ​注意手动输入机器人的id，不要自动生成，否则重启后，robot的id将发生变化</p>\\n</blockquote>\\n</li>\\n<li>\\n<p>安装<a href=\\"https://plugins.jenkins.io/build-user-vars-plugin\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">build user vars plugin</a>插件，插件可能有相关版本依赖，需要重启一下 Jenkins 才能继续安装</p>\\n<p>在流水线中，使用wrap，获取BUILD_USER变量</p>\\n<div class=\\"language-groovy line-numbers-mode\\" data-ext=\\"groovy\\"><pre class=\\"language-groovy\\"><code><span class=\\"token function\\">wrap</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">$</span><span class=\\"token keyword\\">class</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">'BuildUser'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n</ol>","copyright":{"author":"Clay"},"autoDesc":true}`);export{n as data};
