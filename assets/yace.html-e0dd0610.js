const a=JSON.parse(`{"key":"v-2cd1a3ca","path":"/devops/jumpserver/yace.html","title":"","lang":"zh-CN","frontmatter":{"category":"自动化工具","tag":["jumpserver"],"description":"控制资产登录时间 创建 修改 登录时间的脚步 jump.sh #!/bin/bash #pro-jumpserver username=\\"root\\" passwd=\\"xxx\\" host=\\"localhost\\" dbname=\\"jumpserver\\" date1=\`date +%Y-%m-%d\` date2=\`date +%Y-%m-%d --date=\\"+1 day\\"\` date_start=\\"$date1 12:00:00\\" date_expired=\\"$date2 00:00:00\\" NAME=\\"xx-xx;xx-xx\\" OLDIFS=$IFS IFS=$';' for name in $NAME do docker exec -i jms_mysql mysql -u$username -h$host -p$passwd $dbname -e \\"update perms_assetpermission set date_start=STR_TO_DATE('$date_start','%Y-%m-%d %H:%i:%s') where name='$name';\\" docker exec -i jms_mysql mysql -u$username -h$host -p$passwd $dbname -e \\"update perms_assetpermission set date_expired=STR_TO_DATE('$date_expired','%Y-%m-%d %H:%i:%s') where name='$name';\\" done","head":[["meta",{"property":"og:url","content":"https://clay-wangzhi.com/devops/jumpserver/yace.html"}],["meta",{"property":"og:site_name","content":"SRE运维进阶之路"}],["meta",{"property":"og:description","content":"控制资产登录时间 创建 修改 登录时间的脚步 jump.sh #!/bin/bash #pro-jumpserver username=\\"root\\" passwd=\\"xxx\\" host=\\"localhost\\" dbname=\\"jumpserver\\" date1=\`date +%Y-%m-%d\` date2=\`date +%Y-%m-%d --date=\\"+1 day\\"\` date_start=\\"$date1 12:00:00\\" date_expired=\\"$date2 00:00:00\\" NAME=\\"xx-xx;xx-xx\\" OLDIFS=$IFS IFS=$';' for name in $NAME do docker exec -i jms_mysql mysql -u$username -h$host -p$passwd $dbname -e \\"update perms_assetpermission set date_start=STR_TO_DATE('$date_start','%Y-%m-%d %H:%i:%s') where name='$name';\\" docker exec -i jms_mysql mysql -u$username -h$host -p$passwd $dbname -e \\"update perms_assetpermission set date_expired=STR_TO_DATE('$date_expired','%Y-%m-%d %H:%i:%s') where name='$name';\\" done"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-04-19T13:50:36.000Z"}],["meta",{"property":"article:author","content":"Clay"}],["meta",{"property":"article:tag","content":"jumpserver"}],["meta",{"property":"article:modified_time","content":"2023-04-19T13:50:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-04-19T13:50:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Clay\\",\\"url\\":\\"https://clay-wangzhi.com\\"}]}"]]},"headers":[{"level":2,"title":"控制资产登录时间","slug":"控制资产登录时间","link":"#控制资产登录时间","children":[]}],"git":{"createdTime":1681912236000,"updatedTime":1681912236000,"contributors":[{"name":"clay-wangzhi","email":"clay.wangzhi@gmail.com","commits":1}]},"readingTime":{"minutes":0.58,"words":175},"filePathRelative":"devops/jumpserver/yace.md","localizedDate":"2023年4月19日","excerpt":"<h2> 控制资产登录时间</h2>\\n<p>创建 修改 登录时间的脚步 <code>jump.sh</code></p>\\n<div class=\\"language-bash line-numbers-mode\\" data-ext=\\"sh\\"><pre class=\\"language-bash\\"><code><span class=\\"token shebang important\\">#!/bin/bash</span>\\n\\n<span class=\\"token comment\\">#pro-jumpserver</span>\\n<span class=\\"token assign-left variable\\">username</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"root\\"</span>\\n<span class=\\"token assign-left variable\\">passwd</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"xxx\\"</span>\\n<span class=\\"token assign-left variable\\">host</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"localhost\\"</span>\\n<span class=\\"token assign-left variable\\">dbname</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"jumpserver\\"</span>\\n\\n<span class=\\"token assign-left variable\\">date1</span><span class=\\"token operator\\">=</span><span class=\\"token variable\\"><span class=\\"token variable\\">\`</span><span class=\\"token function\\">date</span> +%Y-%m-%d<span class=\\"token variable\\">\`</span></span>\\n<span class=\\"token assign-left variable\\">date2</span><span class=\\"token operator\\">=</span><span class=\\"token variable\\"><span class=\\"token variable\\">\`</span><span class=\\"token function\\">date</span> +%Y-%m-%d <span class=\\"token parameter variable\\">--date</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"+1 day\\"</span><span class=\\"token variable\\">\`</span></span>\\n<span class=\\"token assign-left variable\\">date_start</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"<span class=\\"token variable\\">$date1</span> 12:00:00\\"</span>\\n<span class=\\"token assign-left variable\\">date_expired</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"<span class=\\"token variable\\">$date2</span> 00:00:00\\"</span>\\n<span class=\\"token assign-left variable\\">NAME</span><span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"xx-xx;xx-xx\\"</span>\\n\\n<span class=\\"token assign-left variable\\">OLDIFS</span><span class=\\"token operator\\">=</span><span class=\\"token environment constant\\">$IFS</span>\\n<span class=\\"token assign-left variable\\"><span class=\\"token environment constant\\">IFS</span></span><span class=\\"token operator\\">=</span><span class=\\"token string\\">$';'</span>\\n\\n<span class=\\"token keyword\\">for</span> <span class=\\"token for-or-select variable\\">name</span> <span class=\\"token keyword\\">in</span> <span class=\\"token variable\\">$NAME</span>\\n<span class=\\"token keyword\\">do</span>\\n<span class=\\"token function\\">docker</span> <span class=\\"token builtin class-name\\">exec</span> <span class=\\"token parameter variable\\">-i</span> jms_mysql mysql -u<span class=\\"token variable\\">$username</span> -h<span class=\\"token variable\\">$host</span> -p<span class=\\"token variable\\">$passwd</span> <span class=\\"token variable\\">$dbname</span> <span class=\\"token parameter variable\\">-e</span> <span class=\\"token string\\">\\"update perms_assetpermission set date_start=STR_TO_DATE('<span class=\\"token variable\\">$date_start</span>','%Y-%m-%d %H:%i:%s') where name='<span class=\\"token variable\\">$name</span>';\\"</span>\\n<span class=\\"token function\\">docker</span> <span class=\\"token builtin class-name\\">exec</span> <span class=\\"token parameter variable\\">-i</span> jms_mysql mysql -u<span class=\\"token variable\\">$username</span> -h<span class=\\"token variable\\">$host</span> -p<span class=\\"token variable\\">$passwd</span> <span class=\\"token variable\\">$dbname</span> <span class=\\"token parameter variable\\">-e</span> <span class=\\"token string\\">\\"update perms_assetpermission set date_expired=STR_TO_DATE('<span class=\\"token variable\\">$date_expired</span>','%Y-%m-%d %H:%i:%s') where name='<span class=\\"token variable\\">$name</span>';\\"</span>\\n<span class=\\"token keyword\\">done</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"Clay"},"autoDesc":true}`);export{a as data};
