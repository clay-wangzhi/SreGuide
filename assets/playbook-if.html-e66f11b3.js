const e=JSON.parse('{"key":"v-7e695b5c","path":"/devops/ansible/playbook-if.html","title":"4.3 Playbook条件语句","lang":"zh-CN","frontmatter":{"date":"2020-03-20T00:00:00.000Z","category":"自动化工具","tag":["Ansible"],"description":"4.3 Playbook条件语句 1 简介 在有的时候play的结果依赖于变量、fact或者是前一个任务的执行结果，或者有的时候，我们会基于上一个task执行返回的结果而决定如何执行后续的task。这个时候就需要用到条件判断。 条件语句在Ansible中的使用场景： 在目标主机上定义了一个硬限制，比如目标主机的最小内存必须达到多少，才能执行该task 捕获一个命令的输出，根据命令输出结果的不同以触发不同的task 根据不同目标主机的facts，以定义不同的task 根据目标机的cpu的大小，以调优相关应用性能 用于判断某个服务的配置文件是否发生变更，以确定是否需要重启服务","head":[["meta",{"property":"og:url","content":"https://clay-wangzhi.com/devops/ansible/playbook-if.html"}],["meta",{"property":"og:site_name","content":"SRE运维进阶之路"}],["meta",{"property":"og:title","content":"4.3 Playbook条件语句"}],["meta",{"property":"og:description","content":"4.3 Playbook条件语句 1 简介 在有的时候play的结果依赖于变量、fact或者是前一个任务的执行结果，或者有的时候，我们会基于上一个task执行返回的结果而决定如何执行后续的task。这个时候就需要用到条件判断。 条件语句在Ansible中的使用场景： 在目标主机上定义了一个硬限制，比如目标主机的最小内存必须达到多少，才能执行该task 捕获一个命令的输出，根据命令输出结果的不同以触发不同的task 根据不同目标主机的facts，以定义不同的task 根据目标机的cpu的大小，以调优相关应用性能 用于判断某个服务的配置文件是否发生变更，以确定是否需要重启服务"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-04-19T13:50:36.000Z"}],["meta",{"property":"article:author","content":"Clay"}],["meta",{"property":"article:tag","content":"Ansible"}],["meta",{"property":"article:published_time","content":"2020-03-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-04-19T13:50:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"4.3 Playbook条件语句\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-03-20T00:00:00.000Z\\",\\"dateModified\\":\\"2023-04-19T13:50:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Clay\\",\\"url\\":\\"https://clay-wangzhi.com\\"}]}"]]},"headers":[{"level":2,"title":"1 简介","slug":"_1-简介","link":"#_1-简介","children":[]},{"level":2,"title":"2 when关键字","slug":"_2-when关键字","link":"#_2-when关键字","children":[{"level":3,"title":"2.1 when基本使用","slug":"_2-1-when基本使用","link":"#_2-1-when基本使用","children":[]},{"level":3,"title":"2.2  比较运算符","slug":"_2-2-比较运算符","link":"#_2-2-比较运算符","children":[]},{"level":3,"title":"2.3 逻辑运算符","slug":"_2-3-逻辑运算符","link":"#_2-3-逻辑运算符","children":[]}]},{"level":2,"title":"3 条件判断与tests","slug":"_3-条件判断与tests","link":"#_3-条件判断与tests","children":[{"level":3,"title":"3.1 判断变量","slug":"_3-1-判断变量","link":"#_3-1-判断变量","children":[]},{"level":3,"title":"3.2 判断执行结果","slug":"_3-2-判断执行结果","link":"#_3-2-判断执行结果","children":[]},{"level":3,"title":"3.3 判断路径","slug":"_3-3-判断路径","link":"#_3-3-判断路径","children":[]},{"level":3,"title":"3.4 判断字符串","slug":"_3-4-判断字符串","link":"#_3-4-判断字符串","children":[]},{"level":3,"title":"3.5 判断整除","slug":"_3-5-判断整除","link":"#_3-5-判断整除","children":[]},{"level":3,"title":"3.6 其他tests","slug":"_3-6-其他tests","link":"#_3-6-其他tests","children":[]}]},{"level":2,"title":"4 条件判断与block","slug":"_4-条件判断与block","link":"#_4-条件判断与block","children":[{"level":3,"title":"4.1 block","slug":"_4-1-block","link":"#_4-1-block","children":[]},{"level":3,"title":"4.2 rescue","slug":"_4-2-rescue","link":"#_4-2-rescue","children":[]},{"level":3,"title":"4.3 always","slug":"_4-3-always","link":"#_4-3-always","children":[]}]},{"level":2,"title":"5 条件判断与错误处理","slug":"_5-条件判断与错误处理","link":"#_5-条件判断与错误处理","children":[{"level":3,"title":"5.1 fail模块","slug":"_5-1-fail模块","link":"#_5-1-fail模块","children":[]},{"level":3,"title":"5.2 failed_when","slug":"_5-2-failed-when","link":"#_5-2-failed-when","children":[]},{"level":3,"title":"5.3 changed_when","slug":"_5-3-changed-when","link":"#_5-3-changed-when","children":[]},{"level":3,"title":"5.4 断言：assert模块","slug":"_5-4-断言-assert模块","link":"#_5-4-断言-assert模块","children":[]},{"level":3,"title":"5.5 any_errors_fatal","slug":"_5-5-any-errors-fatal","link":"#_5-5-any-errors-fatal","children":[]},{"level":3,"title":"5.6 max_fail_percentage","slug":"_5-6-max-fail-percentage","link":"#_5-6-max-fail-percentage","children":[]}]},{"level":2,"title":"6 在循环语句中使用条件语句","slug":"_6-在循环语句中使用条件语句","link":"#_6-在循环语句中使用条件语句","children":[]}],"git":{"createdTime":1681912236000,"updatedTime":1681912236000,"contributors":[{"name":"clay-wangzhi","email":"clay.wangzhi@gmail.com","commits":1}]},"readingTime":{"minutes":11.98,"words":3595},"filePathRelative":"devops/ansible/playbook-if.md","localizedDate":"2020年3月20日","excerpt":"<h1> 4.3 Playbook条件语句</h1>\\n<h2> 1 简介</h2>\\n<p>在有的时候play的结果依赖于变量、fact或者是前一个任务的执行结果，或者有的时候，我们会基于上一个task执行返回的结果而决定如何执行后续的task。这个时候就需要用到条件判断。</p>\\n<p>条件语句在Ansible中的使用场景：</p>\\n<ul>\\n<li>在目标主机上定义了一个硬限制，比如目标主机的最小内存必须达到多少，才能执行该task</li>\\n<li>捕获一个命令的输出，根据命令输出结果的不同以触发不同的task</li>\\n<li>根据不同目标主机的facts，以定义不同的task</li>\\n<li>根据目标机的cpu的大小，以调优相关应用性能</li>\\n<li>用于判断某个服务的配置文件是否发生变更，以确定是否需要重启服务</li>\\n</ul>","copyright":{"author":"Clay"},"autoDesc":true}');export{e as data};
