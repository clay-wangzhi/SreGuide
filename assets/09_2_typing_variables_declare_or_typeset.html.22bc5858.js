import{_ as n,e as s}from"./app.53755e41.js";const a={},e=s(`<h1 id="_9-2-\u53D8\u91CF\u7C7B\u578B\u6807\u6CE8-declare-\u4E0E-typeset" tabindex="-1"><a class="header-anchor" href="#_9-2-\u53D8\u91CF\u7C7B\u578B\u6807\u6CE8-declare-\u4E0E-typeset" aria-hidden="true">#</a> 9.2 \u53D8\u91CF\u7C7B\u578B\u6807\u6CE8\uFF1A<code>declare</code> \u4E0E <code>typeset</code></h1><p><a href="">\u5185\u5EFA\u547D\u4EE4</a> <code>declare</code> \u548C <code>typeset</code> \u662F\u5B8C\u5168\u76F8\u540C\u7684\u547D\u4EE4\uFF0C\u5176\u88AB\u7528\u4E8E\u4FEE\u6539\u53D8\u91CF\u7684\u5C5E\u6027\u3002\u76F8\u6BD4\u8D77\u4E00\u90E8\u5206\u7F16\u7A0B\u8BED\u8A00\u6765\u8BF4\uFF0C\u8FD9\u79CD\u4FEE\u6539\u5C5E\u4E8E\u975E\u5E38\u5F31\u7684\u7C7B\u578B\u6807\u6CE8\u65B9\u5F0F<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup>\u3002<code>declare</code> \u547D\u4EE4\u53EA\u6709\u5728 Bash version 2 \u53CA\u66F4\u9AD8\u7248\u672C\u624D\u80FD\u4F7F\u7528\uFF0C\u800C <code>typeset</code> \u547D\u4EE4\u53EF\u4EE5\u5728 ksh \u811A\u672C\u4E2D\u8FD0\u884C\u3002</p><h2 id="declare-typeset-\u547D\u4EE4\u9009\u9879" tabindex="-1"><a class="header-anchor" href="#declare-typeset-\u547D\u4EE4\u9009\u9879" aria-hidden="true">#</a> <code>declare</code>/<code>typeset</code> \u547D\u4EE4\u9009\u9879</h2><h3 id="r-\u53EA\u8BFB-readonly" tabindex="-1"><a class="header-anchor" href="#r-\u53EA\u8BFB-readonly" aria-hidden="true">#</a> -r \u53EA\u8BFB\uFF08readonly\uFF09</h3><p>\uFF08<code>declare -r var1</code> \u4E0E <code>readonly var1</code> \u7684\u4F5C\u7528\u76F8\u540C\uFF09</p><p>\u8BE5\u9009\u9879\u7EA6\u7B49\u4E8E C \u8BED\u8A00\u4E2D\u7684\u7C7B\u578B\u9650\u5B9A\u7B26 <code>const</code>\u3002\u4EFB\u4F55\u5C1D\u8BD5\u4FEE\u6539\u53EA\u8BFB\u53D8\u91CF\u7684\u884C\u4E3A\u90FD\u4F1A\u5BFC\u81F4\u811A\u672C\u51FA\u9519\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -r <span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;var1 = <span class="token variable">$var1</span>&quot;</span>   <span class="token comment"># var1 = 1</span>

<span class="token variable"><span class="token punctuation">((</span> var1<span class="token operator">++</span> <span class="token punctuation">))</span></span>          <span class="token comment"># x.sh: line 4: var1: readonly variable</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="i-\u6574\u578B-integer" tabindex="-1"><a class="header-anchor" href="#i-\u6574\u578B-integer" aria-hidden="true">#</a> -i \u6574\u578B\uFF08integer\uFF09</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -i number
<span class="token comment"># \u811A\u672C\u4F1A\u5C06\u4E4B\u540E\u6240\u6709\u51FA\u73B0\u7684 &quot;number&quot; \u53D8\u91CF\u7684\u7C7B\u578B\u90FD\u89C6\u4F5C\u6574\u578B\u3002</span>

<span class="token assign-left variable">number</span><span class="token operator">=</span><span class="token number">3</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Number = <span class="token variable">$number</span>&quot;</span>     <span class="token comment"># Number = 3</span>

<span class="token assign-left variable">number</span><span class="token operator">=</span>three
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Number = <span class="token variable">$number</span>&quot;</span>     <span class="token comment"># Number = 0</span>
<span class="token comment"># \u811A\u672C\u8BD5\u56FE\u5C06\u5B57\u7B26\u4E32 &quot;three&quot; \u89C6\u4E3A\u6574\u578B\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u88AB\u89C6\u4E3A\u6574\u578B\u7684\u53D8\u91CF\u65E0\u9700\u547D\u4EE4 <a href=""><code>expr</code></a> \u6216\u662F <a href=""><code>let</code></a> \u5373\u53EF\u8FDB\u884C\u6570\u5B66\u8FD0\u7B97\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">n</span><span class="token operator">=</span><span class="token number">6</span>/3
<span class="token builtin class-name">echo</span> <span class="token string">&quot;n = <span class="token variable">$n</span>&quot;</span>       <span class="token comment"># n = 6/3</span>

<span class="token builtin class-name">declare</span> -i n
<span class="token assign-left variable">n</span><span class="token operator">=</span><span class="token number">6</span>/3
<span class="token builtin class-name">echo</span> <span class="token string">&quot;n = <span class="token variable">$n</span>&quot;</span>       <span class="token comment"># n = 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="a-\u6570\u7EC4-array" tabindex="-1"><a class="header-anchor" href="#a-\u6570\u7EC4-array" aria-hidden="true">#</a> -a \u6570\u7EC4\uFF08array\uFF09</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -a indices
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u53D8\u91CF <code>indices</code> \u4F1A\u88AB\u89C6\u4F5C <a href="">\u6570\u7EC4</a>\u3002</p><h3 id="f-\u51FD\u6570-function" tabindex="-1"><a class="header-anchor" href="#f-\u51FD\u6570-function" aria-hidden="true">#</a> -f \u51FD\u6570\uFF08function\uFF09</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -f
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5982\u679C\u6CA1\u6709\u5728 <code>declare -f</code> \u540E\u5E26\u4E0A\u4EFB\u4F55\u53C2\u6570\uFF0C\u8BE5\u8BED\u53E5\u5C06\u4F1A\u5217\u51FA\u5728\u811A\u672C\u4E2D\u5DF2\u7ECF\u5B9A\u4E49\u7684\u6240\u6709\u51FD\u6570\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -f function_name
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u800C <code>declare -f function_name</code> \u5219\u4EC5\u4EC5\u5217\u51FA\u540D\u4E3A <code>function_name</code> \u7684\u51FD\u6570\u3002</p><h3 id="x-\u5BFC\u51FA-export" tabindex="-1"><a class="header-anchor" href="#x-\u5BFC\u51FA-export" aria-hidden="true">#</a> -x \u5BFC\u51FA\uFF08export\uFF09</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -x var3
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u8BE5\u8BED\u53E5\u58F0\u660E\u4E86\u53D8\u91CF <code>var3</code> \u53EF\u4EE5\u5BFC\u51FA\u5230\u8BE5\u53D8\u91CF\u6240\u5C5E\u811A\u672C\u4E4B\u5916\u7684 shell \u73AF\u5883\u4E2D\u3002</p><h3 id="x-var-value" tabindex="-1"><a class="header-anchor" href="#x-var-value" aria-hidden="true">#</a> -x var=$value</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -x <span class="token assign-left variable">var3</span><span class="token operator">=</span><span class="token number">373</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>declare</code> \u547D\u4EE4\u5141\u8BB8\u5728\u8BBE\u7F6E\u53D8\u91CF\u5C5E\u6027\u7684\u540C\u65F6\u7ED9\u53D8\u91CF\u8D4B\u503C\u3002</p><h4 id="\u6837\u4F8B9-10-\u4F7F\u7528-declare-\u547D\u4EE4\u6807\u6CE8\u53D8\u91CF\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u6837\u4F8B9-10-\u4F7F\u7528-declare-\u547D\u4EE4\u6807\u6CE8\u53D8\u91CF\u7C7B\u578B" aria-hidden="true">#</a> \u6837\u4F8B9-10. \u4F7F\u7528 <code>declare</code> \u547D\u4EE4\u6807\u6CE8\u53D8\u91CF\u7C7B\u578B</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token function-name function">func1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token builtin class-name">echo</span> This is a function.
<span class="token punctuation">}</span>

<span class="token builtin class-name">declare</span> -f        <span class="token comment"># \u663E\u793A\u4E0A\u9762\u7684\u6240\u6709\u51FD\u6570\u3002</span>

<span class="token builtin class-name">echo</span>

<span class="token builtin class-name">declare</span> -i var1   <span class="token comment"># var1 \u662F\u4E00\u4E2A\u6574\u578B\u53D8\u91CF\u3002</span>
<span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token number">2367</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;var1 declared as <span class="token variable">$var1</span>&quot;</span>
<span class="token assign-left variable">var1</span><span class="token operator">=</span>var1+1       <span class="token comment"># \u6574\u578B\u53D8\u91CF\u7684\u8FD0\u7B97\u53EF\u4EE5\u7701\u7565 let \u547D\u4EE4\u3002</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;var1 incremented by 1 is <span class="token variable">$var1</span>.&quot;</span>
<span class="token comment"># \u5C1D\u8BD5\u4FEE\u6539\u6574\u578B\u53D8\u91CF\u3002</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Attempting to change var1 to floating point value, 2367.1.&quot;</span>
<span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token number">2367.1</span>       <span class="token comment"># \u62A5\u9519\uFF0C\u5E76\u4E14 var1 \u7684\u503C\u5E76\u6CA1\u6709\u88AB\u4FEE\u6539\u3002</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;var1 is still <span class="token variable">$var1</span>&quot;</span>

<span class="token builtin class-name">echo</span>

<span class="token builtin class-name">declare</span> -r <span class="token assign-left variable">var2</span><span class="token operator">=</span><span class="token number">13.36</span>         <span class="token comment"># &#39;declare&#39; \u5141\u8BB8\u5728\u8BBE\u7F6E\u53D8\u91CF\u5C5E\u6027\u65F6\uFF0C</span>
                              <span class="token comment">#+ \u540C\u65F6\u7ED9\u53D8\u91CF\u8D4B\u503C\u3002</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;var2 declared as <span class="token variable">$var2</span>&quot;</span> <span class="token comment"># \u5C1D\u8BD5\u4FEE\u6539\u53EA\u8BFB\u53D8\u91CF\u3002</span>
<span class="token assign-left variable">var2</span><span class="token operator">=</span><span class="token number">13.37</span>                    <span class="token comment"># \u62A5\u9519\uFF0C\u7136\u540E\u811A\u672C\u5F02\u5E38\u7ED3\u675F\u3002</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;var2 is still <span class="token variable">$var2</span>&quot;</span>    <span class="token comment"># \u8FD9\u884C\u8BED\u53E5\u5C06\u4E0D\u4F1A\u88AB\u6267\u884C\u3002</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>                        <span class="token comment"># \u811A\u672C\u4E5F\u4E0D\u4F1A\u4ECE\u8FD9\u91CC\u7ED3\u675F\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>{% hint style=&quot;warning&quot; %}</p><p>\u4F7F\u7528\u5185\u5EFA\u547D\u4EE4 <code>declare</code> \u8FD8\u53EF\u4EE5\u9650\u5236\u53D8\u91CF\u7684 <a href="">\u4F5C\u7528\u57DF</a>\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function-name function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token assign-left variable">FOO</span><span class="token operator">=</span><span class="token string">&quot;bar&quot;</span>
<span class="token punctuation">}</span>

<span class="token function-name function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
foo
<span class="token builtin class-name">echo</span> <span class="token variable">$FOO</span>
<span class="token punctuation">}</span>

bar   <span class="token comment"># \u8F93\u51FA bar\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u4F46\u662F...</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function-name function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token builtin class-name">declare</span> <span class="token assign-left variable">FOO</span><span class="token operator">=</span><span class="token string">&quot;bar&quot;</span>
<span class="token punctuation">}</span>

<span class="token function-name function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
foo
<span class="token builtin class-name">echo</span> <span class="token variable">$FOO</span>
<span class="token punctuation">}</span>

bar  <span class="token comment"># \u4EC0\u4E48\u90FD\u4E0D\u4F1A\u8F93\u51FA\u3002</span>


<span class="token comment"># \u611F\u8C22 Michael Iatrou \u6307\u51FA\u8FD9\u70B9\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>{% endhint %}</p><h2 id="\u6CE8\u8BB0" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u8BB0" aria-hidden="true">#</a> \u6CE8\u8BB0</h2><p>{% hint style=&quot;info&quot; %} \u5728\u672C\u4E66\u4E2D\uFF0C\u53D8\u91CF\u7C7B\u578B\u6807\u6CE8\uFF08typing\uFF09\u662F\u6307\u6307\u5B9A\u53D8\u91CF\u7C7B\u578B\u5E76\u9650\u5236\u5176\u5C5E\u6027\u3002\u4F8B\u5982\u4E00\u4E2A\u53D8\u91CF\u88AB <code>declared</code> \u6216\u662F <code>typed</code> \u547D\u4EE4\u58F0\u660E\u4E3A\u6574\u578B\uFF0C\u5219\u8BE5\u53D8\u91CF\u4E0D\u518D\u9002\u7528\u4E8E\u5404\u79CD <a href="">\u5B57\u7B26\u4E32\u64CD\u4F5C</a>\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">declare</span> -i intvar

<span class="token assign-left variable">intvar</span><span class="token operator">=</span><span class="token number">23</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$intvar</span>&quot;</span>   <span class="token comment"># 23</span>
<span class="token assign-left variable">intvar</span><span class="token operator">=</span>stringval
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$intvar</span>&quot;</span>   <span class="token comment"># 0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>{% endhint %}</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>Footnotes placeholder <a href="#footnote-ref1" class="footnote-backref">\u21A9\uFE0E</a></p></li></ol></section>`,39);function l(p,c){return e}var t=n(a,[["render",l],["__file","09_2_typing_variables_declare_or_typeset.html.vue"]]);export{t as default};
