import{_ as s,e}from"./app.200bae49.js";const n={},a=e(`<h1 id="_7-\u5E38\u89C1\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_7-\u5E38\u89C1\u95EE\u9898" aria-hidden="true">#</a> 7 \u5E38\u89C1\u95EE\u9898</h1><h3 id="_4-3-\u5173\u4E8Essh\u8FDE\u63A5\u4E00\u4E9B\u5E38\u89C1\u7684\u9519\u8BEF\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#_4-3-\u5173\u4E8Essh\u8FDE\u63A5\u4E00\u4E9B\u5E38\u89C1\u7684\u9519\u8BEF\u8BF4\u660E" aria-hidden="true">#</a> 4.3 \u5173\u4E8Essh\u8FDE\u63A5\u4E00\u4E9B\u5E38\u89C1\u7684\u9519\u8BEF\u8BF4\u660E</h3><ol><li><code>ERROR! to use the &#39;ssh&#39; connection type with passwords, you must install the sshpass program</code></li></ol><p>\u5B8C\u6574\u9519\u8BEF\u793A\u4F8B\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>root@ctnr:/etc/ansible# ansible &#39;*.a32-168-1.*&#39; -m ping
ctnr.a32-168-1.prod.yiz | FAILED! =&gt; {
    &quot;failed&quot;: true, 
    &quot;msg&quot;: &quot;ERROR! to use the &#39;ssh&#39; connection type with passwords, you must install the sshpass program&quot;
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u4E00\u822C\u51FA\u73B0\u8FD9\u79CD\u9519\u8BEF\uFF0C\u662F\u5728\u901A\u8FC7\u5BC6\u7801\u9A8C\u8BC1\u8FDC\u7A0B\u88AB\u7BA1\u7406\u673A\u7684\u65F6\u5019\uFF0C\u9700\u8981\u5728server\u7AEF\u5B89\u88C5sshpass\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yum install sshpass -y 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol><li><code>Using a SSH password instead of a key is not possible because Host Key checking is enabled and sshpass does not support this. Please add this host&#39;s fingerprint to your known_hosts file to manage this host</code></li></ol><p>\u5B8C\u6574\u9519\u8BEF\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ansible test -a &#39;uptime&#39;

192.168.1.1| FAILED =&gt;Using a SSH password instead of a key is not possible because HostKey checking is enabled and sshpass does not support this.Please add this host&#39;s fingerprint to your known_hosts file to manage this host.
192.168.1.2 | FAILED =&gt; Using a SSH password instead of a key is not possible because Host Key checking is enabled and sshpass does not support this.  Please add this host&#39;s fingerprint to your known_hosts file to manage this host.
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8FD9\u79CD\u9519\u8BEF\u901A\u5E38\u5C31\u51FA\u73B0\u5728server\u7AEF\u7B2C\u4E00\u6B21\u8FDE\u63A5\u88AB\u7BA1\u7406\u673A\u7684\u65F6\u5019\uFF0C\u5C31\u662F\u4E0A\u9762\u8BF4\u5230\u7684\u9700\u8981\u901A\u8FC7\u8F93\u5165yes/no\u8FDB\u884C\u786E\u8BA4\u5C06key\u5B57\u7B26\u4E32\u52A0\u5165\u5230<code>~/.ssh/known_hosts</code>\u6587\u4EF6\u4E2D\u3002</p><p>\u89E3\u51B3\u529E\u6CD5\u6709\u4E24\u4E2A\uFF1A</p><ul><li>\u901A\u8FC7\u4FEE\u6539\u4E0A\u9762\u63D0\u5230\u7684host_key_checking\uFF0C\u5C06\u5176\u8BBE\u7F6E\u4E3Afalse</li><li>\u901A\u8FC7\u4FEE\u6539ssh_args\u53C2\u6570\uFF0C\u4FEE\u6539\u5982\u4E0B\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ssh_args = -C -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,14);function t(i,o){return a}var l=s(n,[["render",t],["__file","qa.html.vue"]]);export{l as default};
