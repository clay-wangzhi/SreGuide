const n=JSON.parse(`{"key":"v-1b0e4f8c","path":"/devops/ansible/ansible-best-practice.html","title":"Ansible 使用中的一些实践","lang":"zh-CN","frontmatter":{"category":"自动化工具","tag":["Ansible"],"description":"Ansible 使用中的一些实践 本地执行 记录 输出结果 样例一 cat check_app.yaml - hosts: all gather_facts: no tasks: - script: port_check.sh register: netstat - shell: source /etc/profile &amp;&amp; jps | grep -v Jps | awk '{print $2}' register: java - shell: echo {{ansible_ssh_host}} {{netstat.stdout_lines}} {{java.stdout_lines}} &gt;&gt; /home/clay/result.txt connection: local","head":[["meta",{"property":"og:url","content":"https://clay-wangzhi.com/devops/ansible/ansible-best-practice.html"}],["meta",{"property":"og:site_name","content":"SRE运维进阶之路"}],["meta",{"property":"og:title","content":"Ansible 使用中的一些实践"}],["meta",{"property":"og:description","content":"Ansible 使用中的一些实践 本地执行 记录 输出结果 样例一 cat check_app.yaml - hosts: all gather_facts: no tasks: - script: port_check.sh register: netstat - shell: source /etc/profile &amp;&amp; jps | grep -v Jps | awk '{print $2}' register: java - shell: echo {{ansible_ssh_host}} {{netstat.stdout_lines}} {{java.stdout_lines}} &gt;&gt; /home/clay/result.txt connection: local"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-04-19T13:50:36.000Z"}],["meta",{"property":"article:author","content":"Clay"}],["meta",{"property":"article:tag","content":"Ansible"}],["meta",{"property":"article:modified_time","content":"2023-04-19T13:50:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Ansible 使用中的一些实践\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-04-19T13:50:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Clay\\",\\"url\\":\\"https://clay-wangzhi.com\\"}]}"]]},"headers":[{"level":2,"title":"本地执行 记录 输出结果","slug":"本地执行-记录-输出结果","link":"#本地执行-记录-输出结果","children":[]}],"git":{"createdTime":1681912236000,"updatedTime":1681912236000,"contributors":[{"name":"clay-wangzhi","email":"clay.wangzhi@gmail.com","commits":1}]},"readingTime":{"minutes":0.47,"words":142},"filePathRelative":"devops/ansible/ansible-best-practice.md","localizedDate":"2023年4月19日","excerpt":"<h1> Ansible 使用中的一些实践</h1>\\n<h2> 本地执行 记录 输出结果</h2>\\n<p>样例一</p>\\n<p><code>cat check_app.yaml</code></p>\\n<div class=\\"language-yaml line-numbers-mode\\" data-ext=\\"yml\\"><pre class=\\"language-yaml\\"><code><span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">hosts</span><span class=\\"token punctuation\\">:</span> all\\n  <span class=\\"token key atrule\\">gather_facts</span><span class=\\"token punctuation\\">:</span> no\\n  <span class=\\"token key atrule\\">tasks</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">script</span><span class=\\"token punctuation\\">:</span> port_check.sh\\n      <span class=\\"token key atrule\\">register</span><span class=\\"token punctuation\\">:</span> netstat\\n\\n    <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">shell</span><span class=\\"token punctuation\\">:</span> source /etc/profile <span class=\\"token important\\">&amp;&amp;</span> jps <span class=\\"token punctuation\\">|</span> grep <span class=\\"token punctuation\\">-</span>v Jps <span class=\\"token punctuation\\">|</span> awk '<span class=\\"token punctuation\\">{</span>print $2<span class=\\"token punctuation\\">}</span>'\\n      <span class=\\"token key atrule\\">register</span><span class=\\"token punctuation\\">:</span> java\\n\\n    <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">shell</span><span class=\\"token punctuation\\">:</span> echo <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">{</span>ansible_ssh_host<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">}</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">{</span>netstat.stdout_lines<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">}</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">{</span>java.stdout_lines<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">}</span> <span class=\\"token punctuation\\">&gt;</span><span class=\\"token punctuation\\">&gt;</span> /home/clay/result.txt\\n      <span class=\\"token key atrule\\">connection</span><span class=\\"token punctuation\\">:</span> local\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"Clay"},"autoDesc":true}`);export{n as data};
