const e=JSON.parse('{"key":"v-74f98632","path":"/cloudnative/install-ops/install-books/k8s-install.html","title":"简述 K8s 集群搭建步骤","lang":"zh-CN","frontmatter":{"category":"云原生","order":1,"tag":["Kubernetes"],"description":"简述 K8s 集群搭建步骤 preinstall：安装前准备 关闭 swap 分区 更换 yum 源、安装 依赖包 更新 系统版本 到 centos 7.9、内核版本 到 长期支持版本 kernel-lt 5.4.196 如果硬件网卡驱动不支持新版本内核，升级 网卡驱动， 针对新内核重新编译 调节 CPU 性能模式为高性能 禁用防火墙、SELINUX 修改内核参数、加载 br_netfilter、ip_conntrack、ipvs 等 modules 配置时间同步 重启服务器，使用内核生效 检查 内核版本 检查 hostname 是否符合 DNS 规范 检查 kube_service_addresses 和 kube_pods_subnet 是否为正确的网络段 检查 kube_service_addresses 和 kube_pods_subnet 的网段是否冲突 检查时间是否同步 检查 访问外网的连通性（DNS配置是否正确）","head":[["meta",{"property":"og:url","content":"https://clay-wangzhi.com/cloudnative/install-ops/install-books/k8s-install.html"}],["meta",{"property":"og:site_name","content":"SRE运维进阶之路"}],["meta",{"property":"og:title","content":"简述 K8s 集群搭建步骤"}],["meta",{"property":"og:description","content":"简述 K8s 集群搭建步骤 preinstall：安装前准备 关闭 swap 分区 更换 yum 源、安装 依赖包 更新 系统版本 到 centos 7.9、内核版本 到 长期支持版本 kernel-lt 5.4.196 如果硬件网卡驱动不支持新版本内核，升级 网卡驱动， 针对新内核重新编译 调节 CPU 性能模式为高性能 禁用防火墙、SELINUX 修改内核参数、加载 br_netfilter、ip_conntrack、ipvs 等 modules 配置时间同步 重启服务器，使用内核生效 检查 内核版本 检查 hostname 是否符合 DNS 规范 检查 kube_service_addresses 和 kube_pods_subnet 是否为正确的网络段 检查 kube_service_addresses 和 kube_pods_subnet 的网段是否冲突 检查时间是否同步 检查 访问外网的连通性（DNS配置是否正确）"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-08-03T16:18:47.000Z"}],["meta",{"property":"article:author","content":"Clay"}],["meta",{"property":"article:tag","content":"Kubernetes"}],["meta",{"property":"article:modified_time","content":"2023-08-03T16:18:47.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"简述 K8s 集群搭建步骤\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-08-03T16:18:47.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Clay\\",\\"url\\":\\"https://clay-wangzhi.com\\"}]}"]]},"headers":[{"level":3,"title":"preinstall：安装前准备","slug":"preinstall-安装前准备","link":"#preinstall-安装前准备","children":[]},{"level":3,"title":"docker：安装Docker","slug":"docker-安装docker","link":"#docker-安装docker","children":[]},{"level":3,"title":"master: 安装 master","slug":"master-安装-master","link":"#master-安装-master","children":[]},{"level":3,"title":"ha：使用 haproxy + keepalived 实现master高可用，负载均衡","slug":"ha-使用-haproxy-keepalived-实现master高可用-负载均衡","link":"#ha-使用-haproxy-keepalived-实现master高可用-负载均衡","children":[]},{"level":3,"title":"calico：安装配置 Calico BGP RR模型","slug":"calico-安装配置-calico-bgp-rr模型","link":"#calico-安装配置-calico-bgp-rr模型","children":[]},{"level":3,"title":"node：安装 node","slug":"node-安装-node","link":"#node-安装-node","children":[]}],"git":{"createdTime":1691079527000,"updatedTime":1691079527000,"contributors":[{"name":"clay-wangzhi","email":"clay.wangzhi@gmail.com","commits":1}]},"readingTime":{"minutes":1.64,"words":491},"filePathRelative":"cloudnative/install-ops/install-books/k8s-install.md","localizedDate":"2023年8月3日","excerpt":"<h1> 简述 K8s 集群搭建步骤</h1>\\n<h3> preinstall：安装前准备</h3>\\n<ul>\\n<li>关闭 swap 分区</li>\\n<li>更换 yum 源、安装 依赖包</li>\\n<li>更新 系统版本 到 centos 7.9、内核版本 到 长期支持版本 kernel-lt 5.4.196</li>\\n<li>如果硬件网卡驱动不支持新版本内核，升级 网卡驱动， 针对新内核重新编译</li>\\n<li><strong>调节 CPU 性能模式为高性能</strong></li>\\n<li>禁用防火墙、SELINUX</li>\\n<li>修改内核参数、加载 br_netfilter、ip_conntrack、ipvs 等 modules</li>\\n<li>配置时间同步</li>\\n<li>重启服务器，使用内核生效</li>\\n<li>检查 内核版本</li>\\n<li>检查 hostname 是否符合 DNS 规范</li>\\n<li>检查 kube_service_addresses 和 kube_pods_subnet 是否为正确的网络段</li>\\n<li>检查 kube_service_addresses 和 kube_pods_subnet 的网段是否冲突</li>\\n<li>检查时间是否同步</li>\\n<li>检查 访问外网的连通性（DNS配置是否正确）</li>\\n</ul>","copyright":{"author":"Clay"},"autoDesc":true}');export{e as data};
