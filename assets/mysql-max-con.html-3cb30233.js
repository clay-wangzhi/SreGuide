import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as n,c as a,a as s}from"./app-2878b4b3.js";const i={},t=s(`<h1 id="mysql最大连接数的改变" tabindex="-1"><a class="header-anchor" href="#mysql最大连接数的改变" aria-hidden="true">#</a> mysql最大连接数的改变</h1><p>在使用MySQL数据库的时候，经常会遇到这么一个问题，就是“Can not connect to MySQL server. Too many connections”-mysql 1040错误，这是因为访问MySQL且还未释放的连接数目已经达到MySQL的上限。通常，mysql的最大连接数默认是100, 最大可以达到16384。</p><p>常用的有两种方式修改最大连接数。</p><h3 id="命令行修改" tabindex="-1"><a class="header-anchor" href="#命令行修改" aria-hidden="true">#</a> 命令行修改</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#mysql -uuser -ppassword(命令行登录MySQL)
mysql&gt;show variables like &#39;max_connections&#39;;(查可以看当前的最大连接数)
msyql&gt;set global max_connections=1000;(设置最大连接数为1000，可以再次查看是否设置成功)
mysql&gt;exit(退出)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种方式有个问题，就是设置的最大连接数只在mysql当前服务进程有效，一旦mysql重启，又会恢复到初始状态。因为mysql启动后的初始化工作是从其配置文件中读取数据的，而这种方式没有对其配置文件做更改。</p><h3 id="修改配置文件" tabindex="-1"><a class="header-anchor" href="#修改配置文件" aria-hidden="true">#</a> 修改配置文件</h3><p>这 种方式说来很简单，只要修改MySQL配置文件my.ini 或 my.cnf的参数max_connections，将其改为max_connections=1000，然后重启MySQL即可。</p>`,8),c=[t];function l(o,r){return n(),a("div",null,c)}const h=e(i,[["render",l],["__file","mysql-max-con.html.vue"]]);export{h as default};
