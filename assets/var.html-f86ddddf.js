import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as l,e as r}from"./app-5aac8996.js";const i={},s=r('<h1 id="_5-ansible变量" tabindex="-1"><a class="header-anchor" href="#_5-ansible变量" aria-hidden="true">#</a> 5 Ansible变量</h1><h2 id="变量优先级" tabindex="-1"><a class="header-anchor" href="#变量优先级" aria-hidden="true">#</a> 变量优先级</h2><p>这些变量定义的方法，它们的优先级如下：</p><ol><li>在命令行中定义的变量（即用<code>-e</code>或<code>--extra-vars</code>定义的变量）；</li><li>在Inventory中定义的连接变量（比如：ansible_ssh_user）;</li><li>大多数的其他变量（命令行转换、play中的变量、included的变量、role中的变量等）；</li><li>在Inventory中定义的其他变量；</li><li>Facts变量；</li><li>“Role”默认变量，这个是默认的值，很容易丧失优先权。</li></ol><h2 id="变量作用域" tabindex="-1"><a class="header-anchor" href="#变量作用域" aria-hidden="true">#</a> 变量作用域</h2><p>Ansible中变量主要有五种作用域概念：</p><p>(1).全局作用域：Ansible配置文件、环境变量、命令行选项-e,--extra-vars设置的变量都是全局变量</p><p>(2).Play作用域：整个Play中都有效的变量，vars_files、vars_prompt、play级别的vars以及Role的变量，它们都是play级别的变量</p><p>(3).主机变量：绑定在各主机上的变量，各种方式定义的inventory变量、Facts信息变量(这个就划分在这吧)、set_fact、register、include_vars都是主机变量</p><p>(4).任务变量：只在当前任务中生效的变量，task级别的vars定义的变量属于任务变量</p><p>(5).block变量：只在当前block内生效，block级别的vars定义的变量属于block变量</p><p>最后还有预定义特殊变量未分类，这些变量由Ansible自身内部维护，有些是全局变量，有些是play变量，有些是主机变量，所以不方便对它们分类。</p>',12),t=[s];function o(n,c){return a(),l("div",null,t)}const h=e(i,[["render",o],["__file","var.html.vue"]]);export{h as default};
