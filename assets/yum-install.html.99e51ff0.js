import{_ as i,r as l,c as t,a as n,b as a,F as p,d as e,e as r,o}from"./app.200bae49.js";const d={},c=n("h1",{id:"_2-1-yum-\u5B89\u88C5-jenkins",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-1-yum-\u5B89\u88C5-jenkins","aria-hidden":"true"},"#"),e(" 2.1 yum \u5B89\u88C5 jenkins")],-1),u=e("\u8F6C\u8F7D\u81EA\uFF1A "),b={href:"https://www.kancloud.cn/willseecloud/jenkins/1860531",target:"_blank",rel:"noopener noreferrer"},m=e("yum\u5B89\u88C5jenkins | willseecloud | \u770B\u4E91"),k=n("h2",{id:"yum\u5B89\u88C5jenkins",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#yum\u5B89\u88C5jenkins","aria-hidden":"true"},"#"),e(" yum\u5B89\u88C5jenkins")],-1),j=n("p",null,"\u5B98\u65B9\u6587\u6863\uFF1A",-1),g=n("p",null,"https://pkg.jenkins.io/redhat-stable/",-1),h={href:"http://mirrors.jenkins-ci.org/%EF%BC%8C",target:"_blank",rel:"noopener noreferrer"},x=e("http://mirrors.jenkins-ci.org/"),_=n("p",null,"\u53EF\u9009\u62E9Jenkins\u957F\u671F\u652F\u6301\u7248\u672C\u6216Jenkins\u6BCF\u5468\u7248\u672C\u8FDB\u884C\u5B89\u88C5\u3002",-1),v=n("p",null,[n("strong",null,"\u957F\u671F\u652F\u6301\u7248\u672C")],-1),A=e("\u6BCF12\u5468\u4ECE\u5B9A\u671F\u53D1\u5E03\u6D41\u4E2D\u9009\u62E9\u4E00\u4E2A"),w={href:"https://www.jenkins.io/download/lts/",target:"_blank",rel:"noopener noreferrer"},E=e("LTS\uFF08\u957F\u671F\u652F\u6301\uFF09"),y=e("\u53D1\u5E03\u4F5C\u4E3A\u8BE5\u65F6\u95F4\u6BB5\u7684\u7A33\u5B9A\u53D1\u5E03\u3002\u53EF\u4EE5\u4ECE"),N={href:"https://pkg.jenkins.io/redhat-stable/",target:"_blank",rel:"noopener noreferrer"},C=n("code",null,"redhat-stable",-1),D=e("yum\u5B58\u50A8\u5E93\u5B89\u88C5\u3002"),M=r(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
sudo yum upgrade -y
sudo yum install -y jenkins java-1.8.0-openjdk-devel
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u6BCF\u5468\u53D1\u5E03\u7248\u672C</strong></p>`,2),Q=e("\u6BCF\u5468\u90FD\u4F1A\u4EA7\u751F\u4E00\u4E2A\u65B0\u7248\u672C\uFF0C\u4EE5\u5411\u7528\u6237\u548C\u63D2\u4EF6\u5F00\u53D1\u4EBA\u5458\u63D0\u4F9B\u9519\u8BEF\u4FEE\u590D\u548C\u529F\u80FD\u3002\u53EF\u4EE5\u4ECE"),f={href:"https://pkg.jenkins.io/redhat/",target:"_blank",rel:"noopener noreferrer"},I=n("code",null,"redhat",-1),J=e("yum\u5B58\u50A8\u5E93\u5B89\u88C5\u3002"),T=r(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat/jenkins.repo
sudo rpm --import https://pkg.jenkins.io/redhat/jenkins.io.key
sudo yum upgrade
sudo yum install -y jenkins java-1.8.0-openjdk-devel
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u4F7F\u7528\u56FD\u5185rpm\u5305\u5B89\u88C5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yum install -y java-11-openjdk-devel
yum install -y https://mirrors.huaweicloud.com/jenkins/redhat-stable/jenkins-2.235.3-1.1.noarch.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4FEE\u6539jenkins\u914D\u7F6E\u6587\u4EF6\u4EE5\u81EA\u5B9A\u4E49\u7AEF\u53E3</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# cat /etc/sysconfig/jenkins | grep JENKINS_PORT
JENKINS_PORT=&quot;8080&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u542F\u52A8jenkins\u670D\u52A1</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>systemctl enable --now jenkins
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u914D\u7F6Eupdate center</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>export JENKINS_HOME=/var/lib/jenkins
mkdir $JENKINS_HOME/update-center-rootCAs
cat &gt; $JENKINS_HOME/update-center-rootCAs/jenkins-update-center-cn-root-ca.crt &lt;&lt;END
-----BEGIN CERTIFICATE-----
MIICcTCCAdoCCQD/jZ7AgrzJKTANBgkqhkiG9w0BAQsFADB9MQswCQYDVQQGEwJD
TjELMAkGA1UECAwCR0QxCzAJBgNVBAcMAlNaMQ4wDAYDVQQKDAV2aWhvbzEMMAoG
A1UECwwDZGV2MREwDwYDVQQDDAhkZW1vLmNvbTEjMCEGCSqGSIb3DQEJARYUYWRt
aW5AamVua2lucy16aC5jb20wHhcNMTkxMTA5MTA0MDA5WhcNMjIxMTA4MTA0MDA5
WjB9MQswCQYDVQQGEwJDTjELMAkGA1UECAwCR0QxCzAJBgNVBAcMAlNaMQ4wDAYD
VQQKDAV2aWhvbzEMMAoGA1UECwwDZGV2MREwDwYDVQQDDAhkZW1vLmNvbTEjMCEG
CSqGSIb3DQEJARYUYWRtaW5AamVua2lucy16aC5jb20wgZ8wDQYJKoZIhvcNAQEB
BQADgY0AMIGJAoGBAN+6jN8rCIjVkQ0Q7ZbJLk4IdcHor2WdskOQMhlbR0gOyb4g
RX+CorjDRjDm6mj2OohqlrtRxLGYxBnXFeQGU7wWjQHyfKDghtP51G/672lXFtzB
KXukHByHjtzrDxAutKTdolyBCuIDDGJmRk+LavIBY3/Lxh6f0ZQSeCSJYiyxAgMB
AAEwDQYJKoZIhvcNAQELBQADgYEAD92l26PoJcbl9GojK2L3pyOQjeeDm/vV9e3R
EgwGmoIQzlubM0mjxpCz1J73nesoAcuplTEps/46L7yoMjptCA3TU9FZAHNQ8dbz
a0vm4CF9841/FIk8tsLtwCT6ivkAi0lXGwhX0FK7FaAyU0nNeo/EPvDwzTim4XDK
9j1WGpE=
-----END CERTIFICATE-----
END
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>\u4FEE\u6539update center\u5730\u5740</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cp $JENKINS_HOME/hudson.model.UpdateCenter.xml $JENKINS_HOME/hudson.model.UpdateCenter.xml.back

sed -i &#39;s#https://updates.jenkins.io/update-center.json#https://mirrors.huaweicloud.com/jenkins/updates/update-center.json#g&#39; \\
  $JENKINS_HOME/hudson.model.UpdateCenter.xml
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u91CD\u542Fjenkins\u670D\u52A1</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>systemctl restart jenkins
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u8F93\u5165\u521D\u59CB\u5316\u5BC6\u7801\u5E76\u8FDB\u884C\u914D\u7F6E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cat /var/lib/jenkins/secrets/initialAdminPassword
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,15),B=e("\u6D4F\u89C8\u5668\u8BBF\u95EEjenkins\uFF1A"),G={href:"http://192.168.1.1:8080/",target:"_blank",rel:"noopener noreferrer"},K=e("http://192.168.1.1:8080"),S=r(`<h2 id="jenkins\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#jenkins\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> jenkins\u914D\u7F6E\u6587\u4EF6</h2><p>jenkins\u76F8\u5173\u76EE\u5F55\u8BF4\u660E\uFF1A</p><p>/usr/lib/jenkins/ jenkins\u5B89\u88C5\u76EE\u5F55\uFF0Cwar\u5305\u4F1A\u653E\u5728\u8FD9\u91CC\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># ls /usr/lib/jenkins/
jenkins.war
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>/var/lib/jenkins/</p><p>\u9ED8\u8BA4\u7684JENKINS_HOME\uFF0C\u5176\u4E2D\u5B58\u50A8\u4E86\u5173\u4E8E\u6784\u5EFA\u670D\u52A1\u5668\u7684\u914D\u7F6E\u4FE1\u606F\u3001\u6784\u5EFA\u4F5C\u4E1A\u3001\u6784\u5EFA\u4EA7\u7269\u3001\u63D2\u4EF6\u548C\u5176\u5B83\u6709\u7528\u7684\u4FE1\u606F\u3002 \u8FD9\u4E2A\u76EE\u5F55\u5C06\u4F1A\u5360\u7528\u5927\u91CF\u7684\u78C1\u76D8\u7A7A\u95F4\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># ll /var/lib/jenkins/
total 60
-rw-r--r-- 1 jenkins jenkins 1640 Aug  1 12:56 config.xml
-rw-r--r-- 1 jenkins jenkins  156 Aug  1 12:56 hudson.model.UpdateCenter.xml
-rw------- 1 jenkins jenkins 1712 Aug  1 12:56 identity.key.enc
-rw-r--r-- 1 jenkins jenkins    7 Aug  1 12:56 jenkins.install.UpgradeWizard.state
-rw-r--r-- 1 jenkins jenkins  171 Aug  1 12:56 jenkins.telemetry.Correlator.xml
drwxr-xr-x 2 jenkins jenkins 4096 Aug  1 12:56 jobs
drwxr-xr-x 3 jenkins jenkins 4096 Aug  1 12:56 logs
-rw-r--r-- 1 jenkins jenkins  907 Aug  1 12:56 nodeMonitors.xml
drwxr-xr-x 2 jenkins jenkins 4096 Aug  1 12:56 nodes
drwxr-xr-x 2 jenkins jenkins 4096 Aug  1 12:56 plugins
-rw-r--r-- 1 jenkins jenkins   64 Aug  1 12:56 secret.key
-rw-r--r-- 1 jenkins jenkins    0 Aug  1 12:56 secret.key.not-so-secret
drwx------ 4 jenkins jenkins 4096 Aug  1 12:56 secrets
drwxr-xr-x 2 jenkins jenkins 4096 Aug  1 12:56 updates
drwxr-xr-x 2 jenkins jenkins 4096 Aug  1 12:56 userContent
drwxr-xr-x 3 jenkins jenkins 4096 Aug  1 12:56 users
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>\u76EE\u5F55\u6587\u4EF6\u8BF4\u660E\uFF1A</p><ul><li>config.xml\uFF1Ajenkins \u7684\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6</li><li>xml\uFF1A \u5176\u5B83\u5404\u79CD\u5DE5\u5177\u7684\u914D\u7F6E\u4FE1\u606F</li></ul><p>fingerprints\uFF1A\u8DDF\u8E2A\u4EBA\u5DE5\u64CD\u4F5C\u7684\u75D5\u8FF9</p><ul><li>jobs\uFF1A\u6784\u5EFA\u4F5C\u4E1A\u7684\u914D\u7F6E\u7EC6\u8282\uFF0C\u53CA\u6784\u5EFA\u4EA7\u7269\u548C\u6570\u636E</li></ul><p>workspace\uFF1Ajenkins \u5BF9\u5F53\u524D\u4F5C\u4E1A\u8FDB\u884C\u6784\u5EFA\u7684\u5730\u65B9\uFF0C \u5305\u542B jenkins \u68C0\u9A8C\u8FC7\u7684\u6E90\u7801\u3001\u6784\u5EFA\u672C\u8EAB\u751F\u6210\u7684\u6240\u6709\u6587\u4EF6</p><ul><li>builds\uFF1A\u5305\u542B\u5F53\u524D\u4F5C\u4E1A\u7684\u6784\u5EFA\u5386\u53F2</li><li>config.xml\uFF1A\u5B58\u653E\u5F53\u524D\u4F5C\u4E1A\u7684\u6240\u6709\u914D\u7F6E\u7EC6\u8282</li><li>nextBuildNumber\uFF1A\u4E0B\u4E00\u6B21\u6784\u5EFA\u7684 number</li><li>lastStable\uFF1A\u6700\u540E\u4E00\u4E2A\u7A33\u5B9A\u6784\u5EFA\u7684\u94FE\u63A5\uFF08\u6210\u529F\u7684\u6784\u5EFA\uFF09</li><li>lastSuccessful\uFF1A\u6700\u8FD1\u6210\u529F\u7684\u6784\u5EFA\u94FE\u63A5\uFF08\u6CA1\u6709\u4EFB\u4F55\u7F16\u8BD1\u9519\u8BEF\uFF09</li><li>plugins\uFF1A\u5B58\u653E\u6240\u6709\u5DF2\u5B89\u88C5\u7684\u63D2\u4EF6\uFF0C\u66F4\u65B0 jenkins \u4E0D\u9700\u8981\u91CD\u65B0\u5B89\u88C5\u63D2\u4EF6</li><li>users\uFF1A\u5F53\u4F7F\u7528 jenkins \u672C\u5730\u7528\u6237\u6570\u636E\u5E93\u65F6\uFF0C\u7528\u6237\u4FE1\u606F\u4F1A\u5B58\u653E\u5728\u8FD9\u4E2A\u76EE\u5F55\u4E0B</li><li>updates\uFF1A\u5B58\u653E\u53EF\u7528\u7684\u63D2\u4EF6\u66F4\u65B0</li><li>userContent\uFF1A\u5B58\u653E\u7528\u6237\u81EA\u5DF1\u4E3A jenkins \u670D\u52A1\u5668\u5B9A\u5236\u5316\u7684\u4E00\u4E9B\u5185\u5BB9</li><li>war\uFF1A\u5B58\u653E\u6269\u5C55\u7684 web \u5E94\u7528\u7A0B\u5E8F\uFF0C\u5F53\u4EE5\u5355\u673A\u5E94\u7528\u7A0B\u5E8F\u7684\u5F62\u5F0F\u8FD0\u884C jenkins \u65F6\uFF0C\u4F1A\u628A web \u5E94\u7528\u7A0B\u5E8F\u89E3\u538B\u5230\u8FD9\u4E2A\u76EE\u5F55</li></ul><p>/var/log/jenkins/jenkins.log jenkins\u65E5\u5FD7\u6587\u4EF6\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>tail -f /var/log/jenkins/jenkins.log
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>/etc/sysconfig/jenkins #\u914D\u7F6E\u6587\u4EF6\uFF0C\u201C\u7AEF\u53E3\u201D\uFF0C\u201CJENKINS_HOME\u201D\u7B49\u90FD\u53EF\u4EE5\u5728\u8FD9\u91CC\u914D\u7F6E\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cat /etc/sysconfig/jenkins
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4FEE\u6539\u5185\u5B58\u9650\u5236\uFF0C\u7F16\u8F91/etc/sysconfig/jenkins</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vi /etc/sysconfig/jenkins
JENKINS_JAVA_OPTIONS=&quot;-Xmx2048m -Djava.awt.headless=true&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,19);function V(O,R){const s=l("ExternalLinkIcon");return o(),t(p,null,[c,n("blockquote",null,[n("p",null,[u,n("a",b,[m,a(s)])])]),k,j,g,n("p",null,[n("a",h,[x,a(s)])]),_,v,n("p",null,[A,n("a",w,[E,a(s)]),y,n("a",N,[C,a(s)]),D]),M,n("p",null,[Q,n("a",f,[I,a(s)]),J]),T,n("p",null,[B,n("a",G,[K,a(s)])]),S],64)}var L=i(d,[["render",V],["__file","yum-install.html.vue"]]);export{L as default};
