const e=JSON.parse('{"key":"v-84a8723c","path":"/cloudnative/troubleshooting/k8s-eviction.html","title":"K8s 驱逐场景以及规避方案","lang":"zh-CN","frontmatter":{"isOriginal":true,"category":"云原生","tag":["Kubernetes"],"description":"K8s 驱逐场景以及规避方案 Pod 驱逐场景总结 从一个 SRE 角度看， Pod 驱逐分为两种情况： 较安全驱逐 &amp; 提高稳定性的良性驱逐 API 发起驱逐，典型案例：kubectl drain Node Not Ready 时，Controller Manager 发起的驱逐 有风险的驱逐 节点压力驱逐 节点磁盘空间不足、内存不足 或 Pid 不足， kubelet 发起驱逐 节点内存不足，内核发起 OOM 节点打污点（NoExecute），导致 Pod 被驱逐，或者移除亲和性标签，导致 Pod 被驱逐， Controller Manager 发起的驱逐 Pod 超过自身 Limit 限制， 内核用满，临时存储用满等 优先级抢占驱逐","head":[["meta",{"property":"og:url","content":"https://clay-wangzhi.com/cloudnative/troubleshooting/k8s-eviction.html"}],["meta",{"property":"og:site_name","content":"SRE运维进阶之路"}],["meta",{"property":"og:title","content":"K8s 驱逐场景以及规避方案"}],["meta",{"property":"og:description","content":"K8s 驱逐场景以及规避方案 Pod 驱逐场景总结 从一个 SRE 角度看， Pod 驱逐分为两种情况： 较安全驱逐 &amp; 提高稳定性的良性驱逐 API 发起驱逐，典型案例：kubectl drain Node Not Ready 时，Controller Manager 发起的驱逐 有风险的驱逐 节点压力驱逐 节点磁盘空间不足、内存不足 或 Pid 不足， kubelet 发起驱逐 节点内存不足，内核发起 OOM 节点打污点（NoExecute），导致 Pod 被驱逐，或者移除亲和性标签，导致 Pod 被驱逐， Controller Manager 发起的驱逐 Pod 超过自身 Limit 限制， 内核用满，临时存储用满等 优先级抢占驱逐"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-25T07:51:56.000Z"}],["meta",{"property":"article:author","content":"Clay"}],["meta",{"property":"article:tag","content":"Kubernetes"}],["meta",{"property":"article:modified_time","content":"2024-06-25T07:51:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"K8s 驱逐场景以及规避方案\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-25T07:51:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Clay\\",\\"url\\":\\"https://clay-wangzhi.com\\"}]}"]]},"headers":[{"level":2,"title":"Pod 驱逐场景总结","slug":"pod-驱逐场景总结","link":"#pod-驱逐场景总结","children":[]},{"level":2,"title":"概述一下各场景","slug":"概述一下各场景","link":"#概述一下各场景","children":[]},{"level":2,"title":"如何规避发生 风险驱逐","slug":"如何规避发生-风险驱逐","link":"#如何规避发生-风险驱逐","children":[]}],"git":{"createdTime":1719301916000,"updatedTime":1719301916000,"contributors":[{"name":"clay-wangzhi","email":"clay.wangzhi@gmail.com","commits":1}]},"readingTime":{"minutes":3.03,"words":908},"filePathRelative":"cloudnative/troubleshooting/k8s-eviction.md","localizedDate":"2024年6月25日","excerpt":"<h1> K8s 驱逐场景以及规避方案</h1>\\n<h2> Pod 驱逐场景总结</h2>\\n<p><img src=\\"https://clay-blog.oss-cn-shanghai.aliyuncs.com/img/image-20240625114517822.png\\" alt=\\"\\"></p>\\n<p>从一个 SRE 角度看， Pod 驱逐分为两种情况：</p>\\n<ul>\\n<li>较安全驱逐 &amp; 提高稳定性的良性驱逐\\n<ul>\\n<li>API  发起驱逐，典型案例：kubectl drain</li>\\n<li>Node Not Ready 时，Controller Manager 发起的驱逐</li>\\n</ul>\\n</li>\\n<li>有风险的驱逐\\n<ul>\\n<li>节点压力驱逐\\n<ul>\\n<li>节点磁盘空间不足、内存不足 或 Pid 不足， kubelet 发起驱逐</li>\\n<li>节点内存不足，内核发起 OOM</li>\\n</ul>\\n</li>\\n<li>节点打污点（NoExecute），导致 Pod 被驱逐，或者移除亲和性标签，导致 Pod 被驱逐， Controller Manager 发起的驱逐</li>\\n<li>Pod 超过自身 Limit 限制， 内核用满，临时存储用满等</li>\\n<li>优先级抢占驱逐</li>\\n</ul>\\n</li>\\n</ul>","copyright":{"author":"Clay"},"autoDesc":true}');export{e as data};
