(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{956:function(a,v,s){"use strict";s.r(v);var e=s(1),t=Object(e.a)({},(function(){var a=this,v=a.$createElement,s=a._self._c||v;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"_5-ansible变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-ansible变量"}},[a._v("#")]),a._v(" 5 Ansible变量")]),a._v(" "),s("h2",{attrs:{id:"变量优先级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量优先级"}},[a._v("#")]),a._v(" 变量优先级")]),a._v(" "),s("p",[a._v("这些变量定义的方法，它们的优先级如下：")]),a._v(" "),s("ol",[s("li",[a._v("在命令行中定义的变量（即用"),s("code",[a._v("-e")]),a._v("或"),s("code",[a._v("--extra-vars")]),a._v("定义的变量）；")]),a._v(" "),s("li",[a._v("在Inventory中定义的连接变量（比如：ansible_ssh_user）;")]),a._v(" "),s("li",[a._v("大多数的其他变量（命令行转换、play中的变量、included的变量、role中的变量等）；")]),a._v(" "),s("li",[a._v("在Inventory中定义的其他变量；")]),a._v(" "),s("li",[a._v("Facts变量；")]),a._v(" "),s("li",[a._v("“Role”默认变量，这个是默认的值，很容易丧失优先权。")])]),a._v(" "),s("h2",{attrs:{id:"变量作用域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量作用域"}},[a._v("#")]),a._v(" 变量作用域")]),a._v(" "),s("p",[a._v("Ansible中变量主要有五种作用域概念：")]),a._v(" "),s("p",[a._v("(1).全局作用域：Ansible配置文件、环境变量、命令行选项-e,--extra-vars设置的变量都是全局变量")]),a._v(" "),s("p",[a._v("(2).Play作用域：整个Play中都有效的变量，vars_files、vars_prompt、play级别的vars以及Role的变量，它们都是play级别的变量")]),a._v(" "),s("p",[a._v("(3).主机变量：绑定在各主机上的变量，各种方式定义的inventory变量、Facts信息变量(这个就划分在这吧)、set_fact、register、include_vars都是主机变量")]),a._v(" "),s("p",[a._v("(4).任务变量：只在当前任务中生效的变量，task级别的vars定义的变量属于任务变量")]),a._v(" "),s("p",[a._v("(5).block变量：只在当前block内生效，block级别的vars定义的变量属于block变量")]),a._v(" "),s("p",[a._v("最后还有预定义特殊变量未分类，这些变量由Ansible自身内部维护，有些是全局变量，有些是play变量，有些是主机变量，所以不方便对它们分类。")])])}),[],!1,null,null,null);v.default=t.exports}}]);