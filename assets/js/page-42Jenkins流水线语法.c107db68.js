(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{925:function(s,n,a){"use strict";a.r(n);var e=a(1),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_4-2-jenkinsæµæ°´çº¿è¯­æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-jenkinsæµæ°´çº¿è¯­æ³•"}},[s._v("#")]),s._v(" 4.2 Jenkinsæµæ°´çº¿è¯­æ³•")]),s._v(" "),a("p",[s._v("æ‚¨å¥½ï¼Œæœ¬æ¨¡å—ä¸»è¦å­¦ä¹ å£°æ˜å¼æµæ°´çº¿çš„æ ¸å¿ƒè¯­æ³•ï¼ŒæŒæ¡æ ¸å¿ƒè¯­æ³•ä¾¿äºç¼–å†™Jenkinsfile ğŸ˜€")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"å£°æ˜å¼æµæ°´çº¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å£°æ˜å¼æµæ°´çº¿"}},[s._v("#")]),s._v(" å£°æ˜å¼æµæ°´çº¿")]),s._v(" "),a("p",[s._v("å£°æ˜å¼Pipleineæ˜¯å®˜æ–¹æ¨èçš„è¯­æ³•ï¼Œå£°æ˜å¼è¯­æ³•æ›´åŠ ç®€æ´ã€‚æ‰€æœ‰çš„å£°æ˜å¼Pipelineéƒ½å¿…é¡»åŒ…å«ä¸€ä¸ª pipelineå—ä¸­ï¼Œæ¯”å¦‚ï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("pipeline {\n    //run\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("åœ¨å£°æ˜å¼Pipelineä¸­çš„åŸºæœ¬è¯­å¥å’Œè¡¨è¾¾å¼éµå¾ªGroovyçš„è¯­æ³•ã€‚ä½†æ˜¯æœ‰ä»¥ä¸‹ä¾‹å¤–ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æµæ°´çº¿é¡¶å±‚å¿…é¡»æ˜¯ä¸€ä¸ªå—ï¼Œç‰¹åˆ«æ˜¯pipeline{}ã€‚")]),s._v(" "),a("li",[s._v("ä¸éœ€è¦åˆ†å·ä½œä¸ºåˆ†å‰²ç¬¦ï¼Œæ˜¯æŒ‰ç…§è¡Œåˆ†å‰²çš„ã€‚")]),s._v(" "),a("li",[s._v("è¯­å¥å—åªèƒ½ç”±é˜¶æ®µã€æŒ‡ä»¤ã€æ­¥éª¤ã€èµ‹å€¼è¯­å¥ç»„æˆã€‚ä¾‹å¦‚: inputè¢«è§†ä¸ºinput()ã€‚")]),s._v(" "),a("li",[s._v("ä¸èƒ½ç›´æ¥ä½¿ç”¨groovyè¯­å¥ï¼ˆä¾‹å¦‚å¾ªç¯åˆ¤æ–­ç­‰ï¼‰ï¼Œéœ€è¦è¢«script {}åŒ…è£¹")])]),s._v(" "),a("h2",{attrs:{id:"å£°æ˜å¼æ ¸å¿ƒæ¦‚å¿µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å£°æ˜å¼æ ¸å¿ƒæ¦‚å¿µ"}},[s._v("#")]),s._v(" å£°æ˜å¼æ ¸å¿ƒæ¦‚å¿µ")]),s._v(" "),a("p",[s._v("æ ¸å¿ƒæ¦‚å¿µç”¨æ¥ç»„ç»‡pipelineçš„è¿è¡Œæµç¨‹")]),s._v(" "),a("blockquote",[a("p",[s._v("1.pipeline :å£°æ˜å…¶å†…å®¹ä¸ºä¸€ä¸ªå£°æ˜å¼çš„pipelineè„šæœ¬")]),s._v(" "),a("p",[s._v("2.agent:æ‰§è¡ŒèŠ‚ç‚¹ï¼ˆjobè¿è¡Œçš„slaveæˆ–è€…masterèŠ‚ç‚¹ï¼‰")]),s._v(" "),a("p",[s._v("3.stages:é˜¶æ®µé›†åˆï¼ŒåŒ…è£¹æ‰€æœ‰çš„é˜¶æ®µï¼ˆä¾‹å¦‚ï¼šæ‰“åŒ…ï¼Œéƒ¨ç½²ç­‰å„ä¸ªé˜¶æ®µï¼‰")]),s._v(" "),a("p",[s._v("4.stage:é˜¶æ®µï¼Œè¢«stagesåŒ…è£¹ï¼Œä¸€ä¸ªstageså¯ä»¥æœ‰å¤šä¸ªstage")]),s._v(" "),a("p",[s._v("5.steps:æ­¥éª¤,ä¸ºæ¯ä¸ªé˜¶æ®µçš„æœ€å°æ‰§è¡Œå•å…ƒ,è¢«stageåŒ…è£¹")]),s._v(" "),a("p",[s._v("6.post:æ‰§è¡Œæ„å»ºåçš„æ“ä½œï¼Œæ ¹æ®æ„å»ºç»“æœæ¥æ‰§è¡Œå¯¹åº”çš„æ“ä½œ")])]),s._v(" "),a("h3",{attrs:{id:"agentä»£ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#agentä»£ç†"}},[s._v("#")]),s._v(" agentä»£ç†")]),s._v(" "),a("p",[a("code",[s._v("agent")]),s._v("æŒ‡å®šäº†æµæ°´çº¿çš„æ‰§è¡ŒèŠ‚ç‚¹ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//è¿è¡Œåœ¨ä»»æ„çš„å¯ç”¨èŠ‚ç‚¹ä¸Š\nagent any\n//å…¨å±€ä¸æŒ‡å®šè¿è¡ŒèŠ‚ç‚¹ï¼Œç”±å„è‡ªstageæ¥å†³å®š\nagent none\n//è¿è¡Œåœ¨æŒ‡å®šæ ‡ç­¾çš„æœºå™¨ä¸Š,å…·ä½“æ ‡ç­¾åç§°ç”±agenté…ç½®å†³å®š\nagent { label 'master' }\n//nodeå‚æ•°å¯ä»¥æ‰©å±•èŠ‚ç‚¹ä¿¡æ¯\nagent { \n     node {\n         label 'master'\n         customWorkspace 'xxx'\n    } \n}\n//ä½¿ç”¨æŒ‡å®šè¿è¡Œçš„å®¹å™¨\nagent { docker 'python'  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("ä½œç”¨åŸŸï¼šå¯ç”¨åœ¨å…¨å±€ä¸stageå†…")]),s._v(" "),a("p",[s._v("æ˜¯å¦å¿…é¡»ï¼šæ˜¯")]),s._v(" "),a("p",[s._v("å‚æ•°ï¼š"),a("code",[s._v("anyã€noneã€nodeã€labelã€dockerã€dockerfile")])]),s._v(" "),a("ul",[a("li",[s._v("any åœ¨ä»»ä½•å¯ç”¨çš„èŠ‚ç‚¹ä¸Šæ‰§è¡Œpipelineã€‚none æ²¡æœ‰æŒ‡å®šagentçš„æ—¶å€™é»˜è®¤ã€‚")]),s._v(" "),a("li",[s._v("label åœ¨æŒ‡å®šæ ‡ç­¾ä¸Šçš„èŠ‚ç‚¹ä¸Šè¿è¡ŒPipelineã€‚ node å…è®¸é¢å¤–çš„é€‰é¡¹(è‡ªå®šä¹‰workspace)ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"stagesé˜¶æ®µé›†åˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stagesé˜¶æ®µé›†åˆ"}},[s._v("#")]),s._v(" stagesé˜¶æ®µé›†åˆ")]),s._v(" "),a("p",[a("code",[s._v("stages")]),s._v("æ˜¯æµæ°´çº¿çš„æ•´ä¸ªè¿è¡Œé˜¶æ®µï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª "),a("code",[s._v("stage")]),s._v(" , å»ºè®® "),a("code",[s._v("stages")]),s._v(" è‡³å°‘åŒ…å«ä¸€ä¸ª "),a("code",[s._v("stage")]),s._v("ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('pipeline{\n    agent any\n    stages{\n        stage("first stage"){\n            stages{  //åµŒå¥—åœ¨stageé‡Œ\n                stage("inside"){\n                    steps{\n                        echo "inside"\n                    }\n                }\n            }\n        }\n        stage("stage2"){\n            steps{\n                echo "outside"\n            }\n        }\n    }\n}\n# çœ‹ä¸‹è¿è¡Œç»“æœ,å‘ç°åµŒå¥—çš„stageä¹Ÿæ˜¯èƒ½å¤Ÿå±•ç°åœ¨è§†å›¾é‡Œé¢çš„\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("ä½œç”¨åŸŸï¼šå…¨å±€æˆ–è€…stageé˜¶æ®µå†…ï¼Œæ¯ä¸ªä½œç”¨åŸŸå†…åªèƒ½ä½¿ç”¨ä¸€æ¬¡")]),s._v(" "),a("p",[s._v("æ˜¯å¦å¿…é¡»ï¼šå…¨å±€å¿…é¡»")]),s._v(" "),a("h3",{attrs:{id:"stageé˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stageé˜¶æ®µ"}},[s._v("#")]),s._v(" stageé˜¶æ®µ")]),s._v(" "),a("p",[s._v("ä½œç”¨åŸŸï¼šè¢«stagesåŒ…è£¹ï¼Œä½œç”¨åœ¨è‡ªå·±çš„stageåŒ…è£¹èŒƒå›´å†…")]),s._v(" "),a("p",[s._v("æ˜¯å¦å¿…é¡»ï¼šå¿…é¡»")]),s._v(" "),a("p",[s._v("å‚æ•°ï¼šéœ€è¦ä¸€ä¸ªstringå‚æ•°ï¼Œè¡¨ç¤ºæ­¤é˜¶æ®µçš„å·¥ä½œå†…å®¹")]),s._v(" "),a("p",[s._v("å¤‡æ³¨ï¼šstageå†…éƒ¨å¯ä»¥åµŒå¥—stagesï¼Œå†…éƒ¨å¯å•ç‹¬åˆ¶å®šè¿è¡Œçš„agent")]),s._v(" "),a("h3",{attrs:{id:"stepsæ­¥éª¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stepsæ­¥éª¤"}},[s._v("#")]),s._v(" stepsæ­¥éª¤")]),s._v(" "),a("p",[s._v("ä½œç”¨åŸŸï¼šè¢«stageåŒ…è£¹ï¼Œä½œç”¨åœ¨stageå†…éƒ¨")]),s._v(" "),a("p",[s._v("æ˜¯å¦å¿…é¡»ï¼šå¿…é¡»")]),s._v(" "),a("p",[s._v("å‚æ•°ï¼šæ— ")]),s._v(" "),a("h3",{attrs:{id:"postè¿è¡Œåå¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postè¿è¡Œåå¤„ç†"}},[s._v("#")]),s._v(" postè¿è¡Œåå¤„ç†")]),s._v(" "),a("p",[s._v("å½“æµæ°´çº¿å®Œæˆåæ ¹æ®å®Œæˆçš„çŠ¶æ€åšä¸€äº›ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼šæ„å»ºå¤±è´¥åé‚®ä»¶é€šçŸ¥")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("post { \n    always { \n        echo 'I will always say Hello again!'\n    }\n\n    failure{\n        email : xxxx@dxx.com\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("å¸¸ç”¨çš„çŠ¶æ€ï¼š")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("always æ— è®ºæµæ°´çº¿æˆ–è€…é˜¶æ®µçš„å®ŒæˆçŠ¶æ€ã€‚")])]),s._v(" "),a("li",[a("p",[s._v("changed åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µå®ŒæˆçŠ¶æ€ä¸ä¹‹å‰ä¸åŒæ—¶ã€‚")])]),s._v(" "),a("li",[a("p",[s._v('failure åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µçŠ¶æ€ä¸º"failure"è¿è¡Œã€‚')])]),s._v(" "),a("li",[a("p",[s._v('success åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µçŠ¶æ€ä¸º"success"è¿è¡Œã€‚')])]),s._v(" "),a("li",[a("p",[s._v('unstable åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µçŠ¶æ€ä¸º"unstable"è¿è¡Œã€‚ä¾‹å¦‚ï¼šæµ‹è¯•å¤±è´¥ã€‚')])]),s._v(" "),a("li",[a("p",[s._v('aborted åªæœ‰å½“æµæ°´çº¿æˆ–è€…é˜¶æ®µçŠ¶æ€ä¸º"aborted â€œè¿è¡Œã€‚ä¾‹å¦‚ï¼šæ‰‹åŠ¨å–æ¶ˆã€‚')])])]),s._v(" "),a("h2",{attrs:{id:"å£°æ˜å¼æŒ‡ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å£°æ˜å¼æŒ‡ä»¤"}},[s._v("#")]),s._v(" å£°æ˜å¼æŒ‡ä»¤")]),s._v(" "),a("p",[s._v("æŒ‡ä»¤æ˜¯å¸®åŠ©pipelineæ›´å®¹æ˜“çš„æ‰§è¡Œå‘½ä»¤ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå°è£…å¥½çš„å…¬å…±å‡½æ•°å’Œæ–¹æ³•ï¼Œæä¾›ç»™pipelineä½¿ç”¨")]),s._v(" "),a("h3",{attrs:{id:"environmentç¯å¢ƒå˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#environmentç¯å¢ƒå˜é‡"}},[s._v("#")]),s._v(" environmentç¯å¢ƒå˜é‡")]),s._v(" "),a("p",[s._v("å®šä¹‰æµæ°´çº¿ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥å®šä¹‰åœ¨å…¨å±€å˜é‡æˆ–è€…æ­¥éª¤ä¸­çš„å±€éƒ¨å˜é‡ã€‚è¿™å–å†³äº environment æŒ‡ä»¤åœ¨æµæ°´çº¿å†…çš„ä½ç½®ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("agent any\n\n//å…¨å±€å˜é‡\nenvironment { \n    activeEnv = 'dev'\n}\nstages {\n    stage('Example') {\n\n        //å±€éƒ¨å˜é‡\n        environment { \n            AN_ACCESS_KEY = credentials('my-prefined-secret-text') \n        }\n        steps {\n            sh 'printenv'\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h3",{attrs:{id:"optionsè¿è¡Œé€‰é¡¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optionsè¿è¡Œé€‰é¡¹"}},[s._v("#")]),s._v(" optionsè¿è¡Œé€‰é¡¹")]),s._v(" "),a("p",[s._v("å®šä¹‰æµæ°´çº¿è¿è¡Œæ—¶çš„é…ç½®é€‰é¡¹ï¼Œæµæ°´çº¿æä¾›äº†è®¸å¤šé€‰é¡¹, æ¯”å¦‚buildDiscarder,ä½†ä¹Ÿå¯ä»¥ç”±æ’ä»¶æä¾›, æ¯”å¦‚ timestampsã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("agent any\noptions {\n    timeout(time: 1, unit: 'HOURS') \n}\nstages {\n    stage('Example') {\n        steps {\n            echo 'Hello World'\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("å…¶ä»–éƒ¨åˆ†å‚æ•°ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("buildDiscarder: ä¸ºæœ€è¿‘çš„æµæ°´çº¿è¿è¡Œçš„ç‰¹å®šæ•°é‡ä¿å­˜ç»„ä»¶å’Œæ§åˆ¶å°è¾“å‡ºã€‚")]),s._v(" "),a("li",[s._v("disableConcurrentBuilds: ä¸å…è®¸åŒæ—¶æ‰§è¡Œæµæ°´çº¿ã€‚ å¯è¢«ç”¨æ¥é˜²æ­¢åŒæ—¶è®¿é—®å…±äº«èµ„æºç­‰ã€‚")]),s._v(" "),a("li",[s._v("overrideIndexTriggers: å…è®¸è¦†ç›–åˆ†æ”¯ç´¢å¼•è§¦å‘å™¨çš„é»˜è®¤å¤„ç†ã€‚")]),s._v(" "),a("li",[s._v("skipDefaultCheckout: åœ¨agent æŒ‡ä»¤ä¸­ï¼Œè·³è¿‡ä»æºä»£ç æ§åˆ¶ä¸­æ£€å‡ºä»£ç çš„é»˜è®¤æƒ…å†µã€‚")]),s._v(" "),a("li",[s._v("skipStagesAfterUnstable: ä¸€æ—¦æ„å»ºçŠ¶æ€å˜å¾—UNSTABLEï¼Œè·³è¿‡è¯¥é˜¶æ®µã€‚")]),s._v(" "),a("li",[s._v("checkoutToSubdirectory: åœ¨å·¥ä½œç©ºé—´çš„å­ç›®å½•ä¸­è‡ªåŠ¨åœ°æ‰§è¡Œæºä»£ç æ§åˆ¶æ£€å‡ºã€‚")]),s._v(" "),a("li",[s._v("timeout: è®¾ç½®æµæ°´çº¿è¿è¡Œçš„è¶…æ—¶æ—¶é—´, åœ¨æ­¤ä¹‹åï¼ŒJenkinså°†ä¸­æ­¢æµæ°´çº¿ã€‚")]),s._v(" "),a("li",[s._v("retry: åœ¨å¤±è´¥æ—¶, é‡æ–°å°è¯•æ•´ä¸ªæµæ°´çº¿çš„æŒ‡å®šæ¬¡æ•°ã€‚")]),s._v(" "),a("li",[s._v("timestamps é¢„æµ‹æ‰€æœ‰ç”±æµæ°´çº¿ç”Ÿæˆçš„æ§åˆ¶å°è¾“å‡ºï¼Œä¸è¯¥æµæ°´çº¿å‘å‡ºçš„æ—¶é—´ä¸€è‡´ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"parameterså‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameterså‚æ•°"}},[s._v("#")]),s._v(" parameterså‚æ•°")]),s._v(" "),a("p",[s._v("ä¸ºæµæ°´çº¿è¿è¡Œæ—¶è®¾ç½®é¡¹ç›®ç›¸å…³çš„å‚æ•°ï¼Œå°±ä¸ç”¨åœ¨UIç•Œé¢ä¸Šå®šä¹‰äº†ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚")]),s._v(" "),a("p",[s._v("ä½œç”¨åŸŸï¼šè¢«æœ€å¤–å±‚pipelineæ‰€åŒ…è£¹ï¼Œå¹¶ä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œå‚æ•°å¯è¢«å…¨å±€ä½¿ç”¨")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//string å­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°, ä¾‹å¦‚:\nparameters { string(name: 'DEPLOY_ENV', defaultValue: 'staging', description: '') }\n\n//booleanParam å¸ƒå°”å‚æ•°, ä¾‹å¦‚:\nparameters { booleanParam(name: 'DEBUG_BUILD', defaultValue: true, description: '') }\nagent any\nparameters {\n    string(name: 'PERSON', defaultValue: 'Mr Jenkins', description: 'Who should I say hello to?')\n}\nstages {\n    stage('Example') {\n        steps {\n            echo \"Hello ${params.PERSON}\"\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"triggerè§¦å‘å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#triggerè§¦å‘å™¨"}},[s._v("#")]),s._v(" triggerè§¦å‘å™¨")]),s._v(" "),a("p",[s._v("æ„å»ºè§¦å‘å™¨")]),s._v(" "),a("p",[s._v("ä½œç”¨åŸŸï¼šè¢«pipelineåŒ…è£¹ï¼Œåœ¨ç¬¦åˆæ¡ä»¶ä¸‹è‡ªåŠ¨è§¦å‘pipelineç›®å‰åŒ…å«ä¸‰ç§è‡ªåŠ¨è§¦å‘çš„æ–¹å¼ï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//cron è®¡åˆ’ä»»åŠ¡å®šæœŸæ‰§è¡Œæ„å»º\ntriggers { cron('H */4 * * 1-5') }\n\n\n//pollSCM ä¸cronå®šä¹‰ç±»ä¼¼ï¼Œä½†æ˜¯ç”±jenkinså®šæœŸæ£€æµ‹æºç å˜åŒ–ã€‚\ntriggers { pollSCM('H */4 * * 1-5') }\n\n// upstream å¯ä»¥åˆ©ç”¨ä¸Šæ¸¸Jobçš„è¿è¡ŒçŠ¶æ€æ¥è¿›è¡Œè§¦å‘\ntriggers { upstream(upstreamProjects: 'job1,job2', threshold: hudson.model.Result.SUCCESS) }\n\nagent any\ntriggers {\n    cron('H */4 * * 1-5')\n}\nstages {\n    stage('Example') {\n        steps {\n            echo 'Hello World'\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h3",{attrs:{id:"toolæ„å»ºå·¥å…·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#toolæ„å»ºå·¥å…·"}},[s._v("#")]),s._v(" toolæ„å»ºå·¥å…·")]),s._v(" "),a("p",[s._v("æ„å»ºå·¥å…·mavenã€antã€gradle,è·å–é€šè¿‡è‡ªåŠ¨å®‰è£…æˆ–æ‰‹åŠ¨æ”¾ç½®å·¥å…·çš„ç¯å¢ƒå˜é‡ã€‚æ”¯æŒmaven/jdk/gradleã€‚å·¥å…·çš„åç§°å¿…é¡»åœ¨ç³»ç»Ÿè®¾ç½®->å…¨å±€å·¥å…·é…ç½®ä¸­å®šä¹‰ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("agent any\ntools {\n    maven 'apache-maven-3.0.1' \n}\nstages {\n    stage('Example') {\n        steps {\n            sh 'mvn --version'\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"inputäº¤äº’è¾“å…¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inputäº¤äº’è¾“å…¥"}},[s._v("#")]),s._v(" inputäº¤äº’è¾“å…¥")]),s._v(" "),a("p",[s._v("inputç”¨æˆ·åœ¨æ‰§è¡Œå„ä¸ªé˜¶æ®µçš„æ—¶å€™ï¼Œç”±äººå·¥ç¡®è®¤æ˜¯å¦ç»§ç»­è¿›è¡Œã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("agent any\nstages {\n    stage('Example') {\n        input {\n            message \"Should we continue?\"\n            ok \"Yes, we should.\"\n            submitter \"alice,bob\"\n            parameters {\n                string(name: 'PERSON', defaultValue: 'Mr Jenkins', description: 'Who should I say hello to?')\n            }\n        }\n        steps {\n            echo \"Hello, ${PERSON}, nice to meet you.\"\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("å‚æ•°è§£é‡Šï¼š")]),s._v(" "),a("ul",[a("li",[s._v("message å‘ˆç°ç»™ç”¨æˆ·çš„æç¤ºä¿¡æ¯ã€‚")]),s._v(" "),a("li",[s._v("id å¯é€‰ï¼Œé»˜è®¤ä¸ºstageåç§°ã€‚")]),s._v(" "),a("li",[s._v("ok é»˜è®¤è¡¨å•ä¸Šçš„okæ–‡æœ¬ã€‚")]),s._v(" "),a("li",[s._v("submitter å¯é€‰çš„,ä»¥é€—å·åˆ†éš”çš„ç”¨æˆ·åˆ—è¡¨æˆ–å…è®¸æäº¤çš„å¤–éƒ¨ç»„åã€‚é»˜è®¤å…è®¸ä»»ä½•ç”¨æˆ·ã€‚")]),s._v(" "),a("li",[s._v("submitterParameter ç¯å¢ƒå˜é‡çš„å¯é€‰åç§°ã€‚å¦‚æœå­˜åœ¨ï¼Œç”¨submitter åç§°è®¾ç½®ã€‚")]),s._v(" "),a("li",[s._v("parameters æç¤ºæäº¤è€…æä¾›çš„ä¸€ä¸ªå¯é€‰çš„å‚æ•°åˆ—è¡¨ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"whenæ¡ä»¶åˆ¤æ–­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#whenæ¡ä»¶åˆ¤æ–­"}},[s._v("#")]),s._v(" whenæ¡ä»¶åˆ¤æ–­")]),s._v(" "),a("p",[s._v("when æŒ‡ä»¤å…è®¸æµæ°´çº¿æ ¹æ®ç»™å®šçš„æ¡ä»¶å†³å®šæ˜¯å¦åº”è¯¥æ‰§è¡Œé˜¶æ®µã€‚ when æŒ‡ä»¤å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªæ¡ä»¶ã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//branch: å½“æ­£åœ¨æ„å»ºçš„åˆ†æ”¯ä¸æ¨¡å¼ç»™å®šçš„åˆ†æ”¯åŒ¹é…æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ,è¿™åªé€‚ç”¨äºå¤šåˆ†æ”¯æµæ°´çº¿ä¾‹å¦‚:\nwhen { branch 'master' }\n\n\n//environment: å½“æŒ‡å®šçš„ç¯å¢ƒå˜é‡æ˜¯ç»™å®šçš„å€¼æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªæ­¥éª¤,ä¾‹å¦‚:\nwhen { environment name: 'DEPLOY_TO', value: 'production' }\n\n//expression å½“æŒ‡å®šçš„Groovyè¡¨è¾¾å¼è¯„ä¼°ä¸ºtrueæ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ, ä¾‹å¦‚:\nwhen { expression { return params.DEBUG_BUILD } }\n\n//not å½“åµŒå¥—æ¡ä»¶æ˜¯é”™è¯¯æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ,å¿…é¡»åŒ…å«ä¸€ä¸ªæ¡ä»¶ï¼Œä¾‹å¦‚:\nwhen { not { branch 'master' } }\n\n//allOf å½“æ‰€æœ‰çš„åµŒå¥—æ¡ä»¶éƒ½æ­£ç¡®æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ,å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªæ¡ä»¶ï¼Œä¾‹å¦‚:\nwhen { allOf { branch 'master'; environment name: 'DEPLOY_TO', value: 'production' } }\n\n//anyOf å½“è‡³å°‘æœ‰ä¸€ä¸ªåµŒå¥—æ¡ä»¶ä¸ºçœŸæ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªé˜¶æ®µ,å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªæ¡ä»¶ï¼Œä¾‹å¦‚:\nwhen { anyOf { branch 'master'; branch 'staging' } }\n\n\nstage('Example Deploy') {\n    when {\n        branch 'production'\n        environment name: 'DEPLOY_TO', value: 'production'\n    }\n    steps {\n        echo 'Deploying'\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("h2",{attrs:{id:"parallelå¹¶è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parallelå¹¶è¡Œ"}},[s._v("#")]),s._v(" parallelå¹¶è¡Œ")]),s._v(" "),a("p",[s._v("å£°æ˜å¼æµæ°´çº¿çš„é˜¶æ®µå¯ä»¥åœ¨ä»–ä»¬å†…éƒ¨å£°æ˜å¤šéš”åµŒå¥—é˜¶æ®µ, å®ƒä»¬å°†å¹¶è¡Œæ‰§è¡Œã€‚ æ³¨æ„ï¼Œä¸€ä¸ªé˜¶æ®µå¿…é¡»åªæœ‰ä¸€ä¸ª steps æˆ– parallelçš„é˜¶æ®µã€‚ åµŒå¥—é˜¶æ®µæœ¬èº«ä¸èƒ½åŒ…å« è¿›ä¸€æ­¥çš„ parallel é˜¶æ®µ, ä½†æ˜¯å…¶ä»–çš„é˜¶æ®µçš„è¡Œä¸ºä¸ä»»ä½•å…¶ä»– stageparallel çš„é˜¶æ®µä¸èƒ½åŒ…å« agent æˆ– toolsé˜¶æ®µ, å› ä¸ºä»–ä»¬æ²¡æœ‰ç›¸å…³ stepsã€‚")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" stage('Parallel Stage') {\n    when {\n        branch 'master'\n    }\n    failFast true\n    parallel {\n        stage('Branch A') {\n            agent {\n                label \"for-branch-a\"\n            }\n            steps {\n                echo \"On Branch A\"\n            }\n        }\n        stage('Branch B') {\n            agent {\n                label \"for-branch-b\"\n            }\n            steps {\n                echo \"On Branch B\"\n            }\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[s._v("failFast true å½“å…¶ä¸­ä¸€ä¸ªè¿›ç¨‹å¤±è´¥æ—¶ï¼Œå¼ºåˆ¶æ‰€æœ‰çš„ parallel é˜¶æ®µéƒ½è¢«ç»ˆæ­¢ã€‚")]),s._v(" "),a("h2",{attrs:{id:"scriptè„šæœ¬æ ‡ç­¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scriptè„šæœ¬æ ‡ç­¾"}},[s._v("#")]),s._v(" scriptè„šæœ¬æ ‡ç­¾")]),s._v(" "),a("p",[s._v("åœ¨å£°æ˜å¼çš„pipelineä¸­é»˜è®¤æ— æ³•ä½¿ç”¨è„šæœ¬è¯­æ³•ï¼Œä½†æ˜¯pipelineæä¾›äº†ä¸€ä¸ªè„šæœ¬ç¯å¢ƒå…¥å£ï¼šscript{},é€šè¿‡ä½¿ç”¨scriptæ¥åŒ…è£¹è„šæœ¬è¯­å¥ï¼Œå³å¯ä½¿ç”¨è„šæœ¬è¯­æ³•")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("pipeline {\n    agent any\n    stages {\n        stage('stage 1') {\n            steps {\n                script{\n                    try {\n                        sh 'exit 1'\n                    }\n                    catch (exc) {\n                        echo 'Something failed'\n                        \n                    }\n                }\n            }\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h2",{attrs:{id:"å‚è€ƒæ–‡ç« "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡ç« "}},[s._v("#")]),s._v(" å‚è€ƒæ–‡ç« ")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://docs.idevops.site/jenkins/pipelinesyntax/chapter02/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Jenkins æµæ°´çº¿è¯­æ³• | æ³½é˜³"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/p/f1167e8850cd",target:"_blank",rel:"noopener noreferrer"}},[s._v("jenkins pipelineåŸºç¡€è¯­æ³•ä¸ç¤ºä¾‹ | MR_Hanjc | ç®€ä¹¦"),a("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=t.exports}}]);