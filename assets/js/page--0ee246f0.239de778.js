(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{645:function(e,t,s){"use strict";s.r(t);var a=s(1),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("ol",[s("li",[s("p",[e._v("下载rpm包")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("wget http://mirrors.tuna.tsinghua.edu.cn/elasticstack/yum/elastic-7.x/7.8.0/filebeat-7.8.0-x86_64.rpm\nrpm -ivh filebeat-7.8.0-x86_64.rpm \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])])])]),e._v(" "),s("p",[e._v("​\t2. 修改启动项")]),e._v(" "),s("p",[e._v("​\tcentos7安装filebeat需要注意修改"),s("code",[e._v("/usr/lib/systemd/system/filebeat.service")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('[Unit]\nDescription=Filebeat sends log files to Logstash or directly to Elasticsearch.\nDocumentation=https://www.elastic.co/products/beats/filebeat\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\n\nEnvironment="BEAT_LOG_OPTS"\nEnvironment="BEAT_CONFIG_OPTS=-c /etc/filebeat/filebeat.yml"\nEnvironment="BEAT_PATH_OPTS=-path.home /usr/share/filebeat -path.config /etc/filebeat -path.data /var/lib/filebeat -path.logs /var/log/filebeat"\nExecStart=/usr/share/filebeat/bin/filebeat $BEAT_LOG_OPTS $BEAT_CONFIG_OPTS $BEAT_PATH_OPTS\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br")])]),s("blockquote",[s("p",[e._v("主要修改的地方为：")]),e._v(" "),s("ul",[s("li",[e._v('Environment="BEAT_LOG_OPTS=-e"  改为 Environment="BEAT_LOG_OPTS"')]),e._v(" "),s("li",[e._v("ExecStart=/usr/share/filebeat/bin/filebeat $BEAT_LOG_OPTS $BEAT_CONFIG_OPTS $BEAT_PATH_OPTS 改为ExecStart=/usr/share/filebeat/bin/filebeat $BEAT_LOG_OPTS $BEAT_CONFIG_OPTS $BEAT_PATH_OPTS")])])]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[e._v("修改配置文件")]),e._v(" "),s("li",[e._v("启动")])]),e._v(" "),s("blockquote",[s("p",[e._v("es 的index名称 只能为小写字母")]),e._v(" "),s("p",[e._v("注意index命名规范")])])])}),[],!1,null,null,null);t.default=n.exports}}]);