(window.webpackJsonp=window.webpackJsonp||[]).push([[253],{1225:function(t,a,r){"use strict";r.r(a);var s=r(1),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"request-body和query-dsl简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#request-body和query-dsl简介"}},[t._v("#")]),t._v(" Request Body和Query DSL简介")]),t._v(" "),r("h2",{attrs:{id:"request-body-search"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#request-body-search"}},[t._v("#")]),t._v(" Request Body Search")]),t._v(" "),r("ul",[r("li",[t._v("将查询语句通过HTTP Request Body发送给Elasticsearch")]),t._v(" "),r("li",[t._v("Query DSL")])]),t._v(" "),r("p",[t._v("举例")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/1568169039971.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"分页"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#分页"}},[t._v("#")]),t._v(" 分页")]),t._v(" "),r("ul",[r("li",[t._v("From从0开始，默认返回10个结果")]),t._v(" "),r("li",[t._v("获取靠后的翻页成本较高")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/1568169125069.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"排序"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#排序"}},[t._v("#")]),t._v(" 排序")]),t._v(" "),r("ul",[r("li",[t._v('最好在"数字型"与"日期型"字段上排序\n'),r("ul",[r("li",[t._v("因为对于多值类型或分析过的字段排序，系统会选一个值，无法得知该值")])])])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/1568170207936.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"source-filtering"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#source-filtering"}},[t._v("#")]),t._v(" _source filtering")]),t._v(" "),r("ul",[r("li",[t._v("如果_source没有存储，那就只返回匹配的文档的元数据")]),t._v(" "),r("li",[t._v('_source支持使用通配符_source["name*","desc*"]')])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/1568191600446.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"脚本字段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#脚本字段"}},[t._v("#")]),t._v(" 脚本字段")]),t._v(" "),r("ul",[r("li",[t._v("用例：订单中有不同的汇率，需要结合汇率对，订单价格进行排序")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/1568191768549.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"使用查询表达式-match"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用查询表达式-match"}},[t._v("#")]),t._v(" 使用查询表达式 - Match")]),t._v(" "),r("ul",[r("li",[t._v("默认使用term类型，或的关系")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/1568191830422.png",alt:""}})]),t._v(" "),r("ul",[r("li",[t._v("可以指定操作类型为AND")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/1568191867781.png",alt:""}})]),t._v(" "),r("h3",{attrs:{id:"短语搜索-match-phrase"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#短语搜索-match-phrase"}},[t._v("#")]),t._v(" 短语搜索 - Match Phrase")]),t._v(" "),r("ul",[r("li",[t._v("slop参数表示，允许各个单词之间插入的单词个数")])]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/1568192076860.png",alt:""}})])])}),[],!1,null,null,null);a.default=e.exports}}]);