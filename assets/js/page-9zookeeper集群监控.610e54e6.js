(window.webpackJsonp=window.webpackJsonp||[]).push([[207],{1242:function(e,t,a){"use strict";a.r(t);var r=a(1),_=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"_9-zookeeper集群监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-zookeeper集群监控"}},[e._v("#")]),e._v(" 9 zookeeper集群监控")]),e._v(" "),a("blockquote",[a("p",[e._v("zabbix旧版本可以用，新版本建议用官方模板")])]),e._v(" "),a("h1",{attrs:{id:"zabbix-zookeper-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zabbix-zookeper-template"}},[e._v("#")]),e._v(" Zabbix-Zookeper-Template")]),e._v(" "),a("h2",{attrs:{id:"system-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#system-requirements"}},[e._v("#")]),e._v(" System requirements")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://www.zabbix.com/downloads/",target:"_blank",rel:"noopener noreferrer"}},[e._v("zabbix"),a("OutboundLink")],1),e._v(" >= 3.4 (preprocessing used by this template)")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://zookeeper.apache.org/releases.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("zookeeper"),a("OutboundLink")],1),e._v(" >= 3.4 (mntr stats)")]),e._v(" "),a("li",[e._v("netcat")]),e._v(" "),a("li",[e._v("zookeeper监控模板，被监控主机，记得添加nc命令")])]),e._v(" "),a("h2",{attrs:{id:"features"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[e._v("#")]),e._v(" Features")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("ruok check")])]),e._v(" "),a("li",[a("p",[e._v("mntr stats :")]),e._v(" "),a("ul",[a("li",[e._v("zk_num_alive_connections")]),e._v(" "),a("li",[e._v("zk_approximate_data_size")]),e._v(" "),a("li",[e._v("zk_ephemerals_count")]),e._v(" "),a("li",[e._v("zk_min_latency")]),e._v(" "),a("li",[e._v("zk_avg_latency")]),e._v(" "),a("li",[e._v("zk_max_latency")]),e._v(" "),a("li",[e._v("zk_max_file_descriptor_count")]),e._v(" "),a("li",[e._v("zk_open_file_descriptor_count")]),e._v(" "),a("li",[e._v("zk_outstanding_requests")]),e._v(" "),a("li",[e._v("zk_packets_received")]),e._v(" "),a("li",[e._v("zk_packets_sent")]),e._v(" "),a("li",[e._v("zk_server_state")]),e._v(" "),a("li",[e._v("zk_version")]),e._v(" "),a("li",[e._v("zk_znode_count")])])]),e._v(" "),a("li",[a("p",[e._v("graphs")])]),e._v(" "),a("li",[a("p",[e._v("screen")])])]),e._v(" "),a("h2",{attrs:{id:"zabbix-macros"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zabbix-macros"}},[e._v("#")]),e._v(" Zabbix Macros")]),e._v(" "),a("ul",[a("li",[e._v("{$ZOO_IP} : IP of the Zookeeper Instance (default : 127.0.0.1)")]),e._v(" "),a("li",[e._v("{$ZOO_PORT} : Port of the Zookeeper Instance (default : 2181)")])]),e._v(" "),a("h2",{attrs:{id:"zabbix-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zabbix-configuration"}},[e._v("#")]),e._v(" Zabbix Configuration")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Copy "),a("code",[e._v("UserParameter_Zookeeper.conf")]),e._v(" to "),a("code",[e._v("/etc/zabbix/zabbix_agentd.d")]),e._v(" folder (or whatever is default and/or configured on your system).")])]),e._v(" "),a("li",[a("p",[e._v("Restart your Zabbix Agent")])]),e._v(" "),a("li",[a("p",[e._v("Import XML template file ("),a("code",[e._v("zookeeper.xml")]),e._v(") into Zabbix via Web GUI (Configuration -> Templates -> Import).")])]),e._v(" "),a("li",[a("p",[e._v("Assign the imported template to a host, change MACROS if needed in the host parameters and enjoy!")])])])])}),[],!1,null,null,null);t.default=_.exports}}]);