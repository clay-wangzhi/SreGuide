(window.webpackJsonp=window.webpackJsonp||[]).push([[261],{579:function(a,s,t){a.exports=t.p+"assets/img/erlang.557ee4ac.png"},580:function(a,s,t){a.exports=t.p+"assets/img/rabbitmq.e4d0e534.png"},581:function(a,s,t){a.exports=t.p+"assets/img/rabbitmq_web.b21bf489.png"},982:function(a,s,t){"use strict";t.r(s);var e=t(1),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"centos7安装rabbitmq-3-7-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos7安装rabbitmq-3-7-9"}},[a._v("#")]),a._v(" centos7安装rabbitmq-3.7.9")]),a._v(" "),e("p",[a._v("安装方式：rpm包安装")]),a._v(" "),e("p",[a._v("系统版本: centos7.x")]),a._v(" "),e("h2",{attrs:{id:"安装erlang"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装erlang"}},[a._v("#")]),a._v(" 安装erlang")]),a._v(" "),e("p",[a._v("安装"),e("a",{attrs:{href:"https://github.com/rabbitmq/erlang-rpm",target:"_blank",rel:"noopener noreferrer"}},[a._v("erlang-rpm"),e("OutboundLink")],1),a._v("包，该包经过RabbitMQ官方处理，去掉了一些无用的依赖，只保存运行RabbitMQ所需要的Erlang模块。")]),a._v(" "),e("p",[a._v("这里下载的版本为21.2")]),a._v(" "),e("p",[e("img",{attrs:{src:t(579),alt:""}})]),a._v(" "),e("p",[a._v("下载完后上传到服务器上，安装")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("yum -y install erlang-21.2-1.el7.centos.x86_64.rpm\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"安装rabbitmq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装rabbitmq"}},[a._v("#")]),a._v(" 安装rabbitmq")]),a._v(" "),e("p",[a._v("从官网下载rpm包并上传到服务器上。"),e("a",{attrs:{href:"http://www.rabbitmq.com/install-rpm.html#install-monolithic-from-esl-repository",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方下载链接"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("img",{attrs:{src:t(580),alt:""}})]),a._v(" "),e("p",[a._v("导入签名")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("rpm --import https://dl.bintray.com/rabbitmq/Keys/rabbitmq-release-signing-key.asc\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("安装")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("yum install rabbitmq-server-3.7.9-1.el7.noarch.rpm -y\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"启动rabbitmq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动rabbitmq"}},[a._v("#")]),a._v(" 启动rabbitmq")]),a._v(" "),e("p",[a._v("设置开机启动")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("systemctl enable rabbitmq-server.service\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("启动rabbitmq")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("systemctl start rabbitmq-server.service\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("停止rabbitmq")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("systemctl stop rabbitmq-server.service\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"配置rabbitmq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置rabbitmq"}},[a._v("#")]),a._v(" 配置rabbitmq")]),a._v(" "),e("p",[a._v("拷贝默认配置文件")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cp /usr/share/doc/rabbitmq-server-3.7.9/rabbitmq.config.example /etc/rabbitmq/rabbitmq.config\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("开启管理后台")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("rabbitmq-plugins enable rabbitmq_management\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("开放防火墙端口")]),a._v(" "),e("p",[e("code",[a._v("vim /etc/sysconfig/iptables")]),a._v("增加下面两行")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("-A INPUT -m state --state NEW -m tcp -p tcp --dport 5672 -j ACCEPT\n-A INPUT -m state --state NEW -m tcp -p tcp --dport 15672 -j ACCEPT\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("重启防火墙")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("systemctl restart iptables.service\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("配置用户权限，增加一个用户")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("systemctl start rabbitmq-server.service\nrabbitmqctl add_user admin admin\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("赋予用户管理员角色")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("rabbitmqctl set_user_tags admin administrator\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("访问页面，http://ip:15672")]),a._v(" "),e("p",[e("img",{attrs:{src:t(581),alt:""}})])])}),[],!1,null,null,null);s.default=r.exports}}]);