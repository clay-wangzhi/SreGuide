(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{641:function(n,s,a){"use strict";a.r(s);var e=a(1),t=Object(e.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"_20-i-o-重定向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-i-o-重定向"}},[n._v("#")]),n._v(" 20 I/O 重定向")]),n._v(" "),a("p",[n._v("目录")]),n._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/x17974.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("20.1 使用 exec"),a("OutboundLink")],1)]),n._v(" "),a("li",[a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/redircb.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("20.2 重定向代码块"),a("OutboundLink")],1)]),n._v(" "),a("li",[a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/redirapps.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("20.3 应用程序"),a("OutboundLink")],1)])]),n._v(" "),a("p",[n._v("有三个默认打开的文件"),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/io-redirection.html#FTN.AEN17884",target:"_blank",rel:"noopener noreferrer"}},[n._v("[1]"),a("OutboundLink")],1),n._v(", "),a("code",[n._v("stdin")]),n._v("(标准输入，键盘),"),a("code",[n._v("stdout")]),n._v("(标准输出， 屏幕)和 "),a("code",[n._v("stderr")]),n._v("(标准错误，屏幕上输出的错误信息)。这些和任何其他打开的文件都可以被重定向。重定向仅仅意味着捕获输出文件，命令，脚本，甚至是一个脚本的代码块("),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/special-chars.html#EX8",target:"_blank",rel:"noopener noreferrer"}},[n._v("样例 3-1"),a("OutboundLink")],1),n._v(")和("),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/special-chars.html#EX8",target:"_blank",rel:"noopener noreferrer"}},[n._v("样例 3-2"),a("OutboundLink")],1),n._v(") 作为另一个文件，命令，程序或脚本的输入。")]),n._v(" "),a("p",[n._v("每个打开的文件都有特定的文件描述符。"),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/io-redirection.html#FTN.AEN17894",target:"_blank",rel:"noopener noreferrer"}},[n._v("[2]"),a("OutboundLink")],1),n._v(",而 "),a("code",[n._v("stdin")]),n._v("，"),a("code",[n._v("stdout")]),n._v("，"),a("code",[n._v("stderr")]),n._v(" 的文件描述符分别为 0,1,2。当然了，还有附件的文件描述符 3 - 9。有时候为"),a("code",[n._v("stdin")]),n._v("，"),a("code",[n._v("stdout")]),n._v("，"),a("code",[n._v("stderr")]),n._v("临时性的复制链接分配这些附加的文件描述符会非常有用."),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/io-redirection.html#FTN.AEN17906",target:"_blank",rel:"noopener noreferrer"}},[n._v("[3]"),a("OutboundLink")],1),n._v("。这简化了复杂重定向和重组后的恢复(见"),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/x17974.html#REDIR1",target:"_blank",rel:"noopener noreferrer"}},[n._v("样例 20-1"),a("OutboundLink")],1),n._v(")")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('   COMMAND_OUTPUT >\n      # 重定向标准输出到一个文件.\n      # 如果文件不存在则创建，否则覆盖.\n\n      ls -lR > dir-tree.list\n      # 创建了一个包含目录树列表的文件.\n\n   : > filename\n      # ">" 清空了文件.\n      # 如果文件不存在，则创建了个空文件 (效果类似 \'touch\').\n      # ":" 是个虚拟占位符, 不会有输出.\n\n   > filename    \n      # ">" 清空了文件.\n      # 如果文件不存在，则创建了个空文件 (效果类似 \'touch\').\n      # (结果和上述的 ": >" 一样， 但在某些 shell 环境中不能正常运行.)\n\n   COMMAND_OUTPUT >>\n      # 重定向标准输出到一个文件.\n      # 如果文件不存在则创建，否则新内容在文件末尾追加.\n\n\n      # 单行重定向命令 (只作用于本身所在的那行):\n      # --------------------------------------------------------------------\n\n   1>filename\n      # 以覆盖的方式将 标准错误 重定向到文件 "filename."\n   1>>filename\n      # 以追加的方式将 标准输出 重定向到文件 "filename."\n   2>filename\n      # 以覆盖的方式将 标准错误 重定向到文件 "filename."\n   2>>filename\n      # 以追加的方式将 标准错误 重定向到文件 "filename."\n   &>filename\n      # 以覆盖的方式将 标准错误 和 标准输出 同时重定向到文件 "filename."\n      # 在 bash 4 中才有这个新功能.\n\n   M>N\n     # "M" 是个文件描述符, 如果不明确指定，默认为 1.\n     # "N" 是个文件名.\n     # 文件描述符 "M" 重定向到文件 "N."\n   M>&N\n     # "M" 是个文件描述符, 如果不设置默认为 1.\n     # "N" 是另一个文件描述符.\n\n      #==============================================================================\n\n      # 重定向 标准输出，一次一行.\n      LOGFILE=script.log\n\n      echo "This statement is sent to the log file, \\"$LOGFILE\\"." 1>$LOGFILE\n      echo "This statement is appended to \\"$LOGFILE\\"." 1>>$LOGFILE\n      echo "This statement is also appended to \\"$LOGFILE\\"." 1>>$LOGFILE\n      echo "This statement is echoed to stdout, and will not appear in \\"$LOGFILE\\"."\n      # 这些重定向命令在每行结束后自动"重置".\n\n\n\n      # 重定向 标准错误，一次一行.\n      ERRORFILE=script.errors\n\n      bad_command1 2>$ERRORFILE       #  Error message sent to $ERRORFILE.\n      bad_command2 2>>$ERRORFILE      #  Error message appended to $ERRORFILE.\n      bad_command3                    #  Error message echoed to stderr,\n                                      #+ and does not appear in $ERRORFILE.\n      # 这些重定向命令每行结束后会自动“重置”.\n\t#=======================================================================\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br"),a("span",{staticClass:"line-number"},[n._v("37")]),a("br"),a("span",{staticClass:"line-number"},[n._v("38")]),a("br"),a("span",{staticClass:"line-number"},[n._v("39")]),a("br"),a("span",{staticClass:"line-number"},[n._v("40")]),a("br"),a("span",{staticClass:"line-number"},[n._v("41")]),a("br"),a("span",{staticClass:"line-number"},[n._v("42")]),a("br"),a("span",{staticClass:"line-number"},[n._v("43")]),a("br"),a("span",{staticClass:"line-number"},[n._v("44")]),a("br"),a("span",{staticClass:"line-number"},[n._v("45")]),a("br"),a("span",{staticClass:"line-number"},[n._v("46")]),a("br"),a("span",{staticClass:"line-number"},[n._v("47")]),a("br"),a("span",{staticClass:"line-number"},[n._v("48")]),a("br"),a("span",{staticClass:"line-number"},[n._v("49")]),a("br"),a("span",{staticClass:"line-number"},[n._v("50")]),a("br"),a("span",{staticClass:"line-number"},[n._v("51")]),a("br"),a("span",{staticClass:"line-number"},[n._v("52")]),a("br"),a("span",{staticClass:"line-number"},[n._v("53")]),a("br"),a("span",{staticClass:"line-number"},[n._v("54")]),a("br"),a("span",{staticClass:"line-number"},[n._v("55")]),a("br"),a("span",{staticClass:"line-number"},[n._v("56")]),a("br"),a("span",{staticClass:"line-number"},[n._v("57")]),a("br"),a("span",{staticClass:"line-number"},[n._v("58")]),a("br"),a("span",{staticClass:"line-number"},[n._v("59")]),a("br"),a("span",{staticClass:"line-number"},[n._v("60")]),a("br"),a("span",{staticClass:"line-number"},[n._v("61")]),a("br"),a("span",{staticClass:"line-number"},[n._v("62")]),a("br"),a("span",{staticClass:"line-number"},[n._v("63")]),a("br"),a("span",{staticClass:"line-number"},[n._v("64")]),a("br"),a("span",{staticClass:"line-number"},[n._v("65")]),a("br"),a("span",{staticClass:"line-number"},[n._v("66")]),a("br"),a("span",{staticClass:"line-number"},[n._v("67")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('   2>&1\n      # 重定向 标准错误 到 标准输出.\n      # 错误信息发送到标准输出相同的位置.\n        >>filename 2>&1\n            bad_command >>filename 2>&1\n            # 同时将 标准输出 和 标准错误 追加到文件 "filename" 中 ...\n        2>&1 | [command(s)]\n            bad_command 2>&1 | awk \'{print $5}\'   # found\n            # 通过管道传递 标准错误.\n            # bash 4 中可以将 "2>&1 |" 缩写为 "|&".\n\n   i>&j\n      # 重定向文件描述符 i 到 j.\n      # 文件描述符 i 指向的文件输出将会重定向到文件描述符 j 指向的文件\n\n   >&j\n      # 默认的标准输出 (stdout) 重定向到 j.\n      # 所有的标准输出将会重定向到 j 指向的文件.\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('   0< FILENAME\n    < FILENAME\n      # 从文件接收输入.\n      # 类似功能命令是 ">", 经常会组合使用.\n      #\n      # grep search-word <filename\n\n\n   [j]<>filename\n      #  打开并读写文件 "filename" ,\n      #+ 并且分配文件描述符 "j".\n      #  如果 "filename" 不存在则创建.\n      #  如果文件描述符 "j" 未指定, 默认分配文件描述符 0, 标准输入.\n      #\n      #  这是一个写指定文件位置的应用程序. \n      echo 1234567890 > File    # 写字符串到 "File".\n      exec 3<> File             # 打开并分配文件描述符 3 给 "File" .\n      read -n 4 <&3             # 读取 4 字符.\n      echo -n . >&3             # 写一个小数点.\n      exec 3>&-                 # 关闭文件描述符 3.\n      cat File                  # ==> 1234.67890\n      #  随机访问.\n\n\n\n   |\n      # 管道.\n      # 一般是命令和进程的链接工具.\n      # 类似 ">", 但更一般.\n      # 在连接命令，脚本，文件和程序方面非常有用.\n      cat *.txt | sort | uniq > result-file\n      # 所有 .txt 文件输出进行排序并且删除复制行,\n      # 最终保存结果到 "result-file".\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br")])]),a("p",[n._v("可以用单个命令行表示输入和输出的多个重定向或管道.")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("command < input-file > output-file\n# 或者等价:\n< input-file command > output-file   # 尽管这不标准.\n\ncommand1 | command2 | command3 > output-file\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br")])]),a("p",[n._v("更多详情见"),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/filearchiv.html#DERPM",target:"_blank",rel:"noopener noreferrer"}},[n._v("样例 16-31"),a("OutboundLink")],1),n._v(" and "),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/contributed-scripts.html#FIFO",target:"_blank",rel:"noopener noreferrer"}},[n._v("样例 A-14"),a("OutboundLink")],1),n._v(".")]),n._v(" "),a("p",[n._v("多个输出流可以重定向到一个文件.")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('ls -yz >> command.log 2>&1\n#  捕获不合法选项 "yz" 的结果到文件 "command.log."\n#  因为 标准错误输出 被重定向到了文件,\n#+ 任何错误信息都会在这.\n\n#  注意, 然而, 接下来的这个案例并 "不能" 同样的结果.\nls -yz 2>&1 >> command.log\n#  输出一条错误信息，但是不会写入到文件.\n#  恰恰的, 命令输出(这个例子里为空)写入到文件, 但错误信息只会在 标准输出 输出.\n\n#  如果同时重定向 标准输出 和 标准错误输出,\n#+ 命令的顺序不同会导致不同.\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br")])]),a("p",[n._v("关闭文件描述符")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("n<&-\n\t关闭输入文件描述符 n.\n\n0<&-, <&-\n\t关闭标准输入.\n\nn>&-\n\t关闭输出文件描述符 n.\n\n1>&-, >&-\n\t关闭标准输出.\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br")])]),a("p",[n._v("子进程能继承文件描述符.这就是管道符能工作的原因.通过关闭文件描述符来防止继承 .")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("# 只重定向到 标准错误 到管道.\n\nexec 3>&1                              # 保存当前 标准输出 \"值\".\n\nls -l 2>&1 >&3 3>&- | grep bad 3>&-    # 关闭 'grep' 文件描述符 3 (但不是 'ls').\n#              ^^^^   ^^^^\nexec 3>&-                              # 现在关闭它.\n\n# 感谢, S.C.\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br")])]),a("p",[n._v("更多关于 I/O 重定向详情见 "),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/ioredirintro.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("Appendix F"),a("OutboundLink")],1),n._v(".")]),n._v(" "),a("h4",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[n._v("#")]),n._v(" 注意")]),n._v(" "),a("p",[a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/io-redirection.html#AEN17884",target:"_blank",rel:"noopener noreferrer"}},[n._v("[1]"),a("OutboundLink")],1),n._v("\t 在 UNIX 和 Linux 中, 数据流和周边外设("),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/devref1.html#DEVFILEREF",target:"_blank",rel:"noopener noreferrer"}},[n._v("device files"),a("OutboundLink")],1),n._v(") 都被看做文件.")]),n._v(" "),a("p",[a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/io-redirection.html#AEN17894",target:"_blank",rel:"noopener noreferrer"}},[n._v("[2]"),a("OutboundLink")],1),n._v(" "),a("code",[n._v("文件描述符")]),n._v(" 仅仅是操作系统分配的一个可追踪的打开的文件号. 可以认为是一个简化的文件指针. 类似于 C 语言的 "),a("code",[n._v("文件句柄")]),n._v(".")]),n._v(" "),a("p",[a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/io-redirection.html#AEN17906",target:"_blank",rel:"noopener noreferrer"}},[n._v("[3]"),a("OutboundLink")],1),n._v("\t当 bash 创建一个子进程的时候使用 "),a("code",[n._v("文件描述符 5")]),n._v(" 会有问题. 例如 "),a("a",{attrs:{href:"http://tldp.org/LDP/abs/html/internal.html#EXECREF",target:"_blank",rel:"noopener noreferrer"}},[n._v("exec"),a("OutboundLink")],1),n._v(", 子进程继承了文件描述符 5 (详情见 Chet Ramey's 归档的 e-mail, "),a("a",{attrs:{href:"https://groups.google.com/forum/#!topic/gnu.bash.bug/E5Vdqv3tO1w",target:"_blank",rel:"noopener noreferrer"}},[n._v("SUBJECT: RE: File descriptor 5 is held open"),a("OutboundLink")],1),n._v("). 最好将这个文件描述符单独规避.")])])}),[],!1,null,null,null);s.default=t.exports}}]);