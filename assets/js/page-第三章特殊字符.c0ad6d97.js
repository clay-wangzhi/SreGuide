(window.webpackJsonp=window.webpackJsonp||[]).push([[351],{1064:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"第三章-特殊字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第三章-特殊字符"}},[s._v("#")]),s._v(" 第三章 特殊字符")]),s._v(" "),t("p",[s._v("是什么让一个字符变得"),t("em",[s._v("特殊")]),s._v("呢？如果一个字符不仅具有"),t("em",[s._v("字面")]),s._v("意义，而且具有"),t("em",[s._v("元意（meta-meaning）")]),s._v("，我们就称它为特殊字符。特殊字符同命令和关键词（keywords）一样，是bash脚本的组成部分。")]),s._v(" "),t("p",[s._v("你在脚本或其他地方都能够找到特殊字符。")]),s._v(" "),t("h3",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")]),s._v(" #")]),s._v(" "),t("p",[s._v("注释符。如果一行脚本的开头是#（除了#!），那么代表这一行是注释，不会被执行。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这是一行注释")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("注释也可能会在一行命令结束之后出现。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A comment will follow."')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这儿可以写注释")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                            ^ 注意在#之前有空格")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("注释也可以出现在一行开头的空白符（whitespace）之后。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个注释前面存在着一个制表符（tab）")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("注释甚至可以嵌入到管道命令（pipe）之中。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("initial")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$startfile")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/#/d'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tr")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有带'#'注释符号的行")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/\\./\\. /g'")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/_/_ /g'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 摘录自脚本 life.sh")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("blockquote",[t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/caution.gif",alt:"notice"}}),s._v(" 命令不能写在同一行注释之后。因为没有任何方法可以结束注释(仅支持单行注释)，为了让新命令正常执行，另起一行写吧。")])]),s._v(" "),t("blockquote",[t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/note.gif",alt:"extra"}}),s._v(" 当然，在"),t("code",[s._v("echo")]),s._v("语句中被引用或被转义的#不会被认为是注释。同样，在某些参数替换式或常量表达式中的#也不会被认为是注释。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The # here does not begin a comment."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'The # here does not begin a comment.'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("# here does not begin a comment.\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# here begins a comment.")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("}")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数替换而非注释")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("#"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("101011")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进制转换而非注释")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 感谢S.C.")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("因为引用符和转义符（\" ' \\）转义了#。")]),s._v(" "),t("p",[s._v("一些模式匹配操作同样使用了#。")]),s._v(" "),t("h3",{attrs:{id:"-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[s._v("#")]),s._v(" ;")]),s._v(" "),t("p",[s._v("命令分隔符[分号]。允许在同一行内放置两条或更多的命令。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" there\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -x "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  注意在分号以后有一个空格")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#+                   ^^")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"File '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(' exists."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(".bak\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                       ^^")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"File '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(' not found."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"File test complete."')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v('注意有时候";"需要被转义才能正常工作。')]),s._v(" "),t("h3",{attrs:{id:"-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-3"}},[s._v("#")]),s._v(" ;;")]),s._v(" "),t("p",[t("code",[s._v("case")]),s._v("条件语句终止符[双分号]。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$variable")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n  abc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$variable")]),s._v(' = abc"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  xyz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$variable")]),s._v(' = xyz"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-4"}},[s._v("#")]),s._v(" ;;&, ;&")]),s._v(" "),t("p",[t("code",[s._v("case")]),s._v("条件语句终止符（Bash4+ 版本）。")]),s._v(" "),t("h3",{attrs:{id:"-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-5"}},[s._v("#")]),s._v(" .")]),s._v(" "),t("p",[s._v("句点命令[句点]。等价于"),t("code",[s._v("source")]),s._v("命令（查看样例 15-22）。这是一个bash的内建命令。")]),s._v(" "),t("h3",{attrs:{id:"-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-6"}},[s._v("#")]),s._v(" .")]),s._v(" "),t("p",[s._v("句点可以作为文件名的一部分。如果它在文件名开头，那说明此文件是隐藏文件。使用不带参数的"),t("code",[s._v("ls")]),s._v("命令不会显示隐藏文件。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ touch .hidden-file\nbash$ ls -l\ntotal 10\n -rw-r--r--    1 bozo      4034 Jul 18 22:04 data1.addressbook\n -rw-r--r--    1 bozo      4602 May 25 13:58 data1.addressbook.bak\n -rw-r--r--    1 bozo       877 Dec 17  2000 employment.addressbook\n\t\n\t\nbash$ ls -al\ntotal 14\n drwxrwxr-x    2 bozo  bozo      1024 Aug 29 20:54 ./\n drwx------   52 bozo  bozo      3072 Aug 29 20:51 ../\n -rw-r--r--    1 bozo  bozo      4034 Jul 18 22:04 data1.addressbook\n -rw-r--r--    1 bozo  bozo      4602 May 25 13:58 data1.addressbook.bak\n -rw-r--r--    1 bozo  bozo       877 Dec 17  2000 employment.addressbook\n -rw-rw-r--    1 bozo  bozo         0 Aug 29 20:54 .hidden-file\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("p",[s._v("当句点出现在目录中时，单个句点代表当前工作目录，两个句点代表上级目录。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ pwd\n/home/bozo/projects\n\nbash$ cd .\nbash$ pwd\n/home/bozo/projects\n\nbash$ cd ..\nbash$ pwd\n/home/bozo/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("句点通常代表文件移动的目的地（目录），下式代表的是当前目录。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ cp /home/bozo/current_work/junk/* .\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("复制所有的“垃圾文件”到"),t("code",[s._v("当前目录")])])]),s._v(" "),t("h3",{attrs:{id:"-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-7"}},[s._v("#")]),s._v(" .")]),s._v(" "),t("p",[s._v("句点匹配符。在"),t("em",[s._v("正则表达式")]),s._v("中，点号意味着匹配任意单个字符。")]),s._v(" "),t("h3",{attrs:{id:"-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-8"}},[s._v("#")]),s._v(' "')]),s._v(" "),t("p",[s._v("部分引用[双引号]。在字符串中保留大部分特殊字符。详细内容将在"),t("RouterLink",{attrs:{to:"/code/shell/part2/05_quoting.html"}},[s._v("第五章")]),s._v("介绍。")],1),s._v(" "),t("h3",{attrs:{id:"-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-9"}},[s._v("#")]),s._v(" '")]),s._v(" "),t("p",[s._v("全引用[单引号]。在字符串中保留所有的特殊字符。是部分引用的强化版。详细内容将在"),t("RouterLink",{attrs:{to:"/code/shell/part2/05_quoting.html"}},[s._v("第五章")]),s._v("介绍。")],1),s._v(" "),t("h3",{attrs:{id:"-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-10"}},[s._v("#")]),s._v(" ,")]),s._v(" "),t("p",[s._v("逗号运算符。逗号运算符"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote1"}},[s._v("[1]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref1"}})]),s._v("将一系列的算术表达式串联在一起。算术表达式依次被执行，但只返回最后一个表达式的值。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("let")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t2 = '),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# a被赋值为9，t2被赋值为15 / 3")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("逗号运算符也可以用来连接字符串。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" /"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(",usr/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("bin/*calc\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#             ^    在 /bin 与 /usr/bin 目录中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#+                 找到所有的以"calc"结尾的可执行文件')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -x "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /bin/ipcalc")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /usr/bin/kcalc")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /usr/bin/oidcalc")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /usr/bin/oocalc")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 感谢Rory Winston提供的执行结果")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h3",{attrs:{id:"-11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-11"}},[s._v("#")]),s._v(" ,, ,")]),s._v(" "),t("p",[s._v("在参数替换中进行小写字母转换（Bash4 新增）。")]),s._v(" "),t("h3",{attrs:{id:"-12"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-12"}},[s._v("#")]),s._v(" \\")]),s._v(" "),t("p",[s._v("转义符[反斜杠]。转义某字符的标志。")]),s._v(" "),t("p",[t("code",[s._v("\\x")]),s._v('转义了字符x。双引号""内的X与单引号内的X具有同样的效果。\n转义符也可以用来转义"与\'，使它们表达其字面含义。')]),s._v(" "),t("p",[s._v("第五章将更加深入的解释转义字符。")]),s._v(" "),t("h3",{attrs:{id:"-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-13"}},[s._v("#")]),s._v(" /")]),s._v(" "),t("p",[s._v("文件路径分隔符[正斜杠]。起分割路径的作用。（比如 "),t("code",[s._v("/home/bozo/projects/Makefile")]),s._v("）")]),s._v(" "),t("p",[s._v("它也在算术运算中充当除法运算符。")]),s._v(" "),t("h3",{attrs:{id:"-14"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-14"}},[s._v("#")]),s._v(" `")]),s._v(" "),t("p",[s._v("命令替换符。"),t("code",[s._v("`command`")]),s._v("结构可以使得命令的输出结果赋值给一个变量。通常也被称作后引号（backquotes）或反引号（backticks）。")]),s._v(" "),t("h3",{attrs:{id:"-15"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-15"}},[s._v("#")]),s._v(" :")]),s._v(" "),t("p",[s._v('空命令[冒号]。它在shell中等价于"NOP"（即no op，空操作）与shell内建命令true有同样的效果。它本身也是Bash的内建命令之一，返回值是true（0）。')]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("在无限循环中的应用：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n   operation-1\n   operation-2\n   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n   operation-n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等价于")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    while true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    do")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("可在 "),t("code",[s._v("if/then")]),s._v(" 中充当占位符：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" condition\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 什么都不做，跳出判断执行下一条语句")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n   take-some-action\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("在二元操作中作占位符: 查看"),t("em",[s._v("样例 8-2")]),s._v("或"),t("em",[s._v("默认参数")]),s._v("部分。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${username=`whoami`}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ${username=`whoami`}   如果没有:就会报错")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#                        除非 "username" 是系统命令或内建命令')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v('${1?"Usage'),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(' $0 ARGUMENT"}')]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 摘自样例脚本 "usage-message.sh"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("查看"),t("em",[s._v("样例 19-10")]),s._v("了解空命令在here document中作为占位符的情况。")]),s._v(" "),t("p",[s._v("使用参数替换为字符串变量赋值（查看"),t("em",[s._v("样例 10-7")]),s._v("）。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOSTNAME")]),s._v("?}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("?}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${MAIL?}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  如果其中一个或多个必要的环境变量没有被设置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  将会打印错误")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("查看"),t("em",[s._v("变量扩展")]),s._v("或"),t("em",[s._v("字符串替换")]),s._v("章节了解空命令在其中的作用。")]),s._v(" "),t("p",[s._v("与"),t("code",[s._v(">")]),s._v("重定向操作符结合，可以在不改变文件权限的情况下清空文件。如果文件不存在，那么将创建这个文件。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" data.xxx   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 文件 "data.xxx" 已被清空')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 与 cat /dev/null >data.xxx 作用相同")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 但是此操作不会产生一个新进程，因为 ":" 是shell内建命令。')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("也可查看"),t("em",[s._v("样例 16-15")]),s._v("。")]),s._v(" "),t("p",[s._v("与"),t("code",[s._v(">>")]),s._v("重定向操作符结合，将不会清空任何已存在的文件（"),t("code",[s._v(": >> target_file")]),s._v("）。如果文件不存在，将创建这个文件。")]),s._v(" "),t("blockquote",[t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/note.gif",alt:"extra"}}),s._v(" 以上操作仅适用于普通文件，不适用于管道、符号链接和特殊文件。")])]),s._v(" "),t("p",[s._v("空命令可以用来作为一行注释的开头，尽管我们并不推荐这么做。使用 # 可以使解释器关闭该行的错误检测，所以几乎所有的内容都可以出现在注释#中。使用空命令却不是这样的：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 这一行注释将会产生一个错误，"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$x")]),s._v(" -eq "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v(":也可以作为一个域分隔符，比如在"),t("code",[s._v("/etc/passwd")]),s._v("和 "),t("code",[s._v("$PATH")]),s._v(" 变量中。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ echo $PATH\n/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin:/sbin:/usr/sbin:/usr/games\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("将冒号作为函数名也是可以的。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(":"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The name of this function is "')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$FUNCNAME")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" "')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为什么要使用冒号作函数名？")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这是一种混淆代码的方法......")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数名是 :")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("这种写法并不具有可移植性，也不推荐使用。事实上，在Bash的最近的版本更新中已经禁用了这种用法。但我们还可以使用*下划线 _*来替代。")]),s._v(" "),t("p",[s._v("冒号也可以作为非空函数的占位符。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("not_empty")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 含有空指令，这并不是一个空函数。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"-16"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-16"}},[s._v("#")]),s._v(" !")]),s._v(" "),t("p",[s._v("取反（或否定）操作符[感叹号]。! 操作符反转已执行的命令的返回状态（查看"),t("em",[s._v("样例 6-2")]),s._v("）。它同时可以反转测试操作符的意义，例如可以将相等（=）反转成不等（!=）。它是一个Bash关键词。")]),s._v(" "),t("p",[s._v("在一些特殊场景下，它也会出现在间接变量引用中。")]),s._v(" "),t("p",[s._v("在另外一些特殊场景下，即在命令行下可以使用 ! 调用Bash的历史记录（"),t("em",[s._v("附录 L")]),s._v("）。需要注意的是，在脚本中，这个机制是被禁用的。")]),s._v(" "),t("h3",{attrs:{id:"-17"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-17"}},[s._v("#")]),s._v(" *")]),s._v(" "),t("p",[s._v("通配符[星号]。在文件匹配（globbing）操作时扩展文件名。如果它独立出现，则匹配该目录下的所有文件。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ echo *\nabs-book.sgml add-drive.sh agram.sh alias.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("在"),t("em",[s._v("正则表达式")]),s._v("中表示匹配任意多个（包括0）前个字符。")]),s._v(" "),t("h3",{attrs:{id:"-18"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-18"}},[s._v("#")]),s._v(" *")]),s._v(" "),t("p",[s._v("算术运算符。在进行算术运算时，表示乘法运算。")]),s._v(" "),t("p",[s._v("** 双星号可以表示乘方运算或扩展文件匹配。")]),s._v(" "),t("h3",{attrs:{id:"-19"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-19"}},[s._v("#")]),s._v(" ?")]),s._v(" "),t("p",[s._v("测试操作符[问号]。在一些特定的语句中，? 表示一个条件测试。")]),s._v(" "),t("p",[s._v("在一个双圆括号结构中，? 可以表示一个类似C语言风格的三元（trinary）运算符的一个组成部分。"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote2"}},[s._v("[2]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref2"}})])]),s._v(" "),t("p",[t("code",[s._v("condition?result-if-true:result-if-false")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v(" var0 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不要加空格，紧挨着写")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#等价于")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# if [ "$var1" -lt 98 ]')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# then")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   var0=9")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# else")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   var0=21")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("在参数替换表达式中，? 用来测试一个变量是否已经被赋值。")]),s._v(" "),t("h3",{attrs:{id:"-20"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-20"}},[s._v("#")]),s._v(" ?")]),s._v(" "),t("p",[s._v("通配符。它在进行文件匹配（globbing）时以单字符通配符扩展文件名。\n在"),t("em",[s._v("扩展正则表达式")]),s._v("中匹配一个单字符。")]),s._v(" "),t("h3",{attrs:{id:"-21"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-21"}},[s._v("#")]),s._v(" $")]),s._v(" "),t("p",[s._v("取值符号[钱字符]，用来进行变量替换（即取出变量的内容）。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("23skidoo\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var1")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var2")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 23skidoo")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("如果在变量名前有 $，则表示此变量的值。")]),s._v(" "),t("h3",{attrs:{id:"-22"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-22"}},[s._v("#")]),s._v(" $")]),s._v(" "),t("p",[s._v("行结束符[EOF]。\n在"),t("em",[s._v("正则表达式")]),s._v("中，$ 匹配行尾字符串。")]),s._v(" "),t("h3",{attrs:{id:"-23"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-23"}},[s._v("#")]),s._v(" ${}")]),s._v(" "),t("p",[s._v("参数替换。")]),s._v(" "),t("h3",{attrs:{id:"-24"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-24"}},[s._v("#")]),s._v(" $'...'")]),s._v(" "),t("p",[s._v("引用字符串扩展。这个结构将转义八进制或十六进制的值转换成ASCII"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote3"}},[s._v("[3]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref3"}})]),s._v("或Unicode字符。")]),s._v(" "),t("h3",{attrs:{id:"-25"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-25"}},[s._v("#")]),s._v(" $*, $@")]),s._v(" "),t("p",[s._v("位置参数。")]),s._v(" "),t("h3",{attrs:{id:"-26"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-26"}},[s._v("#")]),s._v(" $?")]),s._v(" "),t("p",[s._v("返回状态变量。此变量保存一个命令、一个函数或该脚本自身的返回状态。")]),s._v(" "),t("h3",{attrs:{id:"-27"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-27"}},[s._v("#")]),s._v(" $$")]),s._v(" "),t("p",[s._v("进程ID变量。此变量保存该运行脚本的进程ID"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote4"}},[s._v("[4]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref4"}})]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"-28"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-28"}},[s._v("#")]),s._v(" ()")]),s._v(" "),t("p",[s._v("命令组。")]),s._v(" "),t("p",[t("code",[s._v("(a=hello; echo $a)")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/important.gif",alt:"notice"}}),s._v(" 通过括号执行一系列命令会产生一个子shell（subshell）。\n括号中的变量，即在子shell中的变量，在脚本的其他部分是不可见的。父进程脚本不能访问子进程（子shell）所创建的变量。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a = '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v('"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# a = 123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 在括号中的 "a" 就像个局部变量。')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("数组初始化。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Array")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element1 element2 element3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"xxx-yyy-zzz"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xxx-yyy-zzz"}},[s._v("#")]),s._v(" {xxx,yyy,zzz,...}")]),s._v(" "),t("p",[s._v("花括号扩展结构。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v('"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("These,words,are,quoted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v('"   '),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# " 将作为单词的前缀和后缀')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# "These" "words" "are" "quoted"')]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("file1,file2,file3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" combined_file\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 file1, file2 与 file3 拼接在一起后写入 combined_file 中。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" file22."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("txt,backup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 将 "file22.txt" 拷贝为 "file22.backup"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("这个命令可以作用于花括号内由逗号分隔的文件描述列表。"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote5"}},[s._v("[5]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref5"}})]),s._v(" 文件名扩展（匹配）作用于大括号间的各个文件。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/caution.gif",alt:"notice"}}),s._v(" 除非被引用或被转义，否则空白符不应在花括号中出现。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("file1,file2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" :"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" A,"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" B"')]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' C'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nfile1 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" A file1 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" B file1 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" C file2 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" A file2 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" B file2 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" C\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"a-z"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-z"}},[s._v("#")]),s._v(" {a..z}")]),s._v(" "),t("p",[s._v("扩展的花括号扩展结构。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("z"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  a b c d e f g h i j k l m n o p q r s t u v w x y z")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出 a 到 z 之间所有的字母。")]),s._v("\n\t\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0 1 2 3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出 0 到 3 之间所有的数字。")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("base64_charset")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("Z"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("z"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" + / "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用扩展花括号初始化一个数组。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 摘自 vladz 编写的样例脚本 "base64.sh"。')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("Bash第三版中引入了 {a..z} 扩展的花括号扩展结构。")]),s._v(" "),t("h3",{attrs:{id:"-29"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-29"}},[s._v("#")]),s._v(" {}")]),s._v(" "),t("p",[s._v("代码块[花括号]，又被称作内联组（inline group）。它实际上创建了一个匿名函数（anonymous function），即没有名字的函数。但是，不同于那些“标准”函数，代码块内的变量在脚本的其他部分仍旧是可见的。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ { local a;\n              a=123; }\nbash: local: can only be used in a\nfunction\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a = '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v('"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# a = 321   (代码块内赋值)")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 感谢S.C.")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("代码块可以经由I/O重定向进行输入或输出。")]),s._v(" "),t("p",[t("strong",[s._v("样例 3-1. 代码块及I/O重定向")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取文件 /etc/fstab")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("File")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/fstab\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" line1\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" line2\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$File")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"First line in '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$File")]),s._v(' is:"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$line1")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Second line in '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$File")]),s._v(' is:"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$line2")]),s._v('"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 你知道如何解析剩下的行吗？")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提示：使用 awk 或...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Hans-Joerg Diers 建议：使用Bash的内建命令 set。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[t("strong",[s._v("样例 3-2. 将代码块的输出保存至文件中")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm-check.sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询一个rpm文件的文件描述、包含文件列表，以及是否可以被安装。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将输出保存至文件。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个脚本使用代码块来描述。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SUCCESS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("E_NOARGS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -z "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Usage: '),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("basename")]),s._v(" $0"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(' rpm-file"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$E_NOARGS")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("  \n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 代码块起始")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Archive Description:"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qpi "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询文件描述。")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Archive Listing:"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qpl "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询文件列表。")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -i --test "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询是否可以被安装。")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v('"')]),s._v(" -eq "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$SUCCESS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(' can be installed."')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(' cannot be installed."')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("  \n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 代码块结束。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('.test"')]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出重定向至文件。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Results of rpm test in file '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('.test"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm各项参数的具体含义可查看man文档")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/note.gif",alt:"extra"}}),s._v(" 与由圆括号包裹起来的命令组不同，由花括号包裹起来的代码块不产生子进程。"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote6"}},[s._v("[6]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref6"}})])]),s._v(" "),t("p",[s._v("也可以使用非标准的 for 循环语句来遍历代码块。")]),s._v(" "),t("h3",{attrs:{id:"-30"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-30"}},[s._v("#")]),s._v(" {}")]),s._v(" "),t("p",[s._v("文本占位符。在 "),t("code",[s._v("xargs -i")]),s._v(" 后作为输出的占位符使用。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" -i -t "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" ./"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#            ^^         ^^")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 摘自 "ex42.sh" (copydir.sh)')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"-31"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-31"}},[s._v("#")]),s._v(" {} ;")]),s._v(" "),t("p",[s._v("路径名。通常在 "),t("code",[s._v("find")]),s._v(" 命令中使用，但这不是shell的内建命令。")]),s._v(" "),t("blockquote",[t("p",[s._v("定义：路径名是包含完整路径的文件名，例如"),t("code",[s._v("/home/bozo/Notes/Thursday/schedule.txt")]),s._v("。我们通常又称之为绝对路径。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/note.gif",alt:"extra"}}),s._v(" 在执行"),t("code",[s._v("find -exec")]),s._v("时最后需要加上"),t("code",[s._v(";")]),s._v("，但是分号需要被转义以保证其不会被shell解释。")]),s._v(" "),t("h3",{attrs:{id:"-32"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-32"}},[s._v("#")]),s._v(" [ ]")]),s._v(" "),t("p",[s._v("测试。在 [ ] 之间填写测试表达式。值得注意的是，[ 是shell内建命令 "),t("code",[s._v("test")]),s._v(" 的一个组成部分，而不是外部命令 "),t("code",[s._v("/usr/bin/test")]),s._v(" 的链接。")]),s._v(" "),t("h3",{attrs:{id:"-33"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-33"}},[s._v("#")]),s._v(" [[ ]]")]),s._v(" "),t("p",[s._v("测试。在 [[ ]] 之间填写测试表达式。相比起单括号测试 （[ ]），它更加的灵活。它是一个shell的关键字。")]),s._v(" "),t("p",[s._v("详情查看"),t("em",[s._v("关于 [[ ]] 结构的讨论")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"-34"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-34"}},[s._v("#")]),s._v(" [ ]")]),s._v(" "),t("p",[s._v("数组元素。在数组中，可以使用中括号的偏移量来用来访问数组中的每一个元素。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Array"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("slot_1\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${Array"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"-35"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-35"}},[s._v("#")]),s._v(" [ ]")]),s._v(" "),t("p",[s._v("字符集、字符范围。\n在"),t("em",[s._v("正则表达式")]),s._v("中，中括号用来匹配指定字符集或字符范围内的任意字符。")]),s._v(" "),t("h3",{attrs:{id:"-36"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-36"}},[s._v("#")]),s._v(" $[ ... ]")]),s._v(" "),t("p",[s._v("整数扩展符。在 $[ ] 中可以计算整数的算术表达式。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("b")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$b")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$b")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 21")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"-37"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-37"}},[s._v("#")]),s._v(" (( ))")]),s._v(" "),t("p",[s._v("整数扩展符。在 (( )) 中可以计算整数的算术表达式。")]),s._v(" "),t("p",[s._v("详情查看"),t("em",[s._v("关于 (( ... )) 结构的讨论")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"-38"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-38"}},[s._v("#")]),s._v(" > &> >& >> < <>")]),s._v(" "),t("p",[s._v("重定向。")]),s._v(" "),t("p",[t("code",[s._v("scriptname >filename")]),s._v(" 将脚本 "),t("em",[s._v("scriptname")]),s._v(" 的输出重定向到 "),t("em",[s._v("filename")]),s._v(" 中。如果文件存在，那么覆盖掉文件内容。")]),s._v(" "),t("p",[t("code",[s._v("command &>filename")]),s._v(" 将命令 "),t("em",[s._v("command")]),s._v(" 的标准输出(stdout) 和标准错误输出(stderr) 重定向到 "),t("em",[s._v("filename")]),s._v("。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/note.gif",alt:"extra"}}),s._v(" 重定向在用于清除测试条件的输出时特别有效。例如测试一个特定的命令是否存在。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ type bogus_command &>/dev/null\n\n\nbash$ echo $?\n1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("或写在脚本中：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("command_test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v("/dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                                      ^")]),s._v("\n \n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cmd")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rmdir            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 存在的命令。")]),s._v("\ncommand_test "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cmd")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回0")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cmd")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("bogus_command    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不存在的命令。")]),s._v("\ncommand_test "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cmd")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[t("code",[s._v("command >&2")]),s._v(" 将命令的标准输出重定向至标准错误输出。")]),s._v(" "),t("p",[t("code",[s._v("scriptname >>filename")]),s._v(" 将脚本 "),t("em",[s._v("scriptname")]),s._v(" 的输出追加到 "),t("em",[s._v("filename")]),s._v(" 文件末尾。如果文件不存在，那么将创建这个文件。")]),s._v(" "),t("p",[t("code",[s._v("[i]<>filename")]),s._v(" 打开文件 "),t("em",[s._v("filename")]),s._v(" 用来读写，并且分配一个文件描述符"),t("em",[s._v("i")]),s._v("指向它。如果文件不存在，那么将创建这个文件。")]),s._v(" "),t("p",[s._v("进程替换：\n"),t("code",[s._v("(command)>")]),s._v(" "),t("code",[s._v("<(command)")])]),s._v(" "),t("p",[s._v('在某些情况下， "<" 与 ">" 将用作字符串比较。')]),s._v(" "),t("p",[s._v('在另外一些情况下， "<" 与 ">" 将用作数字比较。详情查看'),t("em",[s._v("样例 16-9")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"-39"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-39"}},[s._v("#")]),s._v(" <<")]),s._v(" "),t("p",[s._v("在here document中进行重定向。")]),s._v(" "),t("h3",{attrs:{id:"-40"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-40"}},[s._v("#")]),s._v(" <<<")]),s._v(" "),t("p",[s._v("在here string中进行重定向。")]),s._v(" "),t("h3",{attrs:{id:"-41"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-41"}},[s._v("#")]),s._v(" <, >")]),s._v(" "),t("p",[s._v("ASCII码比较。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("veg1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("carrots\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("veg2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tomatoes\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"veg1"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"veg2"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Although '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$veg1")]),s._v(" precede "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$veg2")]),s._v(' in the dictionary,"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"this does not necessarily imply anything "')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"about my culinary preferences."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"What kind of dictionary are you using, anyhow?"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h3",{attrs:{id:"-42"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-42"}},[s._v("#")]),s._v(" <, >")]),s._v(" "),t("p",[t("em",[s._v("正则表达式")]),s._v("中的单词边界（word boundary）。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ grep '\\<the\\>' textfile\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"-43"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-43"}},[s._v("#")]),s._v(" |")]),s._v(" "),t("p",[s._v("管道（pipe）。管道可以将上一个命令的输出作为下一个命令的输入，或者直接输出到shell中。管道是一种可以将一系列命令连接在一起的绝妙方式。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  将 "echo ls -l" 的结果输出到shell中，')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  与直接输入 "ls -l" 的结果相同。')]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" *.lst "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uniq")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将所有后缀名为 lst 的文件合并后排序，接着删掉所有重复行。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("blockquote",[t("p",[s._v("管道是一种在进程间通信的典型方法。它将一个进程的输出作为另一个进程的输入。举一个经典的例子，像 "),t("code",[s._v("cat")]),s._v(" 或者 "),t("code",[s._v("echo")]),s._v(" 这样的命令，可以通过管道将它们产生的数据流导入到过滤器（filter）中。过滤器是可以用来处理输入流的命令。"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote7"}},[s._v("[7]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref7"}})])]),s._v(" "),t("p",[t("code",[s._v("cat $filename1 $filename2 | grep $search_word")])]),s._v(" "),t("p",[s._v("查看"),t("a",{attrs:{href:"http://www.faqs.org/faqs/unix-faq/faq/part3/",target:"_blank",rel:"noopener noreferrer"}},[s._v("UNIX FAQ第三章"),t("OutboundLink")],1),s._v("获取更多关于使用UNIX管道的信息。")])]),s._v(" "),t("p",[s._v("命令的输出同样可以通过管道输入到脚本中。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uppercase.sh : 将所有输入变成大写")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tr")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a-z'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'A-Z'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  为了防止产生单字符文件名，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  必须使用单引号引用字符范围。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("现在，让我们将 "),t("code",[s._v("ls -l")]),s._v(" 的输出通过管道导入到脚本中。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ ls -l | ./uppercase.sh\n -RW-RW-R--    1 BOZO  BOZO       109 APR  7 19:49 1.TXT\n -RW-RW-R--    1 BOZO  BOZO       109 APR 14 16:48 2.TXT\n -RW-R--R--    1 BOZO  BOZO       725 APR 20 20:56 DATA-FILE\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/note.gif",alt:"extra"}}),s._v(" 在管道中，每一个进程的输出必须作为下个进程的输入被正确读入，如果不这样，数据流会被阻塞（block），管道就无法按照预期正常工作。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" file1 file2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# "cat file1 file2" 的输出会消失。')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("管道是在一个子进程中运行的，因此它并不能修改父进程脚本中的变量。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("variable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"initial_value"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"new_value"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" variable\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"variable = '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$variable")]),s._v('"')]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# variable = initial_value")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("如果管道中的任意一个命令意外中止了，管道将会提前中断，我们称其为"),t("em",[s._v("管道破裂")]),s._v("(Broken Pipe)。出现这种情况，系统将发送一个 "),t("code",[s._v("SIGPIPE")]),s._v(" 信号。")]),s._v(" "),t("h3",{attrs:{id:"-44"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-44"}},[s._v("#")]),s._v(" >|")]),s._v(" "),t("p",[s._v("强制重定向。即使在 "),t("code",[s._v("noclobber")]),s._v(" 选项被设置的情况下，重定向也会覆盖已存在的文件。")]),s._v(" "),t("h3",{attrs:{id:"-45"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-45"}},[s._v("#")]),s._v(" ||")]),s._v(" "),t("p",[s._v("或（OR）逻辑运算符。在测试结构中，任意一个测试条件为真，整个表达式为真。返回 0（成功标志位）。")]),s._v(" "),t("h3",{attrs:{id:"-46"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-46"}},[s._v("#")]),s._v(" &")]),s._v(" "),t("p",[s._v("后台运行操作符。如果命令后带&，那么此命令将转至后台运行。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ sleep 10 &\n[1] 850\n[1]+  Done                    sleep 10\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在脚本中，命令甚至循环都可以在后台运行。")]),s._v(" "),t("p",[t("strong",[s._v("样例 3-3. 在后台运行的循环")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# background-loop.sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一个循环")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v(' "')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个循环在后台运行。")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 有时会在第二个循环结之后才执行此后台循环。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此'echo' 有时不显示")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二个循环")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v(' "')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此'echo' 有时不显示")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ======================================================")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 脚本期望输出结果：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1 2 3 4 5 6 7 8 9 10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 11 12 13 14 15 16 17 18 19 20")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一些情况下可能会输出：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 11 12 13 14 15 16 17 18 19 20")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1 2 3 4 5 6 7 8 9 10 bozo $")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二个 'echo' 没有被执行，为什么？")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 另外一些情况下可能会输出：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一个 'echo' 没有被执行，为什么？")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 非常罕见的情况下，可能会输出：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 11 12 13 1 2 3 4 5 6 7 8 9 10 14 15 16 17 18 19 20")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前台循环抢占（preempt）了后台循环。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Nasimuddin Ansari 建议：在第6行和第14行的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  echo -n "$i " 后增加 sleep 1，')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  会得到许多有趣的结果。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/caution.gif",alt:"notice"}}),s._v(" 脚本在后台执行命令时可能因为等待键盘事件被挂起。幸运的是，有一套方案可以解决这个问题。")]),s._v(" "),t("h3",{attrs:{id:"-47"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-47"}},[s._v("#")]),s._v(" &&")]),s._v(" "),t("p",[s._v("与（AND）逻辑操作符。在测试结构中，所有测试条件都为真，表达式才为真，返回 0（成功标志位）。")]),s._v(" "),t("h3",{attrs:{id:"-48"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-48"}},[s._v("#")]),s._v(" -")]),s._v(" "),t("p",[s._v("选项与前缀。它可以作为命令的选项标志，也可以作为一个操作符的前缀，也可以作为在参数代换中作为默认参数的前缀。")]),s._v(" "),t("p",[t("code",[s._v("COMMAND -[Option1][Option2][..]")])]),s._v(" "),t("p",[t("code",[s._v("ls -al")])]),s._v(" "),t("p",[t("code",[s._v("sort -dfu $filename")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file1")]),s._v(" -ot "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      ^")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"File '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file1")]),s._v(" is older than "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file2")]),s._v('."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v('"')]),s._v(" -eq "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$b")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ^")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v(" is equal to "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$b")]),s._v('."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$c")]),s._v('"')]),s._v(" -eq "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" -a "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$d")]),s._v('"')]),s._v(" -eq "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    ^              ^")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$c")]),s._v(" equals 24 and "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$d")]),s._v(' equals 47."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("param2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${param1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("$DEFAULTVAL}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#               ^")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"-49"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-49"}},[s._v("#")]),s._v(" --")]),s._v(" "),t("p",[s._v("双横线一般作为命令长选项的前缀。")]),s._v(" "),t("p",[t("code",[s._v("sort --ignore-leading-blanks")])]),s._v(" "),t("p",[s._v("双横线与Bash内建命令一起使用时，意味着该命令选项的结束。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/tip.gif",alt:"info"}}),s._v(" 下面提供了一种删除文件名以横线开头文件的简单方法。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ ls -l\n-rw-r--r-- 1 bozo bozo 0 Nov 25 12:29 -badname\n\n\nbash$ rm -- -badname\n\nbash$ ls -l\ntotal 0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("双横线通常也和 "),t("code",[s._v("set")]),s._v(" 连用。")]),s._v(" "),t("p",[t("code",[s._v("set -- $variable")]),s._v("（查看"),t("em",[s._v("样例 15-18")]),s._v("）。")]),s._v(" "),t("h3",{attrs:{id:"-50"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-50"}},[s._v("#")]),s._v(" -")]),s._v(" "),t("p",[s._v("重定向输入输出[短横线]。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ cat -\nabc\nabc\n\n...\n\nCtl-D\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("在这个例子中，"),t("code",[s._v("cat -")]),s._v(" 输出由键盘读入的标准输入(stdin) 到 标准输出(stdout)。但是在真实应用的 I/O 重定向中是否有使用 '-'？")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cd /source/directory "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" cf - "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cd /dest/directory "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xpvf -"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将整个文件树从一个目录移动到另一个目录。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 感谢 Alan Cox <a.cox@swansea.ac.uk> 所作出的部分改动")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1) cd /source/directory")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    工作目录定位到文件所属的源目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2) &&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    \"与链\"：如果 'cd' 命令操作成功，那么执行下一条命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3) tar cf - .")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'tar c' (create 创建) 创建一份新的档案")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'tar f -' (file 指定文件) 在 '-' 后指定一个目标文件作为输出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    '.' 代表当前目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4) |")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    通过管道进行重定向")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5) ( ... )")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    在建立的子进程中执行命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6) cd /dest/directory")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    工作目录定位到目标目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7) &&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    与 2) 相同")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8) tar xpvf -")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'tar x' 解压档案")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'tar p' (preserve 保留) 保留档案内文件的所有权及文件权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'tar v' (verbose 冗余) 发送全部信息到标准输出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'tar f -' (file 指定文件) 在 '-' 后指定一个目标文件作为输入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    注意 'x' 是一个命令，而 'p', 'v', 'f' 是选项。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 干的漂亮！")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更加优雅的写法是:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   cd source/directory")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   tar cf - . | (cd ../dest/directory; tar xpvf -)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同样可以写成:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   cp -a /source/directory/* /dest/directory")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   cp -a /source/directory/* /source/directory/.[^.]* /dest/directory")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以在源目录中有隐藏文件时使用")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("bunzip2 -c linux-2.6.16.tar.bz2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf -\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  --未解压的 tar 文件--        | --将解压出的 tar 传递给 "tar"--')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  如果不使用管道让 "tar" 处理 "bunzip2" 得到的文件，')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  那么就需要使用单独的两步来完成。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  目的是为了解压 "bzipped" 压缩的内核源代码。')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v('下面的例子中，"-" 并不是一个Bash的操作符，它仅仅是 '),t("code",[s._v("tar")]),s._v(", "),t("code",[s._v("cat")]),s._v(" 等一些特定UNIX命令中将结果输出到标准输出的选项。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('bash$ echo "whatever" | cat -\nwhatever \n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("当需要文件名的时候，- 可以用来代替某个文件而重定向到标准输出（通常出现在 "),t("code",[s._v("tar cf")]),s._v(" 中）或从 "),t("em",[s._v("stdin")]),s._v(" 中接受数据。这是一种在管道中使用面向文件（file-oriented）工具作为过滤器的方法。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ file\nUsage: file [-bciknvzL] [-f namefile] [-m magicfiles] file...\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("单独执行 "),t("code",[s._v("file")]),s._v(" 命令，将会得到一条错误信息。")]),s._v(" "),t("p",[s._v('在命令后增加一个 "-" 可以得到一个更加有用的结果。它会使得shell暂停等待用户输入。')]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ file -\nabc\nstandard input:              ASCII text\n\n\nbash$ file -\n#!/bin/bash\nstandard input:              Bourne-Again shell script text executable\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("现在命令能够接受标准输入并且处理它们了。")]),s._v(" "),t("p",[s._v('"-" 能够通过管道将标准输出重定向到其他命令中。这就可以做到像在某个文件前添加几行这样的事情。')]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("diff")]),s._v(" 比较两个文件的部分内容：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" Linux file1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" file2 -\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("最后介绍一个使用 - 的 "),t("code",[s._v("tar")]),s._v(" 命令的实际案例。")]),s._v(" "),t("p",[t("strong",[s._v("样例 3-4. 备份最近一天修改过的所有文件")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  将当前目录下24小时之内修改过的所有文件备份成一个")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  "tarball" (经 tar 打包`与 gzip 压缩) 文件')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BACKUPFILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("backup-"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%m-%d-%Y"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                 在备份文件中嵌入时间")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                 感谢 Joshua Tschida 提供的建议")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("archive")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":-")]),s._v("$BACKUPFILE}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  如果没有在命令行中特别制定备份格式，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#  那么将会默认设置为 "backup-MM-DD-YYYY.tar.gz"。')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" cvf - "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -mtime -1 -type f -print"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$archive")]),s._v(".tar\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$archive")]),s._v(".tar\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Directory '),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v(" backed up in archive file "),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$archive")]),s._v(".tar.gz"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('."')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  Stephane Chazeles 指出如果目录中有非常多的文件，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  或文件名中包含空白符时，上面的代码会运行失败。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 他建议使用以下的任意一种方法：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------------------------------------------------------------------")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#   find . -mtime -1 -type f -print0 | xargs -0 tar rvf "$archive.tar"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#   使用了 GNU 版本的 "find" 命令。')]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   find . -mtime -1 -type f -exec tar rvf \"$archive.tar\" '{}' \\;")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   兼容其他的 UNIX 发行版，但是速度会比较慢")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------------------------------------------------------------------")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/caution.gif",alt:"notice"}}),s._v(' 以 "-" 开头的文件在和"-" 重定向操作符一起使用时可能会导致一些问题。因此合格的脚本必须首先检查这种情况。如果遇到，就需要给文件名加一个合适的前缀，比如 '),t("code",[s._v("./-FILENAME, $PWD/-FILENAME")]),s._v(" 或者"),t("code",[s._v("$PATHNAME/-FILENAME")]),s._v(" 。")]),s._v(" "),t("p",[s._v("如果变量的值以 '-' 开头，也可能会造成类似问题。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-n'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 等同于 "echo -n"，不会输出任何东西。')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"-51"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-51"}},[s._v("#")]),s._v(" -")]),s._v(" "),t("p",[s._v("先前的工作目录。使用 "),t("code",[s._v("cd -")]),s._v(" 命令可以返回先前的工作目录。它实际上是使用了 "),t("code",[s._v("$OLDPWD")]),s._v(" 环境变量。")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://tldp.org/LDP/abs/images/caution.gif",alt:"notice"}}),s._v(' 不要将这里的 "-" 与先前的 "-" 重定位操作符混淆。"-" 的具体含义需要根据上下文来解释。')]),s._v(" "),t("h3",{attrs:{id:"-52"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-52"}},[s._v("#")]),s._v(" -")]),s._v(" "),t("p",[s._v("减号。算术运算符中的减法标志。")]),s._v(" "),t("h3",{attrs:{id:"-53"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-53"}},[s._v("#")]),s._v(" =")]),s._v(" "),t("p",[s._v("等号。赋值操作符。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 28")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v('在一些情况下，"=" 可以作为字符串比较操作符。')]),s._v(" "),t("h3",{attrs:{id:"-54"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-54"}},[s._v("#")]),s._v(" +")]),s._v(" "),t("p",[s._v("加号。加法算术运算。")]),s._v(" "),t("p",[s._v("在一些情况下，+ 是作为正则表达式中的一个操作符。")]),s._v(" "),t("h3",{attrs:{id:"-55"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-55"}},[s._v("#")]),s._v(" +")]),s._v(" "),t("p",[s._v("选项操作符。作为一个命令或过滤器的选项标记。")]),s._v(" "),t("p",[s._v("特定的一些指令和内建命令使用 + 启用特定的选项，使用 - 禁用特定的选项。在参数代换中，+ 是作为变量扩展的备用值（alternate value）的前缀。")]),s._v(" "),t("h3",{attrs:{id:"-56"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-56"}},[s._v("#")]),s._v(" %")]),s._v(" "),t("p",[s._v("取模。取模操作运算符。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("let")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"z = 5 % 3"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$z")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("在另外一些情况下，% 是一种模式匹配的操作符。")]),s._v(" "),t("h3",{attrs:{id:"-57"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-57"}},[s._v("#")]),s._v(" ~")]),s._v(" "),t("p",[s._v("主目录[波浪号]。它相当于内部变量 "),t("code",[s._v("$HOME")]),s._v("。"),t("code",[s._v("~bozo")]),s._v(" 是 bozo 的主目录，执行 "),t("code",[s._v("ls ~bozo")]),s._v(" 将会列出他的主目录中内容。"),t("code",[s._v("~/")]),s._v(" 是当前用户的主目录，执行 "),t("code",[s._v("ls ~/")]),s._v(" 将会列出其中所有的内容。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bash$ echo ~bozo\n/home/bozo\n\nbash$ echo ~\n/home/bozo\n\nbash$ echo ~/\n/home/bozo/\n\nbash$ echo ~:\n/home/bozo:\n\nbash$ echo ~nonexistent-user\n~nonexistent-user\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"-58"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-58"}},[s._v("#")]),s._v(" ~+")]),s._v(" "),t("p",[s._v("当前工作目录。它等同于内部变量 "),t("code",[s._v("$PWD")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"-59"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-59"}},[s._v("#")]),s._v(" ~-")]),s._v(" "),t("p",[s._v("先前的工作目录。它等同于内部变量 "),t("code",[s._v("$OLDPWD")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"-60"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-60"}},[s._v("#")]),s._v(" =~")]),s._v(" "),t("p",[t("em",[s._v("正则表达式")]),s._v("匹配。将在 *Bash version 3 *章节中介绍。")]),s._v(" "),t("h3",{attrs:{id:"-61"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-61"}},[s._v("#")]),s._v(" ^")]),s._v(" "),t("p",[s._v('行起始符。在正则表达式中，"^" 代表一行文本的开始。')]),s._v(" "),t("h3",{attrs:{id:"-62"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-62"}},[s._v("#")]),s._v(" ^, ^^")]),s._v(" "),t("p",[s._v("参数替换中的大写转换符（在Bash第4版新增）。")]),s._v(" "),t("h3",{attrs:{id:"控制字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#控制字符"}},[s._v("#")]),s._v(" 控制字符")]),s._v(" "),t("p",[s._v("改变终端或文件显示的一些行为。一个控制符是由 "),t("em",[s._v("CONTRL + key")]),s._v(" 组成的（同时按下）。控制字符同样可以通过转义以八进制或十六进制的方式显示。")]),s._v(" "),t("p",[s._v("控制符不能在脚本中使用。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-a"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-a"}},[s._v("#")]),s._v(" Ctrl-A")]),s._v(" "),t("p",[s._v("移动光标至行首。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-b"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-b"}},[s._v("#")]),s._v(" Ctrl-B")]),s._v(" "),t("p",[s._v("非破坏性退格（即不删除字符）。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-c"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-c"}},[s._v("#")]),s._v(" Ctrl-C")]),s._v(" "),t("p",[s._v("中断指令。终止当前运行的任务。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-d"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-d"}},[s._v("#")]),s._v(" Ctrl-D")]),s._v(" "),t("p",[s._v("登出shell（类似 "),t("code",[s._v("exit")]),s._v("）")]),s._v(" "),t("p",[s._v("键入 "),t("code",[s._v("EOF")]),s._v("（end-of-file，文件终止标记），中断 "),t("em",[s._v("stdin")]),s._v(" 的输入。")]),s._v(" "),t("p",[s._v("当你在终端或 "),t("em",[s._v("xterm")]),s._v(" 窗口中输入字符时，"),t("code",[s._v("Ctl-D")]),s._v(" 将会删除光标上的字符。当没有字符时，"),t("code",[s._v("Crl-D")]),s._v(" 将会登出shell。在 "),t("em",[s._v("xterm")]),s._v(" 中，将会关闭整个窗口。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-e"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-e"}},[s._v("#")]),s._v(" Ctrl-E")]),s._v(" "),t("p",[s._v("移动光标至行末。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-f"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-f"}},[s._v("#")]),s._v(" Ctrl-F")]),s._v(" "),t("p",[s._v("光标向前移动一个字符。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-g"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-g"}},[s._v("#")]),s._v(" Ctrl-G")]),s._v(" "),t("p",[s._v("响铃"),t("code",[s._v("BEL")]),s._v("。在一些老式打字机终端上，将会响铃。而在 "),t("em",[s._v("xterm")]),s._v(" 中，将会产生“哔”声。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-h"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-h"}},[s._v("#")]),s._v(" Ctrl-H")]),s._v(" "),t("p",[s._v("抹除（破坏性退格）。退格删除前面的字符。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在字符串中嵌入 Ctrl-H")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^H^H"')]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 两个退格符 Ctrl-H")]),s._v("\n                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 vi/vim 中使用 Ctrl-V Ctrl-H 来键入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"abcdef"')]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# abcdef")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"abcdef'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v(' "')]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# abcd f")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                ^              ^ 末尾有空格退格两次的结果")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"abcdef'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v('"')]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# abcdef")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#                                ^ 末尾没有空格时为什么退格无效了？")]),s._v("\n                          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 并不是我们期望的结果。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Constantin Hagemeier 建议尝试一下：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# a=$'\\010\\010'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# a=$'\\b\\b'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# a=$'\\x08\\x08'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但是这些并不会改变结果。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("########################################")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 现在来试试这个。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rubout")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^H^H^H^H^H"')]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5个 Ctrl-H")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12345678"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$rubout")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("h4",{attrs:{id:"ctrl-i"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-i"}},[s._v("#")]),s._v(" Ctrl-I")]),s._v(" "),t("p",[s._v("水平制表符。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-j"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-j"}},[s._v("#")]),s._v(" Ctrl-J")]),s._v(" "),t("p",[s._v("另起一行（换行）。在脚本中，你也可使用八进制 '\\012' 或者十六进制 '\\x0a' 来表示。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-k"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-k"}},[s._v("#")]),s._v(" Ctrl-K")]),s._v(" "),t("p",[s._v("垂直制表符。")]),s._v(" "),t("p",[s._v("当你在终端或 "),t("em",[s._v("xterm")]),s._v(" 窗口中输入字符时，"),t("code",[s._v("Ctrl-K")]),s._v(" 将会删除光标上及其后的所有字符。而在脚本中，"),t("code",[s._v("Ctrl-K")]),s._v(" 的作用有些不同。具体查看下方 Lee Lee Maschmeyer 写的样例。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-l"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-l"}},[s._v("#")]),s._v(" Ctrl-L")]),s._v(" "),t("p",[s._v("清屏、走纸。在终端中等同于 "),t("code",[s._v("clear")]),s._v(" 命令。在打印时，"),t("code",[s._v("Ctrl-L")]),s._v(" 将会使纸张移动到底部。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-m"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-m"}},[s._v("#")]),s._v(" Ctrl-M")]),s._v(" "),t("p",[s._v("回车（CR）。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 感谢 Lee Maschmeyer 提供的样例。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -s -p "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n$"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Control-M leaves cursor at beginning of this line. Press Enter. "),t("span",{pre:!0,attrs:{class:"token entity",title:"\\x0d"}},[s._v("\\x0d")]),s._v("'")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# '0d' 是 Control-M 的十六进制的值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&2")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# '-s' 参数禁用了回显，所以需要显式的另起一行。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -s -p $"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Control-J leaves cursor on next line. "),t("span",{pre:!0,attrs:{class:"token entity",title:"\\x0a"}},[s._v("\\x0a")]),s._v("'")]),s._v("\n           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# '0a' 是 Control-J 换行符的十六进制的值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&2")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -s -p $"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'And Control-K"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\x0b"}},[s._v("\\x0b")]),s._v("goes straight down.'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&2")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Control-K 是垂直制表符。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一个更好的垂直制表符例子是：")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\x0a"}},[s._v("\\x0a")]),s._v("This is the bottom line"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\x0b"}},[s._v("\\x0b")]),s._v("This is the top line"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\x0a"}},[s._v("\\x0a")]),s._v("'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  这将会产生与上面的例子类似的结果。但是")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" col\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  这却会使得右侧行高于左侧行。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  这也解释了为什么我们需要在行首和行尾加上换行符")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  来避免显示的混乱。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Lee Maschmeyer 的解释：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --------------------------")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  在第一个垂直制表符的例子中，垂直制表符使其")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  在没有回车的情况下向下打印。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  这在那些不能回退的设备上，例如 Linux 的终端才可以。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  而垂直制表符的真正目的是向上而非向下。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  它可以用来在打印机中用来打印上标。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  col 工具可以用来模拟真实的垂直制表符行为。")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br")])]),t("h4",{attrs:{id:"ctrl-n"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-n"}},[s._v("#")]),s._v(" Ctrl-N")]),s._v(" "),t("p",[s._v("在命令行历史记录中调用下一条历史命令"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote8"}},[s._v("[8]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref8"}})]),s._v("。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-o"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-o"}},[s._v("#")]),s._v(" Ctrl-O")]),s._v(" "),t("p",[s._v("在命令行中另起一行。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-p"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-p"}},[s._v("#")]),s._v(" Ctrl-P")]),s._v(" "),t("p",[s._v("在命令行历史记录中调用上一条历史命令。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-q"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-q"}},[s._v("#")]),s._v(" Ctrl-Q")]),s._v(" "),t("p",[s._v("恢复（XON）。")]),s._v(" "),t("p",[s._v("终端恢复读入 "),t("em",[s._v("stdin")]),s._v("。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-r"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-r"}},[s._v("#")]),s._v(" Ctrl-R")]),s._v(" "),t("p",[s._v("在命令行历史记录中进行搜索。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-s"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-s"}},[s._v("#")]),s._v(" Ctrl-S")]),s._v(" "),t("p",[s._v("挂起（XOFF）。")]),s._v(" "),t("p",[s._v("终端冻结 "),t("em",[s._v("stdin")]),s._v("。（可以使用 "),t("code",[s._v("Ctrl-Q")]),s._v(" 恢复）")]),s._v(" "),t("h4",{attrs:{id:"ctrl-t"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-t"}},[s._v("#")]),s._v(" Ctrl-T")]),s._v(" "),t("p",[s._v("交换光标所在字符与其前一个字符。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-u"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-u"}},[s._v("#")]),s._v(" Ctrl-U")]),s._v(" "),t("p",[s._v("删除光标所在字符之前的所有字符。\n在一些情况下，不管光标在哪个位置，"),t("code",[s._v("Ctrl-U")]),s._v(" 都会删除整行文字。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-v"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-v"}},[s._v("#")]),s._v(" Ctrl-V")]),s._v(" "),t("p",[s._v("输入时，使用 "),t("code",[s._v("Ctrl-V")]),s._v(" 允许插入控制字符。例如，下面两条语句是等价的：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\x0a"}},[s._v("\\x0a")]),s._v("'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Ctl-V"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Ctl-J"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("Ctrl-V")]),s._v(" 在文本编辑器中特别有用。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-w"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-w"}},[s._v("#")]),s._v(" Ctrl-W")]),s._v(" "),t("p",[s._v("当你在终端或 "),t("em",[s._v("xterm")]),s._v(" 窗口中输入字符时，"),t("code",[s._v("Ctrl-W")]),s._v(" 将会删除光标所在字符之前到其最近的空白符之间的所有字符。\n在一些情况下，"),t("code",[s._v("Ctrl-W")]),s._v(" 会删除到之前最近的非字母或数字的字符。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-x"}},[s._v("#")]),s._v(" Ctrl-X")]),s._v(" "),t("p",[s._v("在一些特定的文本处理程序中，剪切高亮文本并复制到剪贴板（clipboard）。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-y"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-y"}},[s._v("#")]),s._v(" Ctrl-Y")]),s._v(" "),t("p",[s._v("粘贴之前使用 "),t("code",[s._v("Ctrl-U")]),s._v(" 或 "),t("code",[s._v("Ctrl-W")]),s._v(" 删除的文字。")]),s._v(" "),t("h4",{attrs:{id:"ctrl-z"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-z"}},[s._v("#")]),s._v(" Ctrl-Z")]),s._v(" "),t("p",[s._v("暂停当前运行的任务。")]),s._v(" "),t("p",[s._v("在一些特定的文本处理程序中是替代操作。")]),s._v(" "),t("p",[s._v("在 MSDOS 文件系统中作为 "),t("code",[s._v("EOF")]),s._v("（end-of-file，文件终止标记）。")]),s._v(" "),t("h3",{attrs:{id:"空白符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#空白符"}},[s._v("#")]),s._v(" 空白符")]),s._v(" "),t("p",[s._v("作为命令或变量之间的分隔符。空白符包含空格、制表符、换行符或它们的任意组合。"),t("sup",{staticClass:"footnote-ref"},[t("a",{attrs:{href:"#footnote9"}},[s._v("[9]")]),t("a",{staticClass:"footnote-anchor",attrs:{id:"footnote-ref9"}})]),s._v("在一些地方，比如变量赋值时，空白符不应该出现，否则会造成语法错误。")]),s._v(" "),t("p",[s._v("空白行在脚本中不会有任何实际作用，但是可以划分代码，使代码更具可读性。")]),s._v(" "),t("p",[s._v("特殊变量 "),t("code",[s._v("$IFS")]),s._v(" 是作为一些特定命令的输入域（field）分隔符，默认值为空白符。")]),s._v(" "),t("blockquote",[t("p",[s._v("定义：域是字符串中离散的数据块。使用空白符或者指定的字符（通常由 "),t("code",[s._v("$IFS")]),s._v(" 决定）来分隔临近域。在一些情况下，域也可以被称作记录（record）。")])]),s._v(" "),t("p",[s._v("如果想在字符串或者变量中保留空白符，请引用。")]),s._v(" "),t("p",[s._v("UNIX 过滤器可以使用 POSIX 字符类 "),t("code",[s._v("[:space:]")]),s._v(" 来寻找和操作空白符。")]),s._v(" "),t("hr",{staticClass:"footnotes-sep"}),s._v(" "),t("section",{staticClass:"footnotes"},[t("ol",{staticClass:"footnotes-list"},[t("li",{staticClass:"footnote-item",attrs:{id:"footnote1"}},[t("p",[s._v("操作符（operator）用来执行表达式（operation）。最常见的例子就是算术运算符+ - * /。在Bash中，操作符和关键字的概念有一些重叠。 "),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref1"}},[s._v("↩︎")])])]),s._v(" "),t("li",{staticClass:"footnote-item",attrs:{id:"footnote2"}},[t("p",[s._v("它更被人熟知的名字是三元（ternary）操作符。但是读起来不清晰，而且容易令人混淆。trinary 是一种更加优雅的写法。 "),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref2"}},[s._v("↩︎")])])]),s._v(" "),t("li",{staticClass:"footnote-item",attrs:{id:"footnote3"}},[t("p",[s._v("美国信息交换标准代码（American Standard Code for Information Interchange）。这是一套可以由计算机存储和处理的7位（bit）字符（包含字母、数字和一系列有限的符号）编码系统。 "),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref3"}},[s._v("↩︎")])])]),s._v(" "),t("li",{staticClass:"footnote-item",attrs:{id:"footnote4"}},[t("p",[s._v("进程标识符（PID），是分配给正在运行进程的唯一数字标识。可以使用 "),t("code",[s._v("ps")]),s._v(" 命令查看进程的 PID。<br >定义：进程是正在执行的命令或程序，通常也称作任务。 "),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref4"}},[s._v("↩︎")])])]),s._v(" "),t("li",{staticClass:"footnote-item",attrs:{id:"footnote5"}},[t("p",[s._v("由shell来执行大括号扩展操作。命令本身是在扩展的基础上进行操作的。 "),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref5"}},[s._v("↩︎")])])]),s._v(" "),t("li",{staticClass:"footnote-item",attrs:{id:"footnote6"}},[t("p",[s._v("例外：作为管道的一部分的大括号中的代码块可能会运行在子进程中。<br >"),t("pre",[s._v("ls | { read firstline; read secondline; }"),t("br"),s._v("#  错误。大括号中的代码块在子进程中运行，"),t("br"),s._v('#+ 因此 "ls" 命令输出的结果不能传递到代码块中。'),t("br"),s._v('echo "First line is $firstline; second line is $secondline"  # 无效。'),t("br"),t("br"),s._v("# 感谢 S.C.")]),s._v(" "),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref6"}},[s._v("↩︎")])])]),s._v(" "),t("li",{staticClass:"footnote-item",attrs:{id:"footnote7"}},[t("p",[s._v("正如在古代催情剂（philtre）被认为是一种能引发神奇变化的药剂一样，UNIX 中的过滤器（filter）也是有类似的作用的。"),t("br"),s._v('（如果一个程序员做出了一个能够在 Linux 设备上运行的 "love philtre"，那么他将会获得巨大的荣誉。） '),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref7"}},[s._v("↩︎")])])]),s._v(" "),t("li",{staticClass:"footnote-item",attrs:{id:"footnote8"}},[t("p",[s._v("Bash将之前在命令行中执行过的命令存储在缓存（buffer）中，或者一块内存区域里。可以使用内建命令 "),t("code",[s._v("history")]),s._v(" 来查看。 "),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref8"}},[s._v("↩︎")])])]),s._v(" "),t("li",{staticClass:"footnote-item",attrs:{id:"footnote9"}},[t("p",[s._v("换行符本身也是一个空白符。因此这就是为什么仅仅包含一个换行符的空行也被认为是空白符。 "),t("a",{staticClass:"footnote-backref",attrs:{href:"#footnote-ref9"}},[s._v("↩︎")])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);