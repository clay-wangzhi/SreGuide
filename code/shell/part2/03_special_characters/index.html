<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第三章 特殊字符 | IT外卖小哥</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="alternate" type="application/atom+xml" href="https://clay-wangzhi.com/atom.xml" title="IT外卖小哥 Atom Feed">
    <link rel="alternate" type="application/json" href="https://clay-wangzhi.com/feed.json" title="IT外卖小哥 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://clay-wangzhi.com/rss.xml" title="IT外卖小哥 RSS Feed">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png">
    <meta name="description" content="当你发现自己的才华撑不起野心时，就请安静下来学习吧！">
    <meta property="og:url" content="/code/shell/part2/03_special_characters.html">
    <meta property="og:site_name" content="IT外卖小哥">
    <meta property="og:title" content="第三章 特殊字符">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="IT外卖小哥">
    <meta property="article:author" content="LinuxStory">
    <meta property="article:tag" content="Bash">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.9d571f1a.css" as="style"><link rel="preload" href="/assets/js/app.2de3efa2.js" as="script"><link rel="preload" href="/assets/js/layout-Layout.17734499.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.88b09518.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.7cb31cd9.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout.8baa9875.js" as="script"><link rel="preload" href="/assets/js/page-第三章特殊字符.85757361.js" as="script"><link rel="prefetch" href="/assets/js/321.f38a3094.js"><link rel="prefetch" href="/assets/js/322.265129a7.js"><link rel="prefetch" href="/assets/js/323.93346756.js"><link rel="prefetch" href="/assets/js/324.3d6de707.js"><link rel="prefetch" href="/assets/js/325.b702ebe1.js"><link rel="prefetch" href="/assets/js/326.9817ab63.js"><link rel="prefetch" href="/assets/js/327.576becbc.js"><link rel="prefetch" href="/assets/js/layout-Blog.9fd229e4.js"><link rel="prefetch" href="/assets/js/layout-NotFound.9d40ef35.js"><link rel="prefetch" href="/assets/js/layout-Slide.f5a90fef.js"><link rel="prefetch" href="/assets/js/mermaid.595267fa.js"><link rel="prefetch" href="/assets/js/page--04113196.a141dd1a.js"><link rel="prefetch" href="/assets/js/page--054d9954.6c903e0f.js"><link rel="prefetch" href="/assets/js/page--06f1fce6.d05e72c0.js"><link rel="prefetch" href="/assets/js/page--0cd9f6ce.945fc1e9.js"><link rel="prefetch" href="/assets/js/page--11ea43cd.36b72de1.js"><link rel="prefetch" href="/assets/js/page--17fb350c.bebcbe84.js"><link rel="prefetch" href="/assets/js/page--1a8c4364.d65173cd.js"><link rel="prefetch" href="/assets/js/page--1a910c74.7752636d.js"><link rel="prefetch" href="/assets/js/page--1f13adb2.c242a0fd.js"><link rel="prefetch" href="/assets/js/page--2446b982.085e4097.js"><link rel="prefetch" href="/assets/js/page--29cbabbc.3cd6a761.js"><link rel="prefetch" href="/assets/js/page--37e0021e.4201cb30.js"><link rel="prefetch" href="/assets/js/page--3ac9e042.84bd770e.js"><link rel="prefetch" href="/assets/js/page--3e50886c.9576a469.js"><link rel="prefetch" href="/assets/js/page--43161ee2.0831c41b.js"><link rel="prefetch" href="/assets/js/page--5818cf62.f11ea83b.js"><link rel="prefetch" href="/assets/js/page--5ba05c42.49e8cc00.js"><link rel="prefetch" href="/assets/js/page--5d5bdc22.0a1e14d9.js"><link rel="prefetch" href="/assets/js/page--5ea6ac0a.c907f7c9.js"><link rel="prefetch" href="/assets/js/page--5fa07682.18191aea.js"><link rel="prefetch" href="/assets/js/page--66f1923c.9ffcd2c7.js"><link rel="prefetch" href="/assets/js/page--6d4163be.6760194d.js"><link rel="prefetch" href="/assets/js/page--6db0e951.9e065ebb.js"><link rel="prefetch" href="/assets/js/page--6f8913a8.94149d58.js"><link rel="prefetch" href="/assets/js/page--7df8e94d.a7db0e22.js"><link rel="prefetch" href="/assets/js/page--817b17b8.fcd73a7a.js"><link rel="prefetch" href="/assets/js/page--a614a2d4.93f00817.js"><link rel="prefetch" href="/assets/js/page--a7016928.4210073c.js"><link rel="prefetch" href="/assets/js/page--bcaf747c.76062541.js"><link rel="prefetch" href="/assets/js/page--f506b0b8.7616d2b1.js"><link rel="prefetch" href="/assets/js/page-01Python基础语法.3535ee09.js"><link rel="prefetch" href="/assets/js/page-02线性数据结构.69a8729d.js"><link rel="prefetch" href="/assets/js/page-03哈希表和解析式.b2e413f9.js"><link rel="prefetch" href="/assets/js/page-04函数.0dc0fbf0.js"><link rel="prefetch" href="/assets/js/page-05装饰器.8d6f8267.js"><link rel="prefetch" href="/assets/js/page-06目录文件处理.96195b72.js"><link rel="prefetch" href="/assets/js/page-07序列化和反序列化.ab5e987e.js"><link rel="prefetch" href="/assets/js/page-08异常处理.7d8b3934.js"><link rel="prefetch" href="/assets/js/page-09面向对象-封装.ae6ab5fa.js"><link rel="prefetch" href="/assets/js/page-1011使用awk处理字符串.02ca22b7.js"><link rel="prefetch" href="/assets/js/page-1012参考资料.72e20a99.js"><link rel="prefetch" href="/assets/js/page-101字符串处理.fcf35ed3.js"><link rel="prefetch" href="/assets/js/page-102参数替换.625fcf8b.js"><link rel="prefetch" href="/assets/js/page-10Todolist.f516e17f.js"><link rel="prefetch" href="/assets/js/page-10继承多态和Mixin.36316d9c.js"><link rel="prefetch" href="/assets/js/page-10读写分离和Amoeba.d273d24e.js"><link rel="prefetch" href="/assets/js/page-111循环.197bcf10.js"><link rel="prefetch" href="/assets/js/page-112嵌套循环.39e1a8d3.js"><link rel="prefetch" href="/assets/js/page-113循环控制.8db188c9.js"><link rel="prefetch" href="/assets/js/page-114测试与分支.9bcf71c3.js"><link rel="prefetch" href="/assets/js/page-11MySQL逻辑架构.e1f322e2.js"><link rel="prefetch" href="/assets/js/page-11魔术方法.c50d76a6.js"><link rel="prefetch" href="/assets/js/page-12MySQL锁等待.b93855ce.js"><link rel="prefetch" href="/assets/js/page-12线程.13cf15ec.js"><link rel="prefetch" href="/assets/js/page-13MySQL常见问题.b77ef028.js"><link rel="prefetch" href="/assets/js/page-13线程同步.8225529c.js"><link rel="prefetch" href="/assets/js/page-14MySQLbin-log日志清理.67e868a1.js"><link rel="prefetch" href="/assets/js/page-14多进程.12402e26.js"><link rel="prefetch" href="/assets/js/page-15TCP编程.05e48943.js"><link rel="prefetch" href="/assets/js/page-16SocketServer.2d2abf34.js"><link rel="prefetch" href="/assets/js/page-17IO模型.48d5f5fc.js"><link rel="prefetch" href="/assets/js/page-181正则表达式简介.45be696b.js"><link rel="prefetch" href="/assets/js/page-182文件名替换.5628e414.js"><link rel="prefetch" href="/assets/js/page-183正则表达式对照表.22ec9ac8.js"><link rel="prefetch" href="/assets/js/page-18正则表达式.fca08d74.js"><link rel="prefetch" href="/assets/js/page-19嵌入文档.e7c2f486.js"><link rel="prefetch" href="/assets/js/page-1MySQL基本操作.c3b3b527.js"><link rel="prefetch" href="/assets/js/page-1zabbix44新功能.52931f0b.js"><link rel="prefetch" href="/assets/js/page-1初识Ansible.b268f7bc.js"><link rel="prefetch" href="/assets/js/page-1初识Nginx.96dfbb4c.js"><link rel="prefetch" href="/assets/js/page-201使用exec.b0cf2a4e.js"><link rel="prefetch" href="/assets/js/page-202重定向代码块.7d27b07b.js"><link rel="prefetch" href="/assets/js/page-203应用程序.18074a52.js"><link rel="prefetch" href="/assets/js/page-20IO重定向.fa0ca78a.js"><link rel="prefetch" href="/assets/js/page-21调用一个脚本.7f253440.js"><link rel="prefetch" href="/assets/js/page-22牛刀小试.ce698f58.js"><link rel="prefetch" href="/assets/js/page-241复杂函数和函数复杂性.5b1ab7cb.js"><link rel="prefetch" href="/assets/js/page-242局部变量.73ab1244.js"><link rel="prefetch" href="/assets/js/page-243不使用局部变量的递归.d5c01106.js"><link rel="prefetch" href="/assets/js/page-24函数.c5efaf4f.js"><link rel="prefetch" href="/assets/js/page-25别名.679078f2.js"><link rel="prefetch" href="/assets/js/page-27数组.0d833a03.js"><link rel="prefetch" href="/assets/js/page-2AnsibleInventory配置详解.488786f6.js"><link rel="prefetch" href="/assets/js/page-2nginx架构基础.4b5d2c71.js"><link rel="prefetch" href="/assets/js/page-2zabbix借助ansible安装.e645ae9d.js"><link rel="prefetch" href="/assets/js/page-2列表类型和数据完整性.329165bc.js"><link rel="prefetch" href="/assets/js/page-30网络编程.dd1071d2.js"><link rel="prefetch" href="/assets/js/page-31Ansiblelineinfile模块详解.e60870cc.js"><link rel="prefetch" href="/assets/js/page-31nginx全局块和events块配置.1a277465.js"><link rel="prefetch" href="/assets/js/page-32nginxHTTP块配置.132478f3.js"><link rel="prefetch" href="/assets/js/page-32调试.b9080470.js"><link rel="prefetch" href="/assets/js/page-33nginxSERVER块配置.8c9dbc07.js"><link rel="prefetch" href="/assets/js/page-33选项.019284f8.js"><link rel="prefetch" href="/assets/js/page-34nginxLOCATION块配置.f0a4bd52.js"><link rel="prefetch" href="/assets/js/page-35nginx常用模块.1c65e3b4.js"><link rel="prefetch" href="/assets/js/page-361交互和非交互shell以及脚本.4c55e766.js"><link rel="prefetch" href="/assets/js/page-362shellwrappers.8cf733b4.js"><link rel="prefetch" href="/assets/js/page-363测试和比较的其他方法.39c58617.js"><link rel="prefetch" href="/assets/js/page-364递归：可以调用自己的脚本.fe2c41c5.js"><link rel="prefetch" href="/assets/js/page-3AnsibleAd-hoc命令集.162991d9.js"><link rel="prefetch" href="/assets/js/page-3nginx配置文件详解.0445ff2d.js"><link rel="prefetch" href="/assets/js/page-3zabbix添加报警媒介.6325bedb.js"><link rel="prefetch" href="/assets/js/page-3数据库设计与查询语句.84de333f.js"><link rel="prefetch" href="/assets/js/page-41Playbook的结构及handler用法.9253e181.js"><link rel="prefetch" href="/assets/js/page-41变量替换.30fa6286.js"><link rel="prefetch" href="/assets/js/page-42Playbook循环语句.e297a555.js"><link rel="prefetch" href="/assets/js/page-42变量赋值.b1a7e6a3.js"><link rel="prefetch" href="/assets/js/page-43Bash变量是弱类型的.7aa460fc.js"><link rel="prefetch" href="/assets/js/page-43Playbook条件语句.d7c98b1c.js"><link rel="prefetch" href="/assets/js/page-44Playbook高级用法.00eb5ef9.js"><link rel="prefetch" href="/assets/js/page-44特殊的变量类型.18711679.js"><link rel="prefetch" href="/assets/js/page-45Playbook之tags.5e24052c.js"><link rel="prefetch" href="/assets/js/page-46巧用Roles.89cb0bcb.js"><link rel="prefetch" href="/assets/js/page-48yaml语法.b4e6cafb.js"><link rel="prefetch" href="/assets/js/page-4AnsiblePlaybook.e21f1215.js"><link rel="prefetch" href="/assets/js/page-4MySQL监控模块.caa208e1.js"><link rel="prefetch" href="/assets/js/page-4内核参数优化.26c11f03.js"><link rel="prefetch" href="/assets/js/page-4视图、事务、索引、函数.959f3328.js"><link rel="prefetch" href="/assets/js/page-51引用变量.a2f8c175.js"><link rel="prefetch" href="/assets/js/page-51自定义变量.1640e433.js"><link rel="prefetch" href="/assets/js/page-52Fact变量.de0da5b4.js"><link rel="prefetch" href="/assets/js/page-52转义.88a9bfc2.js"><link rel="prefetch" href="/assets/js/page-53魔法变量.141f56e1.js"><link rel="prefetch" href="/assets/js/page-54使用lookup生成变量.4a74c63d.js"><link rel="prefetch" href="/assets/js/page-55使用vault配置加密.bdf979e1.js"><link rel="prefetch" href="/assets/js/page-5Ansible变量.10a6693a.js"><link rel="prefetch" href="/assets/js/page-5MySQL存储引擎.eeb9de6d.js"><link rel="prefetch" href="/assets/js/page-5Redis监控模块.6d58b06b.js"><link rel="prefetch" href="/assets/js/page-5状态码.48f107a4.js"><link rel="prefetch" href="/assets/js/page-61Nginx出现403forbidden的三种原因.4e2c5b34.js"><link rel="prefetch" href="/assets/js/page-6Ansible使用优化.82e00f71.js"><link rel="prefetch" href="/assets/js/page-6nginx的常见问题.0bea2066.js"><link rel="prefetch" href="/assets/js/page-6常见问题.f6adf586.js"><link rel="prefetch" href="/assets/js/page-6用户权限和访问控制.f9ffe7fe.js"><link rel="prefetch" href="/assets/js/page-71测试结构.0593ad83.js"><link rel="prefetch" href="/assets/js/page-72文件测试操作.6bf3891d.js"><link rel="prefetch" href="/assets/js/page-73其他比较操作.77cf4f3b.js"><link rel="prefetch" href="/assets/js/page-74嵌套ifthen条件测试.36cf35ca.js"><link rel="prefetch" href="/assets/js/page-75牛刀小试.f017d9f9.js"><link rel="prefetch" href="/assets/js/page-7备份恢复.6f073eb0.js"><link rel="prefetch" href="/assets/js/page-7常见问题.a258b5a3.js"><link rel="prefetch" href="/assets/js/page-7用zabbixapi批量添加web监控.cabb5b37.js"><link rel="prefetch" href="/assets/js/page-81运算符.dc8b685b.js"><link rel="prefetch" href="/assets/js/page-82数字常量.21f8580f.js"><link rel="prefetch" href="/assets/js/page-8AB复制.199a8c16.js"><link rel="prefetch" href="/assets/js/page-8activemq监控.48d7825c.js"><link rel="prefetch" href="/assets/js/page-91内部变量.dec5fa6d.js"><link rel="prefetch" href="/assets/js/page-921declare的另类用法.44360d76.js"><link rel="prefetch" href="/assets/js/page-92变量类型标注：declare与typeset.436124a6.js"><link rel="prefetch" href="/assets/js/page-93$RANDOM：生成随机数.aea47b8a.js"><link rel="prefetch" href="/assets/js/page-9zookeeper集群监控.af3bc3fc.js"><link rel="prefetch" href="/assets/js/page-9主主和keepalived.b9f35f2c.js"><link rel="prefetch" href="/assets/js/page-Ansible学习笔记.a1d4bcd4.js"><link rel="prefetch" href="/assets/js/page-Centos76下Elasticseatch72集群搭建步骤.7723395f.js"><link rel="prefetch" href="/assets/js/page-Centos7搭建openldap.2faa5238.js"><link rel="prefetch" href="/assets/js/page-Commitmessage和Changelog编写指南.79771cad.js"><link rel="prefetch" href="/assets/js/page-DEVSITUATPETSIMPRDPROD常见环境英文缩写含义.39f963c1.js"><link rel="prefetch" href="/assets/js/page-ELK.2cc353f1.js"><link rel="prefetch" href="/assets/js/page-ElasticStack家族成员及其应用场景.52c863f9.js"><link rel="prefetch" href="/assets/js/page-Elasticsearch分词.6bb429c7.js"><link rel="prefetch" href="/assets/js/page-Elasticsearch基础概念.cc6a78e6.js"><link rel="prefetch" href="/assets/js/page-Elasticsearch的安装和简单配置.8a462e60.js"><link rel="prefetch" href="/assets/js/page-Elasticsearch简介及其发展历史.8b6fb3b7.js"><link rel="prefetch" href="/assets/js/page-Harbor搭建.2ebad857.js"><link rel="prefetch" href="/assets/js/page-Harbor高可用搭建.3514a1a7.js"><link rel="prefetch" href="/assets/js/page-JenkinsJob迁移.b5a980f3.js"><link rel="prefetch" href="/assets/js/page-Jenkins关闭和重启的实现方式.8b8d095f.js"><link rel="prefetch" href="/assets/js/page-Kibana的安装和界面快速浏览.18770c94.js"><link rel="prefetch" href="/assets/js/page-Linux下配置jdk的环境变量.8ba10f0b.js"><link rel="prefetch" href="/assets/js/page-Linux，du、df统计的硬盘使用情况不一致问题.e36f7ce9.js"><link rel="prefetch" href="/assets/js/page-Nginx升级加固SSLTLS协议信息泄露漏洞(CVE-2016-2183)和HTTP服务器的缺省banner漏洞.dd4892b6.js"><link rel="prefetch" href="/assets/js/page-PrometheusAlert.3e69ca4f.js"><link rel="prefetch" href="/assets/js/page-Python学习笔记.67a24d15.js"><link rel="prefetch" href="/assets/js/page-Redis-集群.6e6b766d.js"><link rel="prefetch" href="/assets/js/page-RequestBody和QueryDSL简介.fa21f7a7.js"><link rel="prefetch" href="/assets/js/page-SearchAPI概览.377f4f7d.js"><link rel="prefetch" href="/assets/js/page-Summary.0595d0e8.js"><link rel="prefetch" href="/assets/js/page-Tomcat错误代号及状态码.9e8d7e9a.js"><link rel="prefetch" href="/assets/js/page-URISearch详解.d0706128.js"><link rel="prefetch" href="/assets/js/page-activemq5159集群搭建步骤.afe42f7c.js"><link rel="prefetch" href="/assets/js/page-centos65下安装python36、pip、ipython.f63781d1.js"><link rel="prefetch" href="/assets/js/page-centos7下搭建shadowsocks.b1eb169b.js"><link rel="prefetch" href="/assets/js/page-centos7下时区问题.1fc08170.js"><link rel="prefetch" href="/assets/js/page-centos7安装rabbitmq-379.c3cc5489.js"><link rel="prefetch" href="/assets/js/page-centos7安装redis-500主从.712547d4.js"><link rel="prefetch" href="/assets/js/page-centos7安装升级ruby.c62fcc10.js"><link rel="prefetch" href="/assets/js/page-curl方式执行shell脚本时如何传参.15b032b7.js"><link rel="prefetch" href="/assets/js/page-docker安装rabbitmq集群.6604d56e.js"><link rel="prefetch" href="/assets/js/page-docker搭建redis集群.73b3ffb0.js"><link rel="prefetch" href="/assets/js/page-echo命令.b93addff.js"><link rel="prefetch" href="/assets/js/page-elk借助安装ansible.d1470fa7.js"><link rel="prefetch" href="/assets/js/page-etcsecuritylimitsconf详解与配置.7ca9f9b9.js"><link rel="prefetch" href="/assets/js/page-filebeat的安装注意.6dc5260e.js"><link rel="prefetch" href="/assets/js/page-gitlab备份迁移升级集成openldap.e13899a2.js"><link rel="prefetch" href="/assets/js/page-git的基本使用.ee7a0a57.js"><link rel="prefetch" href="/assets/js/page-hash类型.96404499.js"><link rel="prefetch" href="/assets/js/page-hexo(next)+github博客的搭建.ff0094f1.js"><link rel="prefetch" href="/assets/js/page-jenkins常见问题.1bbcf89f.js"><link rel="prefetch" href="/assets/js/page-jenkins的安装配置.3d851770.js"><link rel="prefetch" href="/assets/js/page-kafka212集群搭建步骤.deda29e8.js"><link rel="prefetch" href="/assets/js/page-keepalived详解.719ba273.js"><link rel="prefetch" href="/assets/js/page-linux下如何增加swap交换分区.bda2c560.js"><link rel="prefetch" href="/assets/js/page-linux简介.5ccfcbe7.js"><link rel="prefetch" href="/assets/js/page-list类型.9f67544a.js"><link rel="prefetch" href="/assets/js/page-logstash安装注意.911c9048.js"><link rel="prefetch" href="/assets/js/page-mysql最大连接数的改变.13cb4d6c.js"><link rel="prefetch" href="/assets/js/page-phpldapadmin操作指导.d600b102.js"><link rel="prefetch" href="/assets/js/page-pipeline配置java项目.e04a7225.js"><link rel="prefetch" href="/assets/js/page-python实际工作中的实例.9afd9f47.js"><link rel="prefetch" href="/assets/js/page-redis-dump方式导入导出数据.bf307228.js"><link rel="prefetch" href="/assets/js/page-redis504集群搭建.008fc715.js"><link rel="prefetch" href="/assets/js/page-redis面试题.537d618f.js"><link rel="prefetch" href="/assets/js/page-rocketmq集群的搭建.160b0e11.js"><link rel="prefetch" href="/assets/js/page-sed命令详解.26c18347.js"><link rel="prefetch" href="/assets/js/page-set类型.7372c05c.js"><link rel="prefetch" href="/assets/js/page-string类型.e23e4735.js"><link rel="prefetch" href="/assets/js/page-tomcat假死现象.423b6a53.js"><link rel="prefetch" href="/assets/js/page-tomcat注意事项.4bff7172.js"><link rel="prefetch" href="/assets/js/page-tomcat简介.ef8b5440.js"><link rel="prefetch" href="/assets/js/page-zookeeper3414集群搭建步骤.9a3b3fa2.js"><link rel="prefetch" href="/assets/js/page-zset类型.6ad5299e.js"><link rel="prefetch" href="/assets/js/page-《AdvancedBash-ScriptingGuide》inChinese.1aaaf35b.js"><link rel="prefetch" href="/assets/js/page-中文技术文档的写作规范.df757d2d.js"><link rel="prefetch" href="/assets/js/page-使用JenkinsPipeline自动化构建发布.3e57ef72.js"><link rel="prefetch" href="/assets/js/page-使用Jenkins扩展共享库进行钉钉消息推送.794d0901.js"><link rel="prefetch" href="/assets/js/page-使用docker安装jenkins.643edaa5.js"><link rel="prefetch" href="/assets/js/page-使用方法.b9e57fe3.js"><link rel="prefetch" href="/assets/js/page-倒排索引入门.ff1cbc21.js"><link rel="prefetch" href="/assets/js/page-写作前.3402f9b9.js"><link rel="prefetch" href="/assets/js/page-分布式FastDfs+nginx缓存高可用集群构建.c948cfbb.js"><link rel="prefetch" href="/assets/js/page-创建、复制、移动、删除.0367fd0a.js"><link rel="prefetch" href="/assets/js/page-博客主页.e3bbccc5.js"><link rel="prefetch" href="/assets/js/page-双圆括号结构.e4eaefab.js"><link rel="prefetch" href="/assets/js/page-命名.34cecfe6.js"><link rel="prefetch" href="/assets/js/page-在Docker容器中运行Elasticsearch，Kibana和Cerebro.707d7d10.js"><link rel="prefetch" href="/assets/js/page-基于docker搭建confluence.c809bb03.js"><link rel="prefetch" href="/assets/js/page-基本权限UGO.de13b225.js"><link rel="prefetch" href="/assets/js/page-基本概念.d5536ce8.js"><link rel="prefetch" href="/assets/js/page-安装python解释器，配置好path变量。.b2f9dbd8.js"><link rel="prefetch" href="/assets/js/page-容器部署ELK710.330a5fe9.js"><link rel="prefetch" href="/assets/js/page-常用知识.4f68e6e1.js"><link rel="prefetch" href="/assets/js/page-开机集成zabbix和jumpserver脚本.86cec182.js"><link rel="prefetch" href="/assets/js/page-打包、压缩.87ae976a.js"><link rel="prefetch" href="/assets/js/page-数据类型.b45e8695.js"><link rel="prefetch" href="/assets/js/page-文档的基本操作CRUP与批量操作.515ca107.js"><link rel="prefetch" href="/assets/js/page-日志logrotate.55735148.js"><link rel="prefetch" href="/assets/js/page-显示当前正在编辑的文件名.bbe8d004.js"><link rel="prefetch" href="/assets/js/page-服务器端和客户端命令.a6c4f182.js"><link rel="prefetch" href="/assets/js/page-查看哪些表被锁住了.0df41151.js"><link rel="prefetch" href="/assets/js/page-查看文件内容.b9ff2857.js"><link rel="prefetch" href="/assets/js/page-查看文件类型.885aea26.js"><link rel="prefetch" href="/assets/js/page-查看文件详细属性.fca44441.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（21）-find之xargs.b4b9e0ee.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（29）-chown.520e5cb5.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（33）-du.9c0a3f82.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（35）-diff.420769d4.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（36）-date.f076eb05.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（42）-killall.a499059b.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（45）-vmstat.955de318.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（46）-iostat.0a9fcfb3.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（49）-lsof.df53111e.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（52）-ping.892b25d8.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（53）-traceroute.9e233e57.js"><link rel="prefetch" href="/assets/js/page-生产环境中的tomcat配置.88cf6edb.js"><link rel="prefetch" href="/assets/js/page-用户管理.c0a00b92.js"><link rel="prefetch" href="/assets/js/page-白天做运维，晚上搞副业赚钱.78f84ec3.js"><link rel="prefetch" href="/assets/js/page-第34章陷阱.769525db.js"><link rel="prefetch" href="/assets/js/page-第36章杂项.82d29537.js"><link rel="prefetch" href="/assets/js/page-第一章为什么使用shell编程.e1dd05bb.js"><link rel="prefetch" href="/assets/js/page-第一部分初见Shell.09ebc0af.js"><link rel="prefetch" href="/assets/js/page-第七章测试.03b6ddbc.js"><link rel="prefetch" href="/assets/js/page-第三部分shell进阶.5ab41c6a.js"><link rel="prefetch" href="/assets/js/page-第九章换个角度看变量.69ffa2ab.js"><link rel="prefetch" href="/assets/js/page-第二十一章子shell.d93becfc.js"><link rel="prefetch" href="/assets/js/page-第二十三章进程替换.463a29c8.js"><link rel="prefetch" href="/assets/js/page-第二十二章限制模式的Shell.32f4260c.js"><link rel="prefetch" href="/assets/js/page-第二十六章列表结构.83bb70e0.js"><link rel="prefetch" href="/assets/js/page-第二章和Sha-Bang（!）一起出发.c2fad3a1.js"><link rel="prefetch" href="/assets/js/page-第二部分shell基础.b32253b2.js"><link rel="prefetch" href="/assets/js/page-第五章引用.2e2b4f54.js"><link rel="prefetch" href="/assets/js/page-第五部分高级话题.2aa4806b.js"><link rel="prefetch" href="/assets/js/page-第八章运算符相关话题.9663fc7b.js"><link rel="prefetch" href="/assets/js/page-第六章退出与退出状态.fd2bf060.js"><link rel="prefetch" href="/assets/js/page-第六部分GoogleShell风格指南.8900c80e.js"><link rel="prefetch" href="/assets/js/page-第十一章循环与分支.67203a84.js"><link rel="prefetch" href="/assets/js/page-第十三章算术扩展.8e69388f.js"><link rel="prefetch" href="/assets/js/page-第十二章命令替换.2ee7c04c.js"><link rel="prefetch" href="/assets/js/page-第十章变量处理.381d4cfa.js"><link rel="prefetch" href="/assets/js/page-第四章变量与参数.b059b80d.js"><link rel="prefetch" href="/assets/js/page-第四部分命令.1529a536.js"><link rel="prefetch" href="/assets/js/page-管道及IO重定向.56ac928d.js"><link rel="prefetch" href="/assets/js/page-编程语言的分类.9c13d1d1.js"><link rel="prefetch" href="/assets/js/page-网络管理.577991dc.js"><link rel="prefetch" href="/assets/js/page-聊透监控体系.3443178c.js"><link rel="prefetch" href="/assets/js/page-计划任务.3f400501.js"><link rel="prefetch" href="/assets/js/page-证书相关问题.2eacd1de.js"><link rel="prefetch" href="/assets/js/page-调优的目的：.55a674bb.js"><link rel="prefetch" href="/assets/js/page-软件包管理.2b1afe38.js"><link rel="prefetch" href="/assets/js/page-运算符优先级.7361b92a.js"><link rel="prefetch" href="/assets/js/page-进程管理.df234142.js"><link rel="prefetch" href="/assets/js/page-通过分析器进行分词.286126c3.js"><link rel="prefetch" href="/assets/js/page-键命令.1250b646.js"><link rel="prefetch" href="/assets/js/page-附录FIO与IO重定向详细介绍.6362820c.js"><link rel="prefetch" href="/assets/js/page-附录TASCII表.6f5f46b5.js"><link rel="prefetch" href="/assets/js/page-高可用开源方案KeepalivedVSHeartbeat对比.390b7100.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.145ac933.js"><link rel="prefetch" href="/assets/js/vendors~mermaid.fc101fcc.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.7667d1db.js"><link rel="prefetch" href="/assets/js/vendors~reveal.49facf35.js"><link rel="prefetch" href="/assets/js/vendors~valine.c7b02dc4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9d571f1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><button class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/lufei.jpg" alt="IT外卖小哥" class="logo"> <!----> <span class="site-name can-hide">IT外卖小哥</span></a> <div class="links"><button class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">主题色:</label> <li><a href="#" class="default-theme"></a></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">主题模式:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  博客主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title"><i class="iconfont icon-code"></i>
        编程语言
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/code/shell/" class="nav-link router-link-active active"><i class="iconfont icon-shell"></i>
  Shell
</a></li><li class="dropdown-item"><a href="/code/python/" class="nav-link"><i class="iconfont icon-python"></i>
  Python
</a></li><li class="dropdown-item"><a href="/code/golang/" class="nav-link"><i class="iconfont icon-golang"></i>
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="云原生" class="dropdown-title"><span class="title"><!---->
        云原生
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/cloudnative/docker/" class="nav-link"><i class="iconfont icon-docker"></i>
  Docker
</a></li><li class="dropdown-item"><a href="/cloudnative/kubernetes/" class="nav-link"><i class="iconfont icon-kubernetes"></i>
  Kubernetes
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="监控工具" class="dropdown-title"><span class="title"><!---->
        监控工具
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/monitor/zabbix/" class="nav-link"><i class="iconfont icon-zabbix"></i>
  Zabbix
</a></li><li class="dropdown-item"><a href="/monitor/elk/" class="nav-link"><i class="iconfont icon-elastic"></i>
  ELK
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="自动化工具" class="dropdown-title"><span class="title"><!---->
        自动化工具
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/automate/ansible/" class="nav-link"><i class="iconfont icon-ansible"></i>
  Ansible
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web中间件" class="dropdown-title"><span class="title"><!---->
        web中间件
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/web/nginx/" class="nav-link"><i class="iconfont icon-nginx"></i>
  Nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title"><!---->
        数据库
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/db/mysql/" class="nav-link"><i class="iconfont icon-mysql"></i>
  MySQL
</a></li><li class="dropdown-item"><a href="/db/redis/" class="nav-link"><i class="iconfont icon-redis"></i>
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title"><!---->
        Linux
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/linux/basic/" class="nav-link"><i class="iconfont icon-linux"></i>
  Linux
</a></li></ul></div></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/clay-wangzhi/wiki" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="/lufei.jpg" class="avatar round"> <div property="name" class="name">Clay</div> <meta property="url" content="/intro/"></div> <div class="num-wrapper"><div><div class="num">275</div> <div>文章</div></div> <div><div class="num">8</div> <div>分类</div></div> <div><div class="num">29</div> <div>标签</div></div> <div><div class="num">275</div> <div>时间轴</div></div></div> <div class="media-links-wrapper"><a href="mailto:clay_wangzhi@163.com" rel="noopener noreferrer" target="_blank" aria-label="Email" data-balloon-pos="up" class="media-link"><span class="sr-only">Email</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-email"><path d="M0 512a512 512 0 101024 0A512 512 0 100 512z" fill="#1384FF"></path> <path d="M299.372 313.572H722.93c28.945 0 52.61 21.845 52.975 48.787L511.333 500.35 246.76 362.481c.182-27.003 23.666-48.97 52.611-48.97zm-52.671 101.702l-.243 244.121c0 27.186 23.848 49.395 52.914 49.395H722.93c29.127 0 52.975-22.21 52.975-49.395V415.152L517.522 546.71a13.957 13.957 0 01-12.682 0L246.7 415.274z" fill="#FFF"></path></svg></a></div></div> <hr>  <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  博客主页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title"><i class="iconfont icon-code"></i>
      编程语言
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/shell/" class="nav-link router-link-active active"><i class="iconfont icon-shell"></i>
  Shell
</a></li><li class="dropdown-item"><!----> <a href="/code/python/" class="nav-link"><i class="iconfont icon-python"></i>
  Python
</a></li><li class="dropdown-item"><!----> <a href="/code/golang/" class="nav-link"><i class="iconfont icon-golang"></i>
  Golang
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="云原生" class="dropdown-title"><span class="title"><!---->
      云原生
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cloudnative/docker/" class="nav-link"><i class="iconfont icon-docker"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/cloudnative/kubernetes/" class="nav-link"><i class="iconfont icon-kubernetes"></i>
  Kubernetes
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="监控工具" class="dropdown-title"><span class="title"><!---->
      监控工具
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/monitor/zabbix/" class="nav-link"><i class="iconfont icon-zabbix"></i>
  Zabbix
</a></li><li class="dropdown-item"><!----> <a href="/monitor/elk/" class="nav-link"><i class="iconfont icon-elastic"></i>
  ELK
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="自动化工具" class="dropdown-title"><span class="title"><!---->
      自动化工具
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/automate/ansible/" class="nav-link"><i class="iconfont icon-ansible"></i>
  Ansible
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="web中间件" class="dropdown-title"><span class="title"><!---->
      web中间件
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/nginx/" class="nav-link"><i class="iconfont icon-nginx"></i>
  Nginx
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title"><!---->
      数据库
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db/mysql/" class="nav-link"><i class="iconfont icon-mysql"></i>
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/db/redis/" class="nav-link"><i class="iconfont icon-redis"></i>
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title"><!---->
      Linux
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux/basic/" class="nav-link"><i class="iconfont icon-linux"></i>
  Linux
</a></li></ul></div></div> <a rel="noopener noreferrer" href="https://github.com/clay-wangzhi/wiki" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/code/shell/" aria-current="page" class="sidebar-link">《Advanced Bash-Scripting Guide》 in Chinese</a></li><li><section class="sidebar-group depth-0"><a href="/code/shell/part1/" class="sidebar-heading clickable"><!----> <span class="title">第一部分 初见shell</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part1/01_shell_programming/" class="sidebar-link">第一章 为什么使用shell编程</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part1/02_starting_off_with_a_sha_bang" class="sidebar-heading clickable"><!----> <span class="title">第二章 和Sha-Bang（#!）一起出发</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part1/02_1_invoking_the_script/" class="sidebar-link">2.1 调用一个脚本</a></li><li><a href="/code/shell/part1/02_2_preliminary_exercises/" class="sidebar-link">2.2 牛刀小试</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/code/shell/part2/" class="sidebar-heading clickable router-link-active open"><!----> <span class="title">第二部分 shell基础</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part2/03_special_characters/" aria-current="page" class="active sidebar-link">第三章 特殊字符</a><ul class="sidebar-sub-headers"></ul></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part2/04_introduction_to_variables_and_parameters" class="sidebar-heading clickable"><!----> <span class="title">第四章 变量与参数</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part2/04_1_variable_substitution/" class="sidebar-link">4.1 变量替换</a></li><li><a href="/code/shell/part2/04_2_variable_assignment/" class="sidebar-link">4.2 变量赋值</a></li><li><a href="/code/shell/part2/04_3_bash_variables_are_untyped/" class="sidebar-link">4.3 Bash变量是弱类型的</a></li><li><a href="/code/shell/part2/04_4_special_variable_types/" class="sidebar-link">4.4 特殊的变量类型</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part2/05_quoting" class="sidebar-heading clickable"><!----> <span class="title">第五章 引用</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part2/05_1_quoting_variables/" class="sidebar-link">5.1 引用变量</a></li><li><a href="/code/shell/part2/05_2_escaping/" class="sidebar-link">5.2 转义</a></li></ul></section></li><li><a href="/code/shell/part2/06_exit_and_exit_status/" class="sidebar-link">第六章 退出与退出状态</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part2/07_tests" class="sidebar-heading clickable"><!----> <span class="title">第七章 测试</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part2/07_1_test_constructs/" class="sidebar-link">7.1 测试结构</a></li><li><a href="/code/shell/part2/07_2_file_test_operators/" class="sidebar-link">7.2 文件测试操作</a></li><li><a href="/code/shell/part2/07_3_other_comparison_operators/" class="sidebar-link">7.3 其他比较操作</a></li><li><a href="/code/shell/part2/07_4_nested_if_then_condition_tests/" class="sidebar-link">7.4 嵌套 if/then 条件测试</a></li><li><a href="/code/shell/part2/07_5_testing_your_knowledge_of_tests/" class="sidebar-link">7.5 牛刀小试</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part2/08_operations_and_related_topics" class="sidebar-heading clickable"><!----> <span class="title">第八章 运算符相关话题</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part2/08_1_operators/" class="sidebar-link">8.1. 运算符</a></li><li><a href="/code/shell/part2/08_2_numerical_constants/" class="sidebar-link">8.2. 数字常量</a></li><li><a href="/code/shell/part2/08_3_the_double_parentheses_construct/" class="sidebar-link">双圆括号结构</a></li><li><a href="/code/shell/part2/08_4_operator_precedence/" class="sidebar-link">运算符优先级</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/code/shell/part3/" class="sidebar-heading clickable"><!----> <span class="title">第三部分 shell进阶</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part3/09_another_look_at_variables" class="sidebar-heading clickable open"><!----> <span class="title">第九章 换个角度看变量</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part3/09_1_internal_variables/" class="sidebar-link">9.1 内部变量</a></li><li><a href="/code/shell/part3/09_2_typing_variables_declare_or_typeset/" class="sidebar-link">9.2 变量类型标注：declare 与 typeset</a></li><li><a href="/code/shell/part3/09_2_1_another_use_for_declare/" class="sidebar-link">9.2.1 declare 的另类用法</a></li><li><a href="/code/shell/part3/09_3_random_generate_random_integer/" class="sidebar-link">9.3 $RANDOM：生成随机数</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part3/10_manipulating_variables" class="sidebar-heading clickable"><!----> <span class="title">第十章 变量处理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part3/10_1_manipulating_strings/" class="sidebar-link">10.1 字符串处理</a></li><li><a href="/code/shell/part3/10_1_1_manipulating_strings_using_awk/" class="sidebar-link">10.1.1 使用 awk 处理字符串</a></li><li><a href="/code/shell/part3/10_1_2_further_reference/" class="sidebar-link">10.1.2 参考资料</a></li><li><a href="/code/shell/part3/10_2_parameter_substitution/" class="sidebar-link">10.2 参数替换</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part3/11_loops_and_branches" class="sidebar-heading clickable"><!----> <span class="title">第十一章 循环与分支</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part3/11_1_loops/" class="sidebar-link">11.1 循环</a></li><li><a href="/code/shell/part3/11_2_nested_loops/" class="sidebar-link">11.2 嵌套循环</a></li><li><a href="/code/shell/part3/11_3_loop_control/" class="sidebar-link">11.3 循环控制</a></li><li><a href="/code/shell/part3/11_4_testing_and_branching/" class="sidebar-link">11.4 测试与分支</a></li></ul></section></li><li><a href="/code/shell/part3/12_command_substitution/" class="sidebar-link">第十二章 命令替换</a></li><li><a href="/code/shell/part3/13_arithmetic_expansion/" class="sidebar-link">第十三章 算术扩展</a></li></ul></section></li><li><a href="/code/shell/part4-command/" class="sidebar-link">第四部分 命令</a></li><li><section class="sidebar-group depth-0"><a href="/code/shell/part5/" class="sidebar-heading clickable"><!----> <span class="title">第五部分 高级话题</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part5/18_regular_expressions" class="sidebar-heading clickable open"><!----> <span class="title">18 正则表达式</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part5/18_1_a_brief_introduction_to_regular_expressions/" class="sidebar-link">18.1 正则表达式简介</a></li><li><a href="/code/shell/part5/18_2_globbing/" class="sidebar-link">18.2文件名替换</a></li><li><a href="/code/shell/part5/18_3_regular_expression_comparison_table/" class="sidebar-link">18.3 正则表达式对照表</a></li></ul></section></li><li><a href="/code/shell/part5/19_here_documents/" class="sidebar-link">19 嵌入文档</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part5/20_io_redirection" class="sidebar-heading clickable"><!----> <span class="title">20 I/O 重定向</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part5/20_1_use_exec/" class="sidebar-link">20.1 使用 exec</a></li><li><a href="/code/shell/part5/20_2_redirecting_code_blocks/" class="sidebar-link">20.2 重定向代码块</a></li><li><a href="/code/shell/part5/20_3_applications/" class="sidebar-link">20.3 应用程序</a></li></ul></section></li><li><a href="/code/shell/part5/21_subshells/" class="sidebar-link">第二十一章 子shell</a></li><li><a href="/code/shell/part5/22_Restricted_Shells/" class="sidebar-link">第二十二章. 限制模式的Shell</a></li><li><a href="/code/shell/part5/23_Process_Substitution/" class="sidebar-link">第二十三章. 进程替换</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/code/shell/part5/24_functions" class="sidebar-heading clickable"><!----> <span class="title">24 函数</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/shell/part5/24_1_complex_functions_and_function_complexities/" class="sidebar-link">24.1 复杂函数和函数复杂性</a></li><li><a href="/code/shell/part5/24_2_local_variables/" class="sidebar-link">24.2 局部变量</a></li><li><a href="/code/shell/part5/24_3_recursion_without_local_variables/" class="sidebar-link">24.3 不使用局部变量的递归</a></li></ul></section></li><li><a href="/code/shell/part5/25_aliases/" class="sidebar-link">25. 别名</a></li><li><a href="/code/shell/part5/26_List_Constructs/" class="sidebar-link">第二十六章. 列表结构</a></li><li><a href="/code/shell/part5/27_arrays/" class="sidebar-link">27 数组</a></li><li><a href="/code/shell/part5/30_network_programming/" class="sidebar-link">30 网络编程</a></li><li><a href="/code/shell/part5/33_options/" class="sidebar-link">33 选项</a></li><li><a href="/code/shell/part5/34_Gotchas/" class="sidebar-link">第34章 陷阱</a></li><li><a href="/code/shell/part5/36_miscellany/" class="sidebar-link">第36章 杂项</a></li><li><a href="/code/shell/part5/36_5_colorizing_scripts/" class="sidebar-link">echo命令</a></li></ul></section></li><li><a href="/code/shell/part6/" class="sidebar-link">第六部分 Google Shell 风格指南</a></li></ul> </aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/code/shell/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">《Advanced Bash-Scripting Guide》 in Chinese</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a href="/code/shell/part2/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">第二部分 shell基础</span></a> <meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/code/shell/part2/03_special_characters/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">第三章 特殊字符</span></a> <meta property="position" content="3"></li></ol></nav>  <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">第三章 特殊字符</span></h1> <div class="page-info"><!----> <span aria-label="写作日期📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-5-11</span></span><span aria-label="作者🖊" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">LinuxStory</span></span><span aria-label="访问量🔢" data-balloon-pos="down" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/code/shell/part2/03_special_characters/" data-flag-title="第三章 特殊字符" class="leancloud_visitors"><span class="leancloud-visitors-count">...</span></span></span><span aria-label="阅读时间⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>大约 30 分钟</span> <meta property="timeRequired" content="PT30M"></span><span aria-label="字数🔠" data-balloon-pos="down" class="words-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon word-icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 0 1 603.43 1.097a512 512 0 0 1 419.474 419.474 73.143 73.143 0 0 1-72.046 85.212H591.36a73.143 73.143 0 0 1-73.143-73.143z" fill="currentColor"></path> <path d="M493.714 566.857h340.297a73.143 73.143 0 0 1 73.143 85.577A457.143 457.143 0 1 1 371.566 117.76a73.143 73.143 0 0 1 85.577 73.143v339.383a36.571 36.571 0 0 0 36.571 36.571z" fill="currentColor"></path></svg> <span>约 8922 字</span> <meta property="wordCount" content="8922"></span><span role="navigation" aria-label="分类🌈" data-balloon-pos="down" class="category-info enable"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon category-icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zm-.854 446.486H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zm446.371-446.486h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zm136.293 813.51H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z" fill="currentColor"></path></svg> <span property="articleSection">Linux</span></span><span aria-label="标签🏷" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon tag-icon"><path d="M939.902 458.563 910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 0 0 0 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z" fill="currentColor"></path></svg> <ul class="tags-wrapper"><li class="tag clickable tag0"><span role="navigation">Bash</span></li> <meta property="keywords" content="Bash"></ul></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/code/shell/part2/03_special_characters/#" class="anchor-link heading3"><div>\#</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-2" class="anchor-link heading3"><div>;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-3" class="anchor-link heading3"><div>;;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-4" class="anchor-link heading3"><div>;;&amp;, ;&amp;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-5" class="anchor-link heading3"><div>.</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-6" class="anchor-link heading3"><div>.</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-7" class="anchor-link heading3"><div>.</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-8" class="anchor-link heading3"><div>&quot;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-9" class="anchor-link heading3"><div>'</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-10" class="anchor-link heading3"><div>,</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-11" class="anchor-link heading3"><div>,, ,</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-12" class="anchor-link heading3"><div>\</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-13" class="anchor-link heading3"><div>/</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-14" class="anchor-link heading3"><div>`</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-15" class="anchor-link heading3"><div>:</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-16" class="anchor-link heading3"><div>!</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-17" class="anchor-link heading3"><div>*</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-18" class="anchor-link heading3"><div>*</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-19" class="anchor-link heading3"><div>?</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-20" class="anchor-link heading3"><div>?</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-21" class="anchor-link heading3"><div>$</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-22" class="anchor-link heading3"><div>$</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-23" class="anchor-link heading3"><div>${}</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-24" class="anchor-link heading3"><div>$'...'</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-25" class="anchor-link heading3"><div>$*, $@</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-26" class="anchor-link heading3"><div>$?</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-27" class="anchor-link heading3"><div>$$</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-28" class="anchor-link heading3"><div>()</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#xxx-yyy-zzz" class="anchor-link heading3"><div>{xxx,yyy,zzz,...}</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#a-z" class="anchor-link heading3"><div>{a..z}</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-29" class="anchor-link heading3"><div>{}</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-30" class="anchor-link heading3"><div>{}</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-31" class="anchor-link heading3"><div>{} \;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-32" class="anchor-link heading3"><div>[ ]</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-33" class="anchor-link heading3"><div>[[ ]]</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-34" class="anchor-link heading3"><div>[ ]</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-35" class="anchor-link heading3"><div>[ ]</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-36" class="anchor-link heading3"><div>$[ ... ]</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-37" class="anchor-link heading3"><div>(( ))</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-38" class="anchor-link heading3"><div>&gt; &amp;&gt; &gt;&amp; &gt;&gt;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-39" class="anchor-link heading3"><div>&lt;&lt;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-40" class="anchor-link heading3"><div>&lt;&lt;&lt;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-41" class="anchor-link heading3"><div></div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-42" class="anchor-link heading3"><div>&lt;, \&gt;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-43" class="anchor-link heading3"><div>|</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-44" class="anchor-link heading3"><div>&gt;|</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-45" class="anchor-link heading3"><div>||</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-46" class="anchor-link heading3"><div>&amp;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-47" class="anchor-link heading3"><div>&amp;&amp;</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-48" class="anchor-link heading3"><div>-</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-49" class="anchor-link heading3"><div>--</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-50" class="anchor-link heading3"><div>-</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-51" class="anchor-link heading3"><div>-</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-52" class="anchor-link heading3"><div>-</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-53" class="anchor-link heading3"><div>=</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-54" class="anchor-link heading3"><div>+</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-55" class="anchor-link heading3"><div>+</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-56" class="anchor-link heading3"><div>%</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-57" class="anchor-link heading3"><div>~</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-58" class="anchor-link heading3"><div>~+</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-59" class="anchor-link heading3"><div>~-</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-60" class="anchor-link heading3"><div>=~</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-61" class="anchor-link heading3"><div>^</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#-62" class="anchor-link heading3"><div>^, ^^</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#控制字符" class="anchor-link heading3"><div>控制字符</div></a></li><li class="anchor"><a href="/code/shell/part2/03_special_characters/#空白符" class="anchor-link heading3"><div>空白符</div></a></li></ul></div></aside></div> <div class="theme-default-content content__default"><h1 id="第三章-特殊字符"><a href="#第三章-特殊字符" class="header-anchor">#</a> 第三章 特殊字符</h1> <p>是什么让一个字符变得<em>特殊</em>呢？如果一个字符不仅具有<em>字面</em>意义，而且具有<em>元意（meta-meaning）</em>，我们就称它为特殊字符。特殊字符同命令和关键词（keywords）一样，是bash脚本的组成部分。</p> <p>你在脚本或其他地方都能够找到特殊字符。</p> <h3 id=""><a href="#" class="header-anchor">#</a> #</h3> <p>注释符。如果一行脚本的开头是#（除了#!），那么代表这一行是注释，不会被执行。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 这是一行注释</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注释也可能会在一行命令结束之后出现。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;A comment will follow.&quot;</span> <span class="token comment"># 这儿可以写注释</span>
<span class="token comment">#                            ^ 注意在#之前有空格</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注释也可以出现在一行开头的空白符（whitespace）之后。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>	<span class="token comment"># 这个注释前面存在着一个制表符（tab）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注释甚至可以嵌入到管道命令（pipe）之中。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">initial</span><span class="token operator">=</span><span class="token punctuation">(</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> <span class="token string">&quot;<span class="token variable">$startfile</span>&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> -e <span class="token string">'/#/d'</span> <span class="token operator">|</span> <span class="token function">tr</span> -d <span class="token string">'<span class="token entity" title="\n">\n</span>'</span> <span class="token operator">|</span><span class="token punctuation">\</span>
<span class="token comment"># 删除所有带'#'注释符号的行</span>
           <span class="token function">sed</span> -e <span class="token string">'s/\./\. /g'</span> -e <span class="token string">'s/_/_ /g'</span><span class="token variable">`</span></span> <span class="token punctuation">)</span>
<span class="token comment"># 摘录自脚本 life.sh</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><img src="http://tldp.org/LDP/abs/images/caution.gif" alt="notice"> 命令不能写在同一行注释之后。因为没有任何方法可以结束注释(仅支持单行注释)，为了让新命令正常执行，另起一行写吧。</p></blockquote> <blockquote><p><img src="http://tldp.org/LDP/abs/images/note.gif" alt="extra"> 当然，在<code>echo</code>语句中被引用或被转义的#不会被认为是注释。同样，在某些参数替换式或常量表达式中的#也不会被认为是注释。</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;The # here does not begin a comment.&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">'The # here does not begin a comment.'</span>
<span class="token builtin class-name">echo</span> The <span class="token punctuation">\</span># here does not begin a comment.
<span class="token builtin class-name">echo</span> The <span class="token comment"># here begins a comment.</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token environment constant">PATH</span><span class="token operator">#</span>*<span class="token operator">:</span>}</span>       <span class="token comment"># 参数替换而非注释</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$((</span> <span class="token number">2</span>#<span class="token number">101011</span> <span class="token variable">))</span></span>  <span class="token comment"># 进制转换而非注释</span>

<span class="token comment"># 感谢S.C.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>因为引用符和转义符（&quot; ' \）转义了#。</p> <p>一些模式匹配操作同样使用了#。</p> <h3 id="-2"><a href="#-2" class="header-anchor">#</a> ;</h3> <p>命令分隔符[分号]。允许在同一行内放置两条或更多的命令。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> hello<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> there

<span class="token keyword">if</span> <span class="token punctuation">[</span> -x <span class="token string">&quot;<span class="token variable">$filename</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token comment">#  注意在分号以后有一个空格</span>
<span class="token comment">#+                   ^^</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;File <span class="token variable">$filename</span> exists.&quot;</span><span class="token punctuation">;</span> <span class="token function">cp</span> <span class="token variable">$filename</span> <span class="token variable">$filename</span>.bak
<span class="token keyword">else</span>   <span class="token comment">#                       ^^</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;File <span class="token variable">$filename</span> not found.&quot;</span><span class="token punctuation">;</span> <span class="token function">touch</span> <span class="token variable">$filename</span>
<span class="token keyword">fi</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;File test complete.&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>注意有时候&quot;;&quot;需要被转义才能正常工作。</p> <h3 id="-3"><a href="#-3" class="header-anchor">#</a> ;;</h3> <p><code>case</code>条件语句终止符[双分号]。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$variable</span>&quot;</span> <span class="token keyword">in</span>
  abc<span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$variable</span> = abc&quot;</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
  xyz<span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">&quot;\<span class="token variable">$variable</span> = xyz&quot;</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="-4"><a href="#-4" class="header-anchor">#</a> ;;&amp;, ;&amp;</h3> <p><code>case</code>条件语句终止符（Bash4+ 版本）。</p> <h3 id="-5"><a href="#-5" class="header-anchor">#</a> .</h3> <p>句点命令[句点]。等价于<code>source</code>命令（查看样例 15-22）。这是一个bash的内建命令。</p> <h3 id="-6"><a href="#-6" class="header-anchor">#</a> .</h3> <p>句点可以作为文件名的一部分。如果它在文件名开头，那说明此文件是隐藏文件。使用不带参数的<code>ls</code>命令不会显示隐藏文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ touch .hidden-file
bash$ ls -l
total 10
 -rw-r--r--    1 bozo      4034 Jul 18 22:04 data1.addressbook
 -rw-r--r--    1 bozo      4602 May 25 13:58 data1.addressbook.bak
 -rw-r--r--    1 bozo       877 Dec 17  2000 employment.addressbook
	
	
bash$ ls -al
total 14
 drwxrwxr-x    2 bozo  bozo      1024 Aug 29 20:54 ./
 drwx------   52 bozo  bozo      3072 Aug 29 20:51 ../
 -rw-r--r--    1 bozo  bozo      4034 Jul 18 22:04 data1.addressbook
 -rw-r--r--    1 bozo  bozo      4602 May 25 13:58 data1.addressbook.bak
 -rw-r--r--    1 bozo  bozo       877 Dec 17  2000 employment.addressbook
 -rw-rw-r--    1 bozo  bozo         0 Aug 29 20:54 .hidden-file
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>当句点出现在目录中时，单个句点代表当前工作目录，两个句点代表上级目录。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ pwd
/home/bozo/projects

bash$ cd .
bash$ pwd
/home/bozo/projects

bash$ cd ..
bash$ pwd
/home/bozo/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>句点通常代表文件移动的目的地（目录），下式代表的是当前目录。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ cp /home/bozo/current_work/junk/* .
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>复制所有的“垃圾文件”到<code>当前目录</code></p></blockquote> <h3 id="-7"><a href="#-7" class="header-anchor">#</a> .</h3> <p>句点匹配符。在<em>正则表达式</em>中，点号意味着匹配任意单个字符。</p> <h3 id="-8"><a href="#-8" class="header-anchor">#</a> &quot;</h3> <p>部分引用[双引号]。在字符串中保留大部分特殊字符。详细内容将在<a href="/code/shell/part2/05_quoting.html">第五章</a>介绍。</p> <h3 id="-9"><a href="#-9" class="header-anchor">#</a> '</h3> <p>全引用[单引号]。在字符串中保留所有的特殊字符。是部分引用的强化版。详细内容将在<a href="/code/shell/part2/05_quoting.html">第五章</a>介绍。</p> <h3 id="-10"><a href="#-10" class="header-anchor">#</a> ,</h3> <p>逗号运算符。逗号运算符<sup class="footnote-ref"><a href="#footnote1">[1]</a><a id="footnote-ref1" class="footnote-anchor"></a></sup>将一系列的算术表达式串联在一起。算术表达式依次被执行，但只返回最后一个表达式的值。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">let</span> <span class="token string">&quot;t2 = <span class="token variable"><span class="token punctuation">((</span>a <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">15</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">))</span></span>&quot;</span>
<span class="token comment"># a被赋值为9，t2被赋值为15 / 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>逗号运算符也可以用来连接字符串。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> /<span class="token punctuation">{</span>,usr/<span class="token punctuation">}</span>bin/*calc
<span class="token comment">#             ^    在 /bin 与 /usr/bin 目录中</span>
<span class="token comment">#+                 找到所有的以&quot;calc&quot;结尾的可执行文件</span>
<span class="token keyword">do</span>
        <span class="token keyword">if</span> <span class="token punctuation">[</span> -x <span class="token string">&quot;<span class="token variable">$file</span>&quot;</span> <span class="token punctuation">]</span>
        <span class="token keyword">then</span>
          <span class="token builtin class-name">echo</span> <span class="token variable">$file</span>
        <span class="token keyword">fi</span>
<span class="token keyword">done</span>

<span class="token comment"># /bin/ipcalc</span>
<span class="token comment"># /usr/bin/kcalc</span>
<span class="token comment"># /usr/bin/oidcalc</span>
<span class="token comment"># /usr/bin/oocalc</span>

<span class="token comment"># 感谢Rory Winston提供的执行结果</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="-11"><a href="#-11" class="header-anchor">#</a> ,, ,</h3> <p>在参数替换中进行小写字母转换（Bash4 新增）。</p> <h3 id="-12"><a href="#-12" class="header-anchor">#</a> \</h3> <p>转义符[反斜杠]。转义某字符的标志。</p> <p><code>\x</code>转义了字符x。双引号&quot;&quot;内的X与单引号内的X具有同样的效果。
转义符也可以用来转义&quot;与'，使它们表达其字面含义。</p> <p>第五章将更加深入的解释转义字符。</p> <h3 id="-13"><a href="#-13" class="header-anchor">#</a> /</h3> <p>文件路径分隔符[正斜杠]。起分割路径的作用。（比如 <code>/home/bozo/projects/Makefile</code>）</p> <p>它也在算术运算中充当除法运算符。</p> <h3 id="-14"><a href="#-14" class="header-anchor">#</a> `</h3> <p>命令替换符。<code>`command`</code>结构可以使得命令的输出结果赋值给一个变量。通常也被称作后引号（backquotes）或反引号（backticks）。</p> <h3 id="-15"><a href="#-15" class="header-anchor">#</a> :</h3> <p>空命令[冒号]。它在shell中等价于&quot;NOP&quot;（即no op，空操作）与shell内建命令true有同样的效果。它本身也是Bash的内建命令之一，返回值是true（0）。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">:</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>   <span class="token comment"># 返回0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在无限循环中的应用：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
   operation-1
   operation-2
   <span class="token punctuation">..</span>.
   operation-n
<span class="token keyword">done</span>

<span class="token comment"># 等价于</span>
<span class="token comment">#    while true</span>
<span class="token comment">#    do</span>
<span class="token comment">#      ...</span>
<span class="token comment">#    done</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>可在 <code>if/then</code> 中充当占位符：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span> <span class="token builtin class-name">:</span>   <span class="token comment"># 什么都不做，跳出判断执行下一条语句</span>
<span class="token keyword">else</span>
   take-some-action
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在二元操作中作占位符: 查看<em>样例 8-2</em>或<em>默认参数</em>部分。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">:</span> <span class="token variable">${username=`whoami`}</span>
<span class="token comment"># ${username=`whoami`}   如果没有:就会报错</span>
<span class="token comment">#                        除非 &quot;username&quot; 是系统命令或内建命令</span>

<span class="token builtin class-name">:</span> <span class="token variable">${1?&quot;Usage<span class="token operator">:</span> $0 ARGUMENT&quot;}</span>     <span class="token comment"># 摘自样例脚本 &quot;usage-message.sh&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>查看<em>样例 19-10</em>了解空命令在here document中作为占位符的情况。</p> <p>使用参数替换为字符串变量赋值（查看<em>样例 10-7</em>）。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">:</span> <span class="token variable">${<span class="token environment constant">HOSTNAME</span>?}</span> <span class="token variable">${<span class="token environment constant">USER</span>?}</span> <span class="token variable">${MAIL?}</span>
<span class="token comment">#  如果其中一个或多个必要的环境变量没有被设置</span>
<span class="token comment">#  将会打印错误</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查看<em>变量扩展</em>或<em>字符串替换</em>章节了解空命令在其中的作用。</p> <p>与<code>&gt;</code>重定向操作符结合，可以在不改变文件权限的情况下清空文件。如果文件不存在，那么将创建这个文件。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">:</span> <span class="token operator">&gt;</span> data.xxx   <span class="token comment"># 文件 &quot;data.xxx&quot; 已被清空</span>

<span class="token comment"># 与 cat /dev/null &gt;data.xxx 作用相同</span>
<span class="token comment"># 但是此操作不会产生一个新进程，因为 &quot;:&quot; 是shell内建命令。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>也可查看<em>样例 16-15</em>。</p> <p>与<code>&gt;&gt;</code>重定向操作符结合，将不会清空任何已存在的文件（<code>: &gt;&gt; target_file</code>）。如果文件不存在，将创建这个文件。</p> <blockquote><p><img src="http://tldp.org/LDP/abs/images/note.gif" alt="extra"> 以上操作仅适用于普通文件，不适用于管道、符号链接和特殊文件。</p></blockquote> <p>空命令可以用来作为一行注释的开头，尽管我们并不推荐这么做。使用 # 可以使解释器关闭该行的错误检测，所以几乎所有的内容都可以出现在注释#中。使用空命令却不是这样的：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">:</span> 这一行注释将会产生一个错误，<span class="token punctuation">(</span> <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$x</span> -eq <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>:也可以作为一个域分隔符，比如在<code>/etc/passwd</code>和 <code>$PATH</code> 变量中。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ echo $PATH
/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin:/sbin:/usr/sbin:/usr/games
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>将冒号作为函数名也是可以的。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>:<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;The name of this function is &quot;</span><span class="token variable">$FUNCNAME</span><span class="token string">&quot; &quot;</span>
  <span class="token comment"># 为什么要使用冒号作函数名？</span>
  <span class="token comment"># 这是一种混淆代码的方法......</span>
<span class="token punctuation">}</span>

<span class="token builtin class-name">:</span>

<span class="token comment"># 函数名是 :</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>这种写法并不具有可移植性，也不推荐使用。事实上，在Bash的最近的版本更新中已经禁用了这种用法。但我们还可以使用*下划线 _*来替代。</p> <p>冒号也可以作为非空函数的占位符。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function-name function">not_empty</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token builtin class-name">:</span>
<span class="token punctuation">}</span> <span class="token comment"># 含有空指令，这并不是一个空函数。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="-16"><a href="#-16" class="header-anchor">#</a> !</h3> <p>取反（或否定）操作符[感叹号]。! 操作符反转已执行的命令的返回状态（查看<em>样例 6-2</em>）。它同时可以反转测试操作符的意义，例如可以将相等（=）反转成不等（!=）。它是一个Bash关键词。</p> <p>在一些特殊场景下，它也会出现在间接变量引用中。</p> <p>在另外一些特殊场景下，即在命令行下可以使用 ! 调用Bash的历史记录（<em>附录 L</em>）。需要注意的是，在脚本中，这个机制是被禁用的。</p> <h3 id="-17"><a href="#-17" class="header-anchor">#</a> *</h3> <p>通配符[星号]。在文件匹配（globbing）操作时扩展文件名。如果它独立出现，则匹配该目录下的所有文件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ echo *
abs-book.sgml add-drive.sh agram.sh alias.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在<em>正则表达式</em>中表示匹配任意多个（包括0）前个字符。</p> <h3 id="-18"><a href="#-18" class="header-anchor">#</a> *</h3> <p>算术运算符。在进行算术运算时，表示乘法运算。</p> <p>** 双星号可以表示乘方运算或扩展文件匹配。</p> <h3 id="-19"><a href="#-19" class="header-anchor">#</a> ?</h3> <p>测试操作符[问号]。在一些特定的语句中，? 表示一个条件测试。</p> <p>在一个双圆括号结构中，? 可以表示一个类似C语言风格的三元（trinary）运算符的一个组成部分。<sup class="footnote-ref"><a href="#footnote2">[2]</a><a id="footnote-ref2" class="footnote-anchor"></a></sup></p> <p><code>condition?result-if-true:result-if-false</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token variable"><span class="token punctuation">((</span> var0 <span class="token operator">=</span> var1<span class="token operator">&lt;</span><span class="token number">98</span><span class="token operator">?</span><span class="token number">9</span><span class="token operator">:</span><span class="token number">21</span> <span class="token punctuation">))</span></span>
<span class="token comment">#不要加空格，紧挨着写</span>

<span class="token comment">#等价于</span>
<span class="token comment"># if [ &quot;$var1&quot; -lt 98 ]</span>
<span class="token comment"># then</span>
<span class="token comment">#   var0=9</span>
<span class="token comment"># else</span>
<span class="token comment">#   var0=21</span>
<span class="token comment"># fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>在参数替换表达式中，? 用来测试一个变量是否已经被赋值。</p> <h3 id="-20"><a href="#-20" class="header-anchor">#</a> ?</h3> <p>通配符。它在进行文件匹配（globbing）时以单字符通配符扩展文件名。
在<em>扩展正则表达式</em>中匹配一个单字符。</p> <h3 id="-21"><a href="#-21" class="header-anchor">#</a> $</h3> <p>取值符号[钱字符]，用来进行变量替换（即取出变量的内容）。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token assign-left variable">var2</span><span class="token operator">=</span>23skidoo

<span class="token builtin class-name">echo</span> <span class="token variable">$var1</span>     <span class="token comment"># 5</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$var2</span>     <span class="token comment"># 23skidoo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果在变量名前有 $，则表示此变量的值。</p> <h3 id="-22"><a href="#-22" class="header-anchor">#</a> $</h3> <p>行结束符[EOF]。
在<em>正则表达式</em>中，$ 匹配行尾字符串。</p> <h3 id="-23"><a href="#-23" class="header-anchor">#</a> ${}</h3> <p>参数替换。</p> <h3 id="-24"><a href="#-24" class="header-anchor">#</a> $'...'</h3> <p>引用字符串扩展。这个结构将转义八进制或十六进制的值转换成ASCII<sup class="footnote-ref"><a href="#footnote3">[3]</a><a id="footnote-ref3" class="footnote-anchor"></a></sup>或Unicode字符。</p> <h3 id="-25"><a href="#-25" class="header-anchor">#</a> $*, $@</h3> <p>位置参数。</p> <h3 id="-26"><a href="#-26" class="header-anchor">#</a> $?</h3> <p>返回状态变量。此变量保存一个命令、一个函数或该脚本自身的返回状态。</p> <h3 id="-27"><a href="#-27" class="header-anchor">#</a> $$</h3> <p>进程ID变量。此变量保存该运行脚本的进程ID<sup class="footnote-ref"><a href="#footnote4">[4]</a><a id="footnote-ref4" class="footnote-anchor"></a></sup>。</p> <h3 id="-28"><a href="#-28" class="header-anchor">#</a> ()</h3> <p>命令组。</p> <p><code>(a=hello; echo $a)</code></p> <p><img src="http://tldp.org/LDP/abs/images/important.gif" alt="notice"> 通过括号执行一系列命令会产生一个子shell（subshell）。
括号中的变量，即在子shell中的变量，在脚本的其他部分是不可见的。父进程脚本不能访问子进程（子shell）所创建的变量。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">123</span>
<span class="token punctuation">(</span> <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">321</span><span class="token punctuation">;</span> <span class="token punctuation">)</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;a = <span class="token variable">$a</span>&quot;</span>   <span class="token comment"># a = 123</span>
<span class="token comment"># 在括号中的 &quot;a&quot; 就像个局部变量。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>数组初始化。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">Array</span><span class="token operator">=</span><span class="token punctuation">(</span>element1 element2 element3<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="xxx-yyy-zzz"><a href="#xxx-yyy-zzz" class="header-anchor">#</a> {xxx,yyy,zzz,...}</h3> <p>花括号扩展结构。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token punctuation">\</span>&quot;<span class="token punctuation">{</span>These,words,are,quoted<span class="token punctuation">}</span><span class="token punctuation">\</span>&quot;   <span class="token comment"># &quot; 将作为单词的前缀和后缀</span>
<span class="token comment"># &quot;These&quot; &quot;words&quot; &quot;are&quot; &quot;quoted&quot;</span>


<span class="token function">cat</span> <span class="token punctuation">{</span>file1,file2,file3<span class="token punctuation">}</span> <span class="token operator">&gt;</span> combined_file
<span class="token comment"># 将 file1, file2 与 file3 拼接在一起后写入 combined_file 中。</span>

<span class="token function">cp</span> file22.<span class="token punctuation">{</span>txt,backup<span class="token punctuation">}</span>
<span class="token comment"># 将 &quot;file22.txt&quot; 拷贝为 &quot;file22.backup&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这个命令可以作用于花括号内由逗号分隔的文件描述列表。<sup class="footnote-ref"><a href="#footnote5">[5]</a><a id="footnote-ref5" class="footnote-anchor"></a></sup> 文件名扩展（匹配）作用于大括号间的各个文件。</p> <p><img src="http://tldp.org/LDP/abs/images/caution.gif" alt="notice"> 除非被引用或被转义，否则空白符不应在花括号中出现。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token punctuation">{</span>file1,file2<span class="token punctuation">}</span><span class="token punctuation">\</span> :<span class="token punctuation">{</span><span class="token punctuation">\</span> A,<span class="token string">&quot; B&quot;</span>,<span class="token string">' C'</span><span class="token punctuation">}</span>
file1 <span class="token builtin class-name">:</span> A file1 <span class="token builtin class-name">:</span> B file1 <span class="token builtin class-name">:</span> C file2 <span class="token builtin class-name">:</span> A file2 <span class="token builtin class-name">:</span> B file2 <span class="token builtin class-name">:</span> C
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="a-z"><a href="#a-z" class="header-anchor">#</a> {a..z}</h3> <p>扩展的花括号扩展结构。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token punctuation">{</span>a<span class="token punctuation">..</span>z<span class="token punctuation">}</span> <span class="token comment">#  a b c d e f g h i j k l m n o p q r s t u v w x y z</span>
<span class="token comment"># 输出 a 到 z 之间所有的字母。</span>
	
<span class="token builtin class-name">echo</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">3</span><span class="token punctuation">}</span> <span class="token comment"># 0 1 2 3</span>
<span class="token comment"># 输出 0 到 3 之间所有的数字。</span>


<span class="token assign-left variable">base64_charset</span><span class="token operator">=</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>A<span class="token punctuation">..</span>Z<span class="token punctuation">}</span> <span class="token punctuation">{</span>a<span class="token punctuation">..</span>z<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">9</span><span class="token punctuation">}</span> + / <span class="token operator">=</span> <span class="token punctuation">)</span>
<span class="token comment"># 使用扩展花括号初始化一个数组。</span>
<span class="token comment"># 摘自 vladz 编写的样例脚本 &quot;base64.sh&quot;。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Bash第三版中引入了 {a..z} 扩展的花括号扩展结构。</p> <h3 id="-29"><a href="#-29" class="header-anchor">#</a> {}</h3> <p>代码块[花括号]，又被称作内联组（inline group）。它实际上创建了一个匿名函数（anonymous function），即没有名字的函数。但是，不同于那些“标准”函数，代码块内的变量在脚本的其他部分仍旧是可见的。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ { local a;
              a=123; }
bash: local: can only be used in a
function
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">123</span>
<span class="token punctuation">{</span> <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">321</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a = <span class="token variable">$a</span>&quot;</span>   <span class="token comment"># a = 321   (代码块内赋值)</span>

<span class="token comment"># 感谢S.C.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>代码块可以经由I/O重定向进行输入或输出。</p> <p><strong>样例 3-1. 代码块及I/O重定向</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 读取文件 /etc/fstab</span>

<span class="token assign-left variable">File</span><span class="token operator">=</span>/etc/fstab

<span class="token punctuation">{</span>
<span class="token builtin class-name">read</span> line1
<span class="token builtin class-name">read</span> line2
<span class="token punctuation">}</span> <span class="token operator">&lt;</span> <span class="token variable">$File</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;First line in <span class="token variable">$File</span> is:&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$line1</span>&quot;</span>
<span class="token builtin class-name">echo</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Second line in <span class="token variable">$File</span> is:&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$line2</span>&quot;</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>

<span class="token comment"># 你知道如何解析剩下的行吗？</span>
<span class="token comment"># 提示：使用 awk 或...</span>
<span class="token comment"># Hans-Joerg Diers 建议：使用Bash的内建命令 set。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>样例 3-2. 将代码块的输出保存至文件中</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># rpm-check.sh</span>

<span class="token comment"># 查询一个rpm文件的文件描述、包含文件列表，以及是否可以被安装。</span>
<span class="token comment"># 将输出保存至文件。</span>
<span class="token comment">#</span>
<span class="token comment"># 这个脚本使用代码块来描述。</span>

<span class="token assign-left variable">SUCCESS</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">E_NOARGS</span><span class="token operator">=</span><span class="token number">65</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage: <span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> $0<span class="token variable">`</span></span> rpm-file&quot;</span>
  <span class="token builtin class-name">exit</span> <span class="token variable">$E_NOARGS</span>
<span class="token keyword">fi</span>  

<span class="token punctuation">{</span> <span class="token comment"># 代码块起始</span>
  <span class="token builtin class-name">echo</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Archive Description:&quot;</span>
  <span class="token function">rpm</span> -qpi <span class="token variable">$1</span>       <span class="token comment"># 查询文件描述。</span>
  <span class="token builtin class-name">echo</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Archive Listing:&quot;</span>
  <span class="token function">rpm</span> -qpl <span class="token variable">$1</span>       <span class="token comment"># 查询文件列表。</span>
  <span class="token builtin class-name">echo</span>
  <span class="token function">rpm</span> -i --test <span class="token variable">$1</span>  <span class="token comment"># 查询是否可以被安装。</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$?</span>&quot;</span> -eq <span class="token variable">$SUCCESS</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$1</span> can be installed.&quot;</span>
  <span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$1</span> cannot be installed.&quot;</span>
  <span class="token keyword">fi</span>  
  <span class="token builtin class-name">echo</span>              <span class="token comment"># 代码块结束。</span>
<span class="token punctuation">}</span> <span class="token operator">&gt;</span> <span class="token string">&quot;<span class="token variable">$1</span>.test&quot;</span>       <span class="token comment"># 输出重定向至文件。</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Results of rpm test in file <span class="token variable">$1</span>.test&quot;</span>

<span class="token comment"># rpm各项参数的具体含义可查看man文档</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p><img src="http://tldp.org/LDP/abs/images/note.gif" alt="extra"> 与由圆括号包裹起来的命令组不同，由花括号包裹起来的代码块不产生子进程。<sup class="footnote-ref"><a href="#footnote6">[6]</a><a id="footnote-ref6" class="footnote-anchor"></a></sup></p> <p>也可以使用非标准的 for 循环语句来遍历代码块。</p> <h3 id="-30"><a href="#-30" class="header-anchor">#</a> {}</h3> <p>文本占位符。在 <code>xargs -i</code> 后作为输出的占位符使用。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">ls</span> <span class="token builtin class-name">.</span> <span class="token operator">|</span> <span class="token function">xargs</span> -i -t <span class="token function">cp</span> ./<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token variable">$1</span>
<span class="token comment">#            ^^         ^^</span>

<span class="token comment"># 摘自 &quot;ex42.sh&quot; (copydir.sh)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="-31"><a href="#-31" class="header-anchor">#</a> {} ;</h3> <p>路径名。通常在 <code>find</code> 命令中使用，但这不是shell的内建命令。</p> <blockquote><p>定义：路径名是包含完整路径的文件名，例如<code>/home/bozo/Notes/Thursday/schedule.txt</code>。我们通常又称之为绝对路径。</p></blockquote> <p><img src="http://tldp.org/LDP/abs/images/note.gif" alt="extra"> 在执行<code>find -exec</code>时最后需要加上<code>;</code>，但是分号需要被转义以保证其不会被shell解释。</p> <h3 id="-32"><a href="#-32" class="header-anchor">#</a> [ ]</h3> <p>测试。在 [ ] 之间填写测试表达式。值得注意的是，[ 是shell内建命令 <code>test</code> 的一个组成部分，而不是外部命令 <code>/usr/bin/test</code> 的链接。</p> <h3 id="-33"><a href="#-33" class="header-anchor">#</a> [[ ]]</h3> <p>测试。在 [[ ]] 之间填写测试表达式。相比起单括号测试 （[ ]），它更加的灵活。它是一个shell的关键字。</p> <p>详情查看<em>关于 [[ ]] 结构的讨论</em>。</p> <h3 id="-34"><a href="#-34" class="header-anchor">#</a> [ ]</h3> <p>数组元素。在数组中，可以使用中括号的偏移量来用来访问数组中的每一个元素。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>slot_1
<span class="token builtin class-name">echo</span> <span class="token variable">${Array<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="-35"><a href="#-35" class="header-anchor">#</a> [ ]</h3> <p>字符集、字符范围。
在<em>正则表达式</em>中，中括号用来匹配指定字符集或字符范围内的任意字符。</p> <h3 id="-36"><a href="#-36" class="header-anchor">#</a> $[ ... ]</h3> <p>整数扩展符。在 $[ ] 中可以计算整数的算术表达式。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">3</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">7</span>

<span class="token builtin class-name">echo</span> $<span class="token punctuation">[</span><span class="token variable">$a</span>+<span class="token variable">$b</span><span class="token punctuation">]</span>   <span class="token comment"># 10</span>
<span class="token builtin class-name">echo</span> $<span class="token punctuation">[</span><span class="token variable">$a</span>*<span class="token variable">$b</span><span class="token punctuation">]</span>   <span class="token comment"># 21</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="-37"><a href="#-37" class="header-anchor">#</a> (( ))</h3> <p>整数扩展符。在 (( )) 中可以计算整数的算术表达式。</p> <p>详情查看<em>关于 (( ... )) 结构的讨论</em>。</p> <h3 id="-38"><a href="#-38" class="header-anchor">#</a> &gt; &amp;&gt; &gt;&amp; &gt;&gt; &lt; &lt;&gt;</h3> <p>重定向。</p> <p><code>scriptname &gt;filename</code> 将脚本 <em>scriptname</em> 的输出重定向到 <em>filename</em> 中。如果文件存在，那么覆盖掉文件内容。</p> <p><code>command &amp;&gt;filename</code> 将命令 <em>command</em> 的标准输出(stdout) 和标准错误输出(stderr) 重定向到 <em>filename</em>。</p> <p><img src="http://tldp.org/LDP/abs/images/note.gif" alt="extra"> 重定向在用于清除测试条件的输出时特别有效。例如测试一个特定的命令是否存在。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ type bogus_command &amp;&gt;/dev/null


bash$ echo $?
1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>或写在脚本中：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function-name function">command_test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token builtin class-name">type</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token operator">&amp;&gt;</span>/dev/null<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment">#                                      ^</span>
 
<span class="token assign-left variable">cmd</span><span class="token operator">=</span>rmdir            <span class="token comment"># 存在的命令。</span>
command_test <span class="token variable">$cmd</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>   <span class="token comment"># 返回0</span>


<span class="token assign-left variable">cmd</span><span class="token operator">=</span>bogus_command    <span class="token comment"># 不存在的命令。</span>
command_test <span class="token variable">$cmd</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>   <span class="token comment"># 返回1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>command &gt;&amp;2</code> 将命令的标准输出重定向至标准错误输出。</p> <p><code>scriptname &gt;&gt;filename</code> 将脚本 <em>scriptname</em> 的输出追加到 <em>filename</em> 文件末尾。如果文件不存在，那么将创建这个文件。</p> <p><code>[i]&lt;&gt;filename</code> 打开文件 <em>filename</em> 用来读写，并且分配一个文件描述符<em>i</em>指向它。如果文件不存在，那么将创建这个文件。</p> <p>进程替换：
<code>(command)&gt;</code> <code>&lt;(command)</code></p> <p>在某些情况下， &quot;&lt;&quot; 与 &quot;&gt;&quot; 将用作字符串比较。</p> <p>在另外一些情况下， &quot;&lt;&quot; 与 &quot;&gt;&quot; 将用作数字比较。详情查看<em>样例 16-9</em>。</p> <h3 id="-39"><a href="#-39" class="header-anchor">#</a> &lt;&lt;</h3> <p>在here document中进行重定向。</p> <h3 id="-40"><a href="#-40" class="header-anchor">#</a> &lt;&lt;&lt;</h3> <p>在here string中进行重定向。</p> <h3 id="-41"><a href="#-41" class="header-anchor">#</a> &lt;, &gt;</h3> <p>ASCII码比较。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">veg1</span><span class="token operator">=</span>carrots
<span class="token assign-left variable">veg2</span><span class="token operator">=</span>tomatoes

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;veg1&quot;</span> <span class="token operator">&lt;</span> <span class="token string">&quot;veg2&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Although <span class="token variable">$veg1</span> precede <span class="token variable">$veg2</span> in the dictionary,&quot;</span>
  <span class="token builtin class-name">echo</span> -n <span class="token string">&quot;this does not necessarily imply anything &quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;about my culinary preferences.&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;What kind of dictionary are you using, anyhow?&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="-42"><a href="#-42" class="header-anchor">#</a> &lt;, &gt;</h3> <p><em>正则表达式</em>中的单词边界（word boundary）。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ grep '\&lt;the\&gt;' textfile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="-43"><a href="#-43" class="header-anchor">#</a> |</h3> <p>管道（pipe）。管道可以将上一个命令的输出作为下一个命令的输入，或者直接输出到shell中。管道是一种可以将一系列命令连接在一起的绝妙方式。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token function">ls</span> -l <span class="token operator">|</span> <span class="token function">sh</span>
<span class="token comment">#  将 &quot;echo ls -l&quot; 的结果输出到shell中，</span>
<span class="token comment">#  与直接输入 &quot;ls -l&quot; 的结果相同。</span>


<span class="token function">cat</span> *.lst <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span>
<span class="token comment"># 将所有后缀名为 lst 的文件合并后排序，接着删掉所有重复行。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>管道是一种在进程间通信的典型方法。它将一个进程的输出作为另一个进程的输入。举一个经典的例子，像 <code>cat</code> 或者 <code>echo</code> 这样的命令，可以通过管道将它们产生的数据流导入到过滤器（filter）中。过滤器是可以用来处理输入流的命令。<sup class="footnote-ref"><a href="#footnote7">[7]</a><a id="footnote-ref7" class="footnote-anchor"></a></sup></p> <p><code>cat $filename1 $filename2 | grep $search_word</code></p> <p>查看<a href="http://www.faqs.org/faqs/unix-faq/faq/part3/" target="_blank" rel="noopener noreferrer">UNIX FAQ第三章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>获取更多关于使用UNIX管道的信息。</p></blockquote> <p>命令的输出同样可以通过管道输入到脚本中。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># uppercase.sh : 将所有输入变成大写</span>

<span class="token function">tr</span> <span class="token string">'a-z'</span> <span class="token string">'A-Z'</span>
<span class="token comment">#  为了防止产生单字符文件名，</span>
<span class="token comment">#  必须使用单引号引用字符范围。</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>现在，让我们将 <code>ls -l</code> 的输出通过管道导入到脚本中。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ ls -l | ./uppercase.sh
 -RW-RW-R--    1 BOZO  BOZO       109 APR  7 19:49 1.TXT
 -RW-RW-R--    1 BOZO  BOZO       109 APR 14 16:48 2.TXT
 -RW-R--R--    1 BOZO  BOZO       725 APR 20 20:56 DATA-FILE
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="http://tldp.org/LDP/abs/images/note.gif" alt="extra"> 在管道中，每一个进程的输出必须作为下个进程的输入被正确读入，如果不这样，数据流会被阻塞（block），管道就无法按照预期正常工作。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> file1 file2 <span class="token operator">|</span> <span class="token function">ls</span> -l <span class="token operator">|</span> <span class="token function">sort</span>
<span class="token comment"># &quot;cat file1 file2&quot; 的输出会消失。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>管道是在一个子进程中运行的，因此它并不能修改父进程脚本中的变量。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">variable</span><span class="token operator">=</span><span class="token string">&quot;initial_value&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;new_value&quot;</span> <span class="token operator">|</span> <span class="token builtin class-name">read</span> variable
<span class="token builtin class-name">echo</span> <span class="token string">&quot;variable = <span class="token variable">$variable</span>&quot;</span>     <span class="token comment"># variable = initial_value</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果管道中的任意一个命令意外中止了，管道将会提前中断，我们称其为<em>管道破裂</em>(Broken Pipe)。出现这种情况，系统将发送一个 <code>SIGPIPE</code> 信号。</p> <h3 id="-44"><a href="#-44" class="header-anchor">#</a> &gt;|</h3> <p>强制重定向。即使在 <code>noclobber</code> 选项被设置的情况下，重定向也会覆盖已存在的文件。</p> <h3 id="-45"><a href="#-45" class="header-anchor">#</a> ||</h3> <p>或（OR）逻辑运算符。在测试结构中，任意一个测试条件为真，整个表达式为真。返回 0（成功标志位）。</p> <h3 id="-46"><a href="#-46" class="header-anchor">#</a> &amp;</h3> <p>后台运行操作符。如果命令后带&amp;，那么此命令将转至后台运行。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ sleep 10 &amp;
[1] 850
[1]+  Done                    sleep 10
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在脚本中，命令甚至循环都可以在后台运行。</p> <p><strong>样例 3-3. 在后台运行的循环</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># background-loop.sh</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">10</span>            <span class="token comment"># 第一个循环</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> -n <span class="token string">&quot;<span class="token variable">$i</span> &quot;</span>
<span class="token keyword">done</span> <span class="token operator">&amp;</span> <span class="token comment"># 这个循环在后台运行。</span>
       <span class="token comment"># 有时会在第二个循环结之后才执行此后台循环。</span>

<span class="token builtin class-name">echo</span>   <span class="token comment"># 此'echo' 有时不显示</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>   <span class="token comment"># 第二个循环</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> -n <span class="token string">&quot;<span class="token variable">$i</span> &quot;</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span>   <span class="token comment"># 此'echo' 有时不显示</span>

<span class="token comment"># ======================================================</span>

<span class="token comment"># 脚本期望输出结果：</span>
<span class="token comment"># 1 2 3 4 5 6 7 8 9 10</span>
<span class="token comment"># 11 12 13 14 15 16 17 18 19 20</span>

<span class="token comment"># 一些情况下可能会输出：</span>
<span class="token comment"># 11 12 13 14 15 16 17 18 19 20</span>
<span class="token comment"># 1 2 3 4 5 6 7 8 9 10 bozo $</span>
<span class="token comment"># 第二个 'echo' 没有被执行，为什么？</span>

<span class="token comment"># 另外一些情况下可能会输出：</span>
<span class="token comment"># 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20</span>
<span class="token comment"># 第一个 'echo' 没有被执行，为什么？</span>

<span class="token comment"># 非常罕见的情况下，可能会输出：</span>
<span class="token comment"># 11 12 13 1 2 3 4 5 6 7 8 9 10 14 15 16 17 18 19 20</span>
<span class="token comment"># 前台循环抢占（preempt）了后台循环。</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>

<span class="token comment">#  Nasimuddin Ansari 建议：在第6行和第14行的</span>
<span class="token comment">#  echo -n &quot;$i &quot; 后增加 sleep 1，</span>
<span class="token comment">#  会得到许多有趣的结果。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><img src="http://tldp.org/LDP/abs/images/caution.gif" alt="notice"> 脚本在后台执行命令时可能因为等待键盘事件被挂起。幸运的是，有一套方案可以解决这个问题。</p> <h3 id="-47"><a href="#-47" class="header-anchor">#</a> &amp;&amp;</h3> <p>与（AND）逻辑操作符。在测试结构中，所有测试条件都为真，表达式才为真，返回 0（成功标志位）。</p> <h3 id="-48"><a href="#-48" class="header-anchor">#</a> -</h3> <p>选项与前缀。它可以作为命令的选项标志，也可以作为一个操作符的前缀，也可以作为在参数代换中作为默认参数的前缀。</p> <p><code>COMMAND -[Option1][Option2][..]</code></p> <p><code>ls -al</code></p> <p><code>sort -dfu $filename</code></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$file1</span> -ot <span class="token variable">$file2</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span> <span class="token comment">#      ^</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;File <span class="token variable">$file1</span> is older than <span class="token variable">$file2</span>.&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$a</span>&quot;</span> -eq <span class="token string">&quot;<span class="token variable">$b</span>&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span> <span class="token comment">#    ^</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> is equal to <span class="token variable">$b</span>.&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$c</span>&quot;</span> -eq <span class="token number">24</span> -a <span class="token string">&quot;<span class="token variable">$d</span>&quot;</span> -eq <span class="token number">47</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span> <span class="token comment">#    ^              ^</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$c</span> equals 24 and <span class="token variable">$d</span> equals 47.&quot;</span>
<span class="token keyword">fi</span>


<span class="token assign-left variable">param2</span><span class="token operator">=</span><span class="token variable">${param1<span class="token operator">:-</span>$DEFAULTVAL}</span>
<span class="token comment">#               ^</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="-49"><a href="#-49" class="header-anchor">#</a> --</h3> <p>双横线一般作为命令长选项的前缀。</p> <p><code>sort --ignore-leading-blanks</code></p> <p>双横线与Bash内建命令一起使用时，意味着该命令选项的结束。</p> <p><img src="http://tldp.org/LDP/abs/images/tip.gif" alt="info"> 下面提供了一种删除文件名以横线开头文件的简单方法。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ ls -l
-rw-r--r-- 1 bozo bozo 0 Nov 25 12:29 -badname


bash$ rm -- -badname

bash$ ls -l
total 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>双横线通常也和 <code>set</code> 连用。</p> <p><code>set -- $variable</code>（查看<em>样例 15-18</em>）。</p> <h3 id="-50"><a href="#-50" class="header-anchor">#</a> -</h3> <p>重定向输入输出[短横线]。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ cat -
abc
abc

...

Ctl-D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在这个例子中，<code>cat -</code> 输出由键盘读入的标准输入(stdin) 到 标准输出(stdout)。但是在真实应用的 I/O 重定向中是否有使用 '-'？</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>cd /source/directory <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> cf - <span class="token builtin class-name">.</span> <span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>cd /dest/directory <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> xpvf -<span class="token punctuation">)</span>

<span class="token comment"># 将整个文件树从一个目录移动到另一个目录。</span>
<span class="token comment"># 感谢 Alan Cox &lt;a.cox@swansea.ac.uk&gt; 所作出的部分改动</span>

<span class="token comment"># 1) cd /source/directory</span>
<span class="token comment">#    工作目录定位到文件所属的源目录</span>
<span class="token comment"># 2) &amp;&amp;</span>
<span class="token comment">#    &quot;与链&quot;：如果 'cd' 命令操作成功，那么执行下一条命令</span>
<span class="token comment"># 3) tar cf - .</span>
<span class="token comment">#    'tar c' (create 创建) 创建一份新的档案</span>
<span class="token comment">#    'tar f -' (file 指定文件) 在 '-' 后指定一个目标文件作为输出</span>
<span class="token comment">#    '.' 代表当前目录</span>
<span class="token comment"># 4) |</span>
<span class="token comment">#    通过管道进行重定向</span>
<span class="token comment"># 5) ( ... )</span>
<span class="token comment">#    在建立的子进程中执行命令</span>
<span class="token comment"># 6) cd /dest/directory</span>
<span class="token comment">#    工作目录定位到目标目录</span>
<span class="token comment"># 7) &amp;&amp;</span>
<span class="token comment">#    与 2) 相同</span>
<span class="token comment"># 8) tar xpvf -</span>
<span class="token comment">#    'tar x' 解压档案</span>
<span class="token comment">#    'tar p' (preserve 保留) 保留档案内文件的所有权及文件权限</span>
<span class="token comment">#    'tar v' (verbose 冗余) 发送全部信息到标准输出</span>
<span class="token comment">#    'tar f -' (file 指定文件) 在 '-' 后指定一个目标文件作为输入</span>
<span class="token comment">#</span>
<span class="token comment">#    注意 'x' 是一个命令，而 'p', 'v', 'f' 是选项。</span>

<span class="token comment"># 干的漂亮！</span>


<span class="token comment"># 更加优雅的写法是:</span>
<span class="token comment">#   cd source/directory</span>
<span class="token comment">#   tar cf - . | (cd ../dest/directory; tar xpvf -)</span>
<span class="token comment">#</span>
<span class="token comment"># 同样可以写成:</span>
<span class="token comment">#   cp -a /source/directory/* /dest/directory</span>
<span class="token comment"># 或:</span>
<span class="token comment">#   cp -a /source/directory/* /source/directory/.[^.]* /dest/directory</span>
<span class="token comment"># 可以在源目录中有隐藏文件时使用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>bunzip2 -c linux-2.6.16.tar.bz2 <span class="token operator">|</span> <span class="token function">tar</span> xvf -
<span class="token comment">#  --未解压的 tar 文件--        | --将解压出的 tar 传递给 &quot;tar&quot;--</span>
<span class="token comment">#  如果不使用管道让 &quot;tar&quot; 处理 &quot;bunzip2&quot; 得到的文件，</span>
<span class="token comment">#  那么就需要使用单独的两步来完成。</span>
<span class="token comment">#  目的是为了解压 &quot;bzipped&quot; 压缩的内核源代码。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>下面的例子中，&quot;-&quot; 并不是一个Bash的操作符，它仅仅是 <code>tar</code>, <code>cat</code> 等一些特定UNIX命令中将结果输出到标准输出的选项。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ echo &quot;whatever&quot; | cat -
whatever 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当需要文件名的时候，- 可以用来代替某个文件而重定向到标准输出（通常出现在 <code>tar cf</code> 中）或从 <em>stdin</em> 中接受数据。这是一种在管道中使用面向文件（file-oriented）工具作为过滤器的方法。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ file
Usage: file [-bciknvzL] [-f namefile] [-m magicfiles] file...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>单独执行 <code>file</code> 命令，将会得到一条错误信息。</p> <p>在命令后增加一个 &quot;-&quot; 可以得到一个更加有用的结果。它会使得shell暂停等待用户输入。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ file -
abc
standard input:              ASCII text


bash$ file -
#!/bin/bash
standard input:              Bourne-Again shell script text executable
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>现在命令能够接受标准输入并且处理它们了。</p> <p>&quot;-&quot; 能够通过管道将标准输出重定向到其他命令中。这就可以做到像在某个文件前添加几行这样的事情。</p> <p>使用 <code>diff</code> 比较两个文件的部分内容：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">grep</span> Linux file1 <span class="token operator">|</span> <span class="token function">diff</span> file2 -
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>最后介绍一个使用 - 的 <code>tar</code> 命令的实际案例。</p> <p><strong>样例 3-4. 备份最近一天修改过的所有文件</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment">#  将当前目录下24小时之内修改过的所有文件备份成一个</span>
<span class="token comment">#  &quot;tarball&quot; (经 tar 打包`与 gzip 压缩) 文件</span>

<span class="token assign-left variable">BACKUPFILE</span><span class="token operator">=</span>backup-<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%m-%d-%Y<span class="token variable">)</span></span>
<span class="token comment">#                 在备份文件中嵌入时间</span>
<span class="token comment">#                 感谢 Joshua Tschida 提供的建议</span>

<span class="token assign-left variable">archive</span><span class="token operator">=</span><span class="token variable">${1<span class="token operator">:-</span>$BACKUPFILE}</span>
<span class="token comment">#  如果没有在命令行中特别制定备份格式，</span>
<span class="token comment">#  那么将会默认设置为 &quot;backup-MM-DD-YYYY.tar.gz&quot;。</span>

<span class="token function">tar</span> cvf - <span class="token variable"><span class="token variable">`</span><span class="token function">find</span> <span class="token builtin class-name">.</span> -mtime -1 -type f -print<span class="token variable">`</span></span> <span class="token operator">&gt;</span> <span class="token variable">$archive</span>.tar
<span class="token function">gzip</span> <span class="token variable">$archive</span>.tar
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Directory <span class="token environment constant">$PWD</span> backed up in archive file <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">$archive</span>.tar.gz<span class="token entity" title="\&quot;">\&quot;</span>.&quot;</span>

<span class="token comment">#  Stephane Chazeles 指出如果目录中有非常多的文件，</span>
<span class="token comment">#  或文件名中包含空白符时，上面的代码会运行失败。</span>

<span class="token comment"># 他建议使用以下的任意一种方法：</span>
<span class="token comment"># -------------------------------------------------------------------</span>
<span class="token comment">#   find . -mtime -1 -type f -print0 | xargs -0 tar rvf &quot;$archive.tar&quot;</span>
<span class="token comment">#   使用了 GNU 版本的 &quot;find&quot; 命令。</span>


<span class="token comment">#   find . -mtime -1 -type f -exec tar rvf &quot;$archive.tar&quot; '{}' \;</span>
<span class="token comment">#   兼容其他的 UNIX 发行版，但是速度会比较慢</span>
<span class="token comment"># -------------------------------------------------------------------</span>


<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><img src="http://tldp.org/LDP/abs/images/caution.gif" alt="notice"> 以 &quot;-&quot; 开头的文件在和&quot;-&quot; 重定向操作符一起使用时可能会导致一些问题。因此合格的脚本必须首先检查这种情况。如果遇到，就需要给文件名加一个合适的前缀，比如 <code>./-FILENAME, $PWD/-FILENAME</code> 或者<code>$PATHNAME/-FILENAME</code> 。</p> <p>如果变量的值以 '-' 开头，也可能会造成类似问题。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">var</span><span class="token operator">=</span><span class="token string">'-n'</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$var</span>
<span class="token comment"># 等同于 &quot;echo -n&quot;，不会输出任何东西。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="-51"><a href="#-51" class="header-anchor">#</a> -</h3> <p>先前的工作目录。使用 <code>cd -</code> 命令可以返回先前的工作目录。它实际上是使用了 <code>$OLDPWD</code> 环境变量。</p> <p><img src="http://tldp.org/LDP/abs/images/caution.gif" alt="notice"> 不要将这里的 &quot;-&quot; 与先前的 &quot;-&quot; 重定位操作符混淆。&quot;-&quot; 的具体含义需要根据上下文来解释。</p> <h3 id="-52"><a href="#-52" class="header-anchor">#</a> -</h3> <p>减号。算术运算符中的减法标志。</p> <h3 id="-53"><a href="#-53" class="header-anchor">#</a> =</h3> <p>等号。赋值操作符。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">28</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$a</span>   <span class="token comment"># 28</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在一些情况下，&quot;=&quot; 可以作为字符串比较操作符。</p> <h3 id="-54"><a href="#-54" class="header-anchor">#</a> +</h3> <p>加号。加法算术运算。</p> <p>在一些情况下，+ 是作为正则表达式中的一个操作符。</p> <h3 id="-55"><a href="#-55" class="header-anchor">#</a> +</h3> <p>选项操作符。作为一个命令或过滤器的选项标记。</p> <p>特定的一些指令和内建命令使用 + 启用特定的选项，使用 - 禁用特定的选项。在参数代换中，+ 是作为变量扩展的备用值（alternate value）的前缀。</p> <h3 id="-56"><a href="#-56" class="header-anchor">#</a> %</h3> <p>取模。取模操作运算符。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">let</span> <span class="token string">&quot;z = 5 % 3&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$z</span>  <span class="token comment"># 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在另外一些情况下，% 是一种模式匹配的操作符。</p> <h3 id="-57"><a href="#-57" class="header-anchor">#</a> ~</h3> <p>主目录[波浪号]。它相当于内部变量 <code>$HOME</code>。<code>~bozo</code> 是 bozo 的主目录，执行 <code>ls ~bozo</code> 将会列出他的主目录中内容。<code>~/</code> 是当前用户的主目录，执行 <code>ls ~/</code> 将会列出其中所有的内容。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bash$ echo ~bozo
/home/bozo

bash$ echo ~
/home/bozo

bash$ echo ~/
/home/bozo/

bash$ echo ~:
/home/bozo:

bash$ echo ~nonexistent-user
~nonexistent-user
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="-58"><a href="#-58" class="header-anchor">#</a> ~+</h3> <p>当前工作目录。它等同于内部变量 <code>$PWD</code>。</p> <h3 id="-59"><a href="#-59" class="header-anchor">#</a> ~-</h3> <p>先前的工作目录。它等同于内部变量 <code>$OLDPWD</code>。</p> <h3 id="-60"><a href="#-60" class="header-anchor">#</a> =~</h3> <p><em>正则表达式</em>匹配。将在 *Bash version 3 *章节中介绍。</p> <h3 id="-61"><a href="#-61" class="header-anchor">#</a> ^</h3> <p>行起始符。在正则表达式中，&quot;^&quot; 代表一行文本的开始。</p> <h3 id="-62"><a href="#-62" class="header-anchor">#</a> ^, ^^</h3> <p>参数替换中的大写转换符（在Bash第4版新增）。</p> <h3 id="控制字符"><a href="#控制字符" class="header-anchor">#</a> 控制字符</h3> <p>改变终端或文件显示的一些行为。一个控制符是由 <em>CONTRL + key</em> 组成的（同时按下）。控制字符同样可以通过转义以八进制或十六进制的方式显示。</p> <p>控制符不能在脚本中使用。</p> <h4 id="ctrl-a"><a href="#ctrl-a" class="header-anchor">#</a> Ctrl-A</h4> <p>移动光标至行首。</p> <h4 id="ctrl-b"><a href="#ctrl-b" class="header-anchor">#</a> Ctrl-B</h4> <p>非破坏性退格（即不删除字符）。</p> <h4 id="ctrl-c"><a href="#ctrl-c" class="header-anchor">#</a> Ctrl-C</h4> <p>中断指令。终止当前运行的任务。</p> <h4 id="ctrl-d"><a href="#ctrl-d" class="header-anchor">#</a> Ctrl-D</h4> <p>登出shell（类似 <code>exit</code>）</p> <p>键入 <code>EOF</code>（end-of-file，文件终止标记），中断 <em>stdin</em> 的输入。</p> <p>当你在终端或 <em>xterm</em> 窗口中输入字符时，<code>Ctl-D</code> 将会删除光标上的字符。当没有字符时，<code>Crl-D</code> 将会登出shell。在 <em>xterm</em> 中，将会关闭整个窗口。</p> <h4 id="ctrl-e"><a href="#ctrl-e" class="header-anchor">#</a> Ctrl-E</h4> <p>移动光标至行末。</p> <h4 id="ctrl-f"><a href="#ctrl-f" class="header-anchor">#</a> Ctrl-F</h4> <p>光标向前移动一个字符。</p> <h4 id="ctrl-g"><a href="#ctrl-g" class="header-anchor">#</a> Ctrl-G</h4> <p>响铃<code>BEL</code>。在一些老式打字机终端上，将会响铃。而在 <em>xterm</em> 中，将会产生“哔”声。</p> <h4 id="ctrl-h"><a href="#ctrl-h" class="header-anchor">#</a> Ctrl-H</h4> <p>抹除（破坏性退格）。退格删除前面的字符。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 在字符串中嵌入 Ctrl-H</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">&quot;^H^H&quot;</span>                  <span class="token comment"># 两个退格符 Ctrl-H</span>
                          <span class="token comment"># 在 vi/vim 中使用 Ctrl-V Ctrl-H 来键入</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;abcdef&quot;</span>             <span class="token comment"># abcdef</span>
<span class="token builtin class-name">echo</span>
<span class="token builtin class-name">echo</span> -n <span class="token string">&quot;abcdef<span class="token variable">$a</span> &quot;</span>       <span class="token comment"># abcd f</span>
<span class="token comment">#                ^              ^ 末尾有空格退格两次的结果</span>
<span class="token builtin class-name">echo</span>
<span class="token builtin class-name">echo</span> -n <span class="token string">&quot;abcdef<span class="token variable">$a</span>&quot;</span>        <span class="token comment"># abcdef</span>
<span class="token comment">#                                ^ 末尾没有空格时为什么退格无效了？</span>
                          <span class="token comment"># 并不是我们期望的结果。</span>
<span class="token builtin class-name">echo</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span>

<span class="token comment"># Constantin Hagemeier 建议尝试一下：</span>
<span class="token comment"># a=$'\010\010'</span>
<span class="token comment"># a=$'\b\b'</span>
<span class="token comment"># a=$'\x08\x08'</span>
<span class="token comment"># 但是这些并不会改变结果。</span>

<span class="token comment">########################################</span>

<span class="token comment"># 现在来试试这个。</span>

<span class="token assign-left variable">rubout</span><span class="token operator">=</span><span class="token string">&quot;^H^H^H^H^H&quot;</span>       <span class="token comment"># 5个 Ctrl-H</span>

<span class="token builtin class-name">echo</span> -n <span class="token string">&quot;12345678&quot;</span>
<span class="token function">sleep</span> <span class="token number">2</span>
<span class="token builtin class-name">echo</span> -n <span class="token string">&quot;<span class="token variable">$rubout</span>&quot;</span>
<span class="token function">sleep</span> <span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h4 id="ctrl-i"><a href="#ctrl-i" class="header-anchor">#</a> Ctrl-I</h4> <p>水平制表符。</p> <h4 id="ctrl-j"><a href="#ctrl-j" class="header-anchor">#</a> Ctrl-J</h4> <p>另起一行（换行）。在脚本中，你也可使用八进制 '\012' 或者十六进制 '\x0a' 来表示。</p> <h4 id="ctrl-k"><a href="#ctrl-k" class="header-anchor">#</a> Ctrl-K</h4> <p>垂直制表符。</p> <p>当你在终端或 <em>xterm</em> 窗口中输入字符时，<code>Ctrl-K</code> 将会删除光标上及其后的所有字符。而在脚本中，<code>Ctrl-K</code> 的作用有些不同。具体查看下方 Lee Lee Maschmeyer 写的样例。</p> <h4 id="ctrl-l"><a href="#ctrl-l" class="header-anchor">#</a> Ctrl-L</h4> <p>清屏、走纸。在终端中等同于 <code>clear</code> 命令。在打印时，<code>Ctrl-L</code> 将会使纸张移动到底部。</p> <h4 id="ctrl-m"><a href="#ctrl-m" class="header-anchor">#</a> Ctrl-M</h4> <p>回车（CR）。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 感谢 Lee Maschmeyer 提供的样例。</span>

<span class="token builtin class-name">read</span> -n <span class="token number">1</span> -s -p <span class="token punctuation">\</span>
$<span class="token string">'Control-M leaves cursor at beginning of this line. Press Enter. <span class="token entity" title="\x0d">\x0d</span>'</span>
           <span class="token comment"># '0d' 是 Control-M 的十六进制的值</span>
<span class="token builtin class-name">echo</span> <span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;2</span>   <span class="token comment"># '-s' 参数禁用了回显，所以需要显式的另起一行。</span>

<span class="token builtin class-name">read</span> -n <span class="token number">1</span> -s -p $<span class="token string">'Control-J leaves cursor on next line. <span class="token entity" title="\x0a">\x0a</span>'</span>
           <span class="token comment"># '0a' 是 Control-J 换行符的十六进制的值</span>
<span class="token builtin class-name">echo</span> <span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;2</span>

<span class="token comment">###</span>

<span class="token builtin class-name">read</span> -n <span class="token number">1</span> -s -p $<span class="token string">'And Control-K<span class="token entity" title="\x0b">\x0b</span>goes straight down.'</span>
<span class="token builtin class-name">echo</span> <span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;2</span>   <span class="token comment"># Control-K 是垂直制表符。</span>

<span class="token comment"># 一个更好的垂直制表符例子是：</span>

<span class="token assign-left variable">var</span><span class="token operator">=</span>$<span class="token string">'<span class="token entity" title="\x0a">\x0a</span>This is the bottom line<span class="token entity" title="\x0b">\x0b</span>This is the top line<span class="token entity" title="\x0a">\x0a</span>'</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span>
<span class="token comment">#  这将会产生与上面的例子类似的结果。但是</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$var</span>&quot;</span> <span class="token operator">|</span> col
<span class="token comment">#  这却会使得右侧行高于左侧行。</span>
<span class="token comment">#  这也解释了为什么我们需要在行首和行尾加上换行符</span>
<span class="token comment">#  来避免显示的混乱。</span>

<span class="token comment"># Lee Maschmeyer 的解释：</span>
<span class="token comment"># --------------------------</span>
<span class="token comment">#  在第一个垂直制表符的例子中，垂直制表符使其</span>
<span class="token comment">#  在没有回车的情况下向下打印。</span>
<span class="token comment">#  这在那些不能回退的设备上，例如 Linux 的终端才可以。</span>
<span class="token comment">#  而垂直制表符的真正目的是向上而非向下。</span>
<span class="token comment">#  它可以用来在打印机中用来打印上标。</span>
<span class="token comment">#  col 工具可以用来模拟真实的垂直制表符行为。</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h4 id="ctrl-n"><a href="#ctrl-n" class="header-anchor">#</a> Ctrl-N</h4> <p>在命令行历史记录中调用下一条历史命令<sup class="footnote-ref"><a href="#footnote8">[8]</a><a id="footnote-ref8" class="footnote-anchor"></a></sup>。</p> <h4 id="ctrl-o"><a href="#ctrl-o" class="header-anchor">#</a> Ctrl-O</h4> <p>在命令行中另起一行。</p> <h4 id="ctrl-p"><a href="#ctrl-p" class="header-anchor">#</a> Ctrl-P</h4> <p>在命令行历史记录中调用上一条历史命令。</p> <h4 id="ctrl-q"><a href="#ctrl-q" class="header-anchor">#</a> Ctrl-Q</h4> <p>恢复（XON）。</p> <p>终端恢复读入 <em>stdin</em>。</p> <h4 id="ctrl-r"><a href="#ctrl-r" class="header-anchor">#</a> Ctrl-R</h4> <p>在命令行历史记录中进行搜索。</p> <h4 id="ctrl-s"><a href="#ctrl-s" class="header-anchor">#</a> Ctrl-S</h4> <p>挂起（XOFF）。</p> <p>终端冻结 <em>stdin</em>。（可以使用 <code>Ctrl-Q</code> 恢复）</p> <h4 id="ctrl-t"><a href="#ctrl-t" class="header-anchor">#</a> Ctrl-T</h4> <p>交换光标所在字符与其前一个字符。</p> <h4 id="ctrl-u"><a href="#ctrl-u" class="header-anchor">#</a> Ctrl-U</h4> <p>删除光标所在字符之前的所有字符。
在一些情况下，不管光标在哪个位置，<code>Ctrl-U</code> 都会删除整行文字。</p> <h4 id="ctrl-v"><a href="#ctrl-v" class="header-anchor">#</a> Ctrl-V</h4> <p>输入时，使用 <code>Ctrl-V</code> 允许插入控制字符。例如，下面两条语句是等价的：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> -e <span class="token string">'<span class="token entity" title="\x0a">\x0a</span>'</span>
<span class="token builtin class-name">echo</span> <span class="token operator">&lt;</span>Ctl-V<span class="token operator">&gt;</span><span class="token operator">&lt;</span>Ctl-J<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>Ctrl-V</code> 在文本编辑器中特别有用。</p> <h4 id="ctrl-w"><a href="#ctrl-w" class="header-anchor">#</a> Ctrl-W</h4> <p>当你在终端或 <em>xterm</em> 窗口中输入字符时，<code>Ctrl-W</code> 将会删除光标所在字符之前到其最近的空白符之间的所有字符。
在一些情况下，<code>Ctrl-W</code> 会删除到之前最近的非字母或数字的字符。</p> <h4 id="ctrl-x"><a href="#ctrl-x" class="header-anchor">#</a> Ctrl-X</h4> <p>在一些特定的文本处理程序中，剪切高亮文本并复制到剪贴板（clipboard）。</p> <h4 id="ctrl-y"><a href="#ctrl-y" class="header-anchor">#</a> Ctrl-Y</h4> <p>粘贴之前使用 <code>Ctrl-U</code> 或 <code>Ctrl-W</code> 删除的文字。</p> <h4 id="ctrl-z"><a href="#ctrl-z" class="header-anchor">#</a> Ctrl-Z</h4> <p>暂停当前运行的任务。</p> <p>在一些特定的文本处理程序中是替代操作。</p> <p>在 MSDOS 文件系统中作为 <code>EOF</code>（end-of-file，文件终止标记）。</p> <h3 id="空白符"><a href="#空白符" class="header-anchor">#</a> 空白符</h3> <p>作为命令或变量之间的分隔符。空白符包含空格、制表符、换行符或它们的任意组合。<sup class="footnote-ref"><a href="#footnote9">[9]</a><a id="footnote-ref9" class="footnote-anchor"></a></sup>在一些地方，比如变量赋值时，空白符不应该出现，否则会造成语法错误。</p> <p>空白行在脚本中不会有任何实际作用，但是可以划分代码，使代码更具可读性。</p> <p>特殊变量 <code>$IFS</code> 是作为一些特定命令的输入域（field）分隔符，默认值为空白符。</p> <blockquote><p>定义：域是字符串中离散的数据块。使用空白符或者指定的字符（通常由 <code>$IFS</code> 决定）来分隔临近域。在一些情况下，域也可以被称作记录（record）。</p></blockquote> <p>如果想在字符串或者变量中保留空白符，请引用。</p> <p>UNIX 过滤器可以使用 POSIX 字符类 <code>[:space:]</code> 来寻找和操作空白符。</p> <hr class="footnotes-sep"> <section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>操作符（operator）用来执行表达式（operation）。最常见的例子就是算术运算符+ - * /。在Bash中，操作符和关键字的概念有一些重叠。 <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li> <li id="footnote2" class="footnote-item"><p>它更被人熟知的名字是三元（ternary）操作符。但是读起来不清晰，而且容易令人混淆。trinary 是一种更加优雅的写法。 <a href="#footnote-ref2" class="footnote-backref">↩︎</a></p></li> <li id="footnote3" class="footnote-item"><p>美国信息交换标准代码（American Standard Code for Information Interchange）。这是一套可以由计算机存储和处理的7位（bit）字符（包含字母、数字和一系列有限的符号）编码系统。 <a href="#footnote-ref3" class="footnote-backref">↩︎</a></p></li> <li id="footnote4" class="footnote-item"><p>进程标识符（PID），是分配给正在运行进程的唯一数字标识。可以使用 <code>ps</code> 命令查看进程的 PID。&lt;br &gt;定义：进程是正在执行的命令或程序，通常也称作任务。 <a href="#footnote-ref4" class="footnote-backref">↩︎</a></p></li> <li id="footnote5" class="footnote-item"><p>由shell来执行大括号扩展操作。命令本身是在扩展的基础上进行操作的。 <a href="#footnote-ref5" class="footnote-backref">↩︎</a></p></li> <li id="footnote6" class="footnote-item"><p>例外：作为管道的一部分的大括号中的代码块可能会运行在子进程中。&lt;br &gt;<pre>ls | { read firstline; read secondline; }<br>#  错误。大括号中的代码块在子进程中运行，<br>#+ 因此 &quot;ls&quot; 命令输出的结果不能传递到代码块中。<br>echo &quot;First line is $firstline; second line is $secondline&quot;  # 无效。<br><br># 感谢 S.C.</pre> <a href="#footnote-ref6" class="footnote-backref">↩︎</a></p></li> <li id="footnote7" class="footnote-item"><p>正如在古代催情剂（philtre）被认为是一种能引发神奇变化的药剂一样，UNIX 中的过滤器（filter）也是有类似的作用的。<br>（如果一个程序员做出了一个能够在 Linux 设备上运行的 &quot;love philtre&quot;，那么他将会获得巨大的荣誉。） <a href="#footnote-ref7" class="footnote-backref">↩︎</a></p></li> <li id="footnote8" class="footnote-item"><p>Bash将之前在命令行中执行过的命令存储在缓存（buffer）中，或者一块内存区域里。可以使用内建命令 <code>history</code> 来查看。 <a href="#footnote-ref8" class="footnote-backref">↩︎</a></p></li> <li id="footnote9" class="footnote-item"><p>换行符本身也是一个空白符。因此这就是为什么仅仅包含一个换行符的空行也被认为是空白符。 <a href="#footnote-ref9" class="footnote-backref">↩︎</a></p></li></ol></section></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/clay-wangzhi/wiki/edit/master/src/code/shell/part2/03_special_characters.md" target="_blank" rel="noopener noreferrer">编辑此页</a></div> <div class="meta-item update-time"><span class="label">上次编辑于:</span> <span class="info">2021年5月11日 11:54</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/code/shell/part1/02_2_preliminary_exercises/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        2.2 牛刀小试
      </a></span> <span class="next"><a href="/code/shell/part2/04_1_variable_substitution/">
        4.1 变量替换
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <div class="comments-wrapper"><div class="valine-wrapper"><div id="valine"></div></div></div> </main> <footer class="footer-wrapper"><div class="media-links-wrapper"><a href="mailto:clay_wangzhi@163.com" rel="noopener noreferrer" target="_blank" aria-label="Email" data-balloon-pos="up" class="media-link"><span class="sr-only">Email</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-email"><path d="M0 512a512 512 0 101024 0A512 512 0 100 512z" fill="#1384FF"></path> <path d="M299.372 313.572H722.93c28.945 0 52.61 21.845 52.975 48.787L511.333 500.35 246.76 362.481c.182-27.003 23.666-48.97 52.611-48.97zm-52.671 101.702l-.243 244.121c0 27.186 23.848 49.395 52.914 49.395H722.93c29.127 0 52.975-22.21 52.975-49.395V415.152L517.522 546.71a13.957 13.957 0 01-12.682 0L246.7 415.274z" fill="#FFF"></path></svg></a></div> <!----> <div class="copyright">Copyright © 2021 Clay</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">该应用可以安装在您的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和您的操作系统安全地进行交互。</p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>详情</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        安装 <span></span></button> <button class="cancel-button">
        取消
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.2de3efa2.js" defer></script><script src="/assets/js/layout-Layout.17734499.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.88b09518.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.7cb31cd9.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout.8baa9875.js" defer></script><script src="/assets/js/page-第三章特殊字符.85757361.js" defer></script>
  </body>
</html>
